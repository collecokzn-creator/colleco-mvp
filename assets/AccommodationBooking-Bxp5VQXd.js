import{r as s,j as e}from"./index-BCXrhMbA.js";import{b as x}from"./client-DmVibFEL.js";function k(){const[l,u]=s.useState(""),[n,m]=s.useState(1),[r,d]=s.useState(0),[o,c]=s.useState(null),[a,h]=s.useState(null);async function b(t){t.preventDefault(),c("loading");try{const i=await x({hotelName:l,nights:Number(n),unitPrice:Number(r),currency:"ZAR",customer:{name:"Web User"}});c("ok"),h(i.checkout||null)}catch{c("error")}}return e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-xl font-bold mb-4",children:"Book Accommodation"}),e.jsxs("form",{onSubmit:b,className:"space-y-3 max-w-md",children:[e.jsxs("label",{className:"block",children:["Hotel name",e.jsx("input",{value:l,onChange:t=>u(t.target.value),className:"w-full p-2 border"})]}),e.jsxs("label",{className:"block",children:["Nights",e.jsx("input",{type:"number",value:n,onChange:t=>m(t.target.value),className:"w-full p-2 border"})]}),e.jsxs("label",{className:"block",children:["Price per night",e.jsx("input",{type:"number",value:r,onChange:t=>d(t.target.value),className:"w-full p-2 border"})]}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Book"})]}),o==="ok"&&a&&e.jsxs("div",{className:"mt-4",children:["Checkout: ",e.jsx("a",{href:a.checkoutUrl,children:a.checkoutUrl})]}),o==="ok"&&!a&&e.jsx("div",{className:"mt-4 text-green-700",children:"Booking confirmed (no payment required)"}),o==="error"&&e.jsx("div",{className:"mt-4 text-red-700",children:"Booking failed"})]})}export{k as default};
