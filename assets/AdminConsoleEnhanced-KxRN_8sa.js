import{d as u,E as v,G as N,k,o as w,j as e,r as m,m as d,F as C}from"./index-BCXrhMbA.js";import{A}from"./index-DfvYR5_6.js";const P=u("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),S=u("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),I=u("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);function T(t){t.values.forEach(a=>a.stop())}function j(t,a){[...a].reverse().forEach(i=>{const n=t.getVariant(i);n&&N(t,n),t.variantChildren&&t.variantChildren.forEach(o=>{j(o,a)})})}function B(t,a){if(Array.isArray(a))return j(t,a);if(typeof a=="string")return j(t,[a]);N(t,a)}function R(){const t=new Set,a={subscribe(r){return t.add(r),()=>void t.delete(r)},start(r,i){const n=[];return t.forEach(o=>{n.push(v(o,r,{transitionOverride:i}))}),Promise.all(n)},set(r){return t.forEach(i=>{B(i,r)})},stop(){t.forEach(r=>{T(r)})},mount(){return()=>{a.stop()}}};return a}function V(){const t=k(R);return w(t.mount,[]),t}const D=V,E=[{id:1,type:"Partner",message:"Beekman Holiday added 3 new units.",time:"2m ago"},{id:2,type:"Booking",message:"Nomsa Dlamini confirmed booking for Umhlanga Sands.",time:"10m ago"},{id:3,type:"Compliance",message:"Margate Retreats missing COI document.",time:"1h ago"}],M={Partner:"bg-brand-gold text-brand-russty",Booking:"bg-brand-orange text-white",Compliance:"bg-cream-hover text-brand-russty"},$=()=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-4",children:[e.jsx("h3",{className:"font-medium text-lg text-brand-russty mb-3",children:"Activity Feed"}),e.jsx("ul",{className:"space-y-3",children:E.map(t=>e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`px-3 py-1 rounded-xl text-xs font-bold ${M[t.type]}`,children:t.type}),e.jsx("span",{className:"text-sm text-brand-russty flex-1",children:t.message}),e.jsx("span",{className:"text-xs text-brand-russty opacity-50",children:t.time})]},t.id))})]}),q=[{id:1,title:"Top-Selling Destination",detail:"Durban Beach Resort (+12% growth)",highlight:!0},{id:2,title:"Smart Alert",detail:"3 partner listings need compliance updates.",highlight:!1}],z=()=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-4",children:[e.jsx("h3",{className:"font-medium text-lg text-brand-orange mb-3",children:"AI Insights"}),e.jsx("ul",{className:"space-y-3",children:q.map(t=>e.jsxs("li",{className:`p-3 rounded-xl ${t.highlight?"bg-brand-gold text-brand-orange font-bold":"bg-brand-gold/10 text-brand-gold"}`,children:[e.jsx("div",{className:"text-sm",children:t.title}),e.jsx("div",{className:"text-xs opacity-80",children:t.detail})]},t.id))})]}),l=[{key:"dashboard",roles:["admin","manager"]},{key:"partners",roles:["admin"]},{key:"bookings",roles:["admin","agent"]},{key:"compliance",roles:["admin","compliance"]},{key:"ai",roles:["admin"]},{key:"settings",roles:["admin"]}];function O({user:t,stats:a,bookings:r,partners:i}){const[n]=m.useState("dashboard"),[o,p]=m.useState([]),[h]=m.useState(!1),b=s=>{},f=s=>{};return e.jsxs("div",{className:"min-h-screen bg-cream p-4",children:[e.jsx("main",{className:"flex-1 bg-cream-sand rounded-2xl shadow-md p-6 border border-cream-border",children:e.jsx("div",{className:"flex items-center gap-4 mb-6",children:e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium text-brand-russty",children:t.name}),e.jsx("div",{className:"text-xs text-brand-russty/60",children:t.email})]})})}),e.jsxs(A,{mode:"wait",children:[n==="dashboard"&&l.find(s=>s.key==="dashboard"&&s.roles.includes(t.role))&&e.jsxs(d.section,{...c,children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-4",children:[e.jsx(g,{label:"Total Bookings",value:h?"...":a.bookings}),e.jsx(g,{label:"Active Partners",value:h?"...":a.partners}),e.jsx(g,{label:"Pending Approvals",value:h?"...":a.pendingApprovals}),e.jsx(g,{label:"Revenue (est.)",value:h?"...":a.revenue})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx(y,{title:"Recent Bookings",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-xs text-gray-500",children:[e.jsx("th",{className:"py-2",children:"ID"}),e.jsx("th",{children:"Guest"}),e.jsx("th",{children:"Property"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Total"}),e.jsx("th",{})]})}),e.jsx("tbody",{children:(r||[]).slice(0,6).map(s=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"py-2",children:s.id}),e.jsx("td",{children:s.guest}),e.jsx("td",{children:s.property}),e.jsx("td",{children:e.jsx("span",{className:`text-xs px-2 py-1 rounded ${s.status==="confirmed"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:s.status})}),e.jsx("td",{children:s.total}),e.jsx("td",{className:"text-right",children:s.status!=="confirmed"&&e.jsx("button",{onClick:()=>b(s.id),className:"text-xs px-2 py-1 rounded bg-brand-orange text-white hover:bg-brand-orange/90",children:"Confirm"})})]},s.id))})]})}),e.jsx(y,{title:"Compliance Alerts",children:e.jsx("div",{className:"text-xs text-gray-400",children:"No compliance alerts."})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[e.jsx($,{}),e.jsx(z,{})]})]},"dashboard"),n==="partners"&&l.find(s=>s.key==="partners"&&s.roles.includes(t.role))&&e.jsxs(d.section,{...c,children:[e.jsx("h2",{className:"text-lg font-semibold text-brand-russty mb-3",children:"Partners"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:i.map(s=>e.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Tier: ",s.tier]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Last Verified: ",s.lastVerified??"â€”"]})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:`text-sm px-2 py-1 rounded ${s.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:s.status})})]}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[s.status!=="active"&&e.jsx("button",{onClick:()=>f(s.id),className:"px-3 py-1 rounded bg-brand-orange text-white text-sm hover:bg-brand-orange/90",children:"Approve"}),e.jsx("button",{onClick:()=>p(x=>[...x,{id:Date.now(),text:`Requested details for ${s.name}`}]),className:"px-3 py-1 rounded border text-sm",children:"Request Info"}),e.jsx("button",{onClick:()=>p(x=>[...x,{id:Date.now(),text:`Opened partner profile ${s.name}`}]),className:"px-3 py-1 rounded bg-white text-sm",children:"Open"})]})]},s.id))})]},"partners"),n==="bookings"&&l.find(s=>s.key==="bookings"&&s.roles.includes(t.role))&&e.jsxs(d.section,{...c,children:[e.jsx("h2",{className:"text-lg font-semibold text-brand-russty mb-3",children:"Bookings"}),e.jsx("div",{className:"bg-white rounded shadow p-4",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-xs text-gray-500",children:[e.jsx("th",{className:"py-2",children:"Booking"}),e.jsx("th",{children:"Guest"}),e.jsx("th",{children:"Property"}),e.jsx("th",{children:"Check-in"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Total"}),e.jsx("th",{})]})}),e.jsx("tbody",{children:r.map(s=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"py-2",children:s.id}),e.jsx("td",{children:s.guest}),e.jsx("td",{children:s.property}),e.jsx("td",{children:s.checkin}),e.jsx("td",{children:e.jsx("span",{className:`text-xs px-2 py-1 rounded ${s.status==="confirmed"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:s.status})}),e.jsx("td",{children:s.total}),e.jsx("td",{className:"text-right",children:e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{onClick:()=>b(s.id),className:"text-xs px-2 py-1 rounded bg-brand-orange text-white hover:bg-brand-orange/90",children:"Confirm"}),e.jsx("button",{onClick:()=>p(x=>[...x,{id:Date.now(),text:`Viewing booking ${s.id}`}]),className:"text-xs px-2 py-1 rounded border",children:"View"})]})})]},s.id))})]})})]},"bookings"),n==="compliance"&&l.find(s=>s.key==="compliance"&&s.roles.includes(t.role))&&e.jsxs(d.section,{...c,children:[e.jsx("h2",{className:"text-lg font-semibold text-brand-russty mb-3",children:"Compliance Monitor"}),e.jsx("div",{className:"bg-white rounded shadow p-4",children:e.jsx("div",{className:"text-xs text-gray-400",children:"No compliance data available."})})]},"compliance"),n==="ai"&&l.find(s=>s.key==="ai"&&s.roles.includes(t.role))&&e.jsxs(d.section,{...c,children:[e.jsx("h2",{className:"text-lg font-semibold text-brand-russty mb-3",children:"Trip Assist Pro (Admin)"}),e.jsx("div",{className:"bg-white rounded shadow p-4 h-96",children:e.jsx("iframe",{src:"/trip-assist-widget",title:"Trip Assist Pro",className:"w-full h-full border rounded"})})]},"ai"),n==="settings"&&l.find(s=>s.key==="settings"&&s.roles.includes(t.role))&&e.jsxs(d.section,{...c,children:[e.jsx("h2",{className:"text-lg font-semibold text-brand-russty mb-3",children:"Settings"}),e.jsxs("div",{className:"bg-white rounded shadow p-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"System settings, integrations, and access control will live here."}),e.jsxs("div",{className:"mt-4 grid md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"border rounded p-3",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"API Keys"}),e.jsx("div",{className:"mt-2 text-sm",children:"Manage partner API credentials"})]}),e.jsxs("div",{className:"border rounded p-3",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Roles & Access"}),e.jsx("div",{className:"mt-2 text-sm",children:"Create roles (admin, partner, agent, client)"})]})]})]})]},"settings")]}),e.jsx("div",{className:"fixed right-6 bottom-6 space-y-2 w-80 z-50",children:o.map(s=>e.jsx("div",{className:"bg-white rounded shadow p-3 text-sm",children:s.text},s.id))})]})}const c={initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8}},F={"Total Bookings":e.jsx(C,{className:"text-blue-400",size:28}),"Active Partners":e.jsx(I,{className:"text-green-400",size:28}),"Pending Approvals":e.jsx(P,{className:"text-yellow-400",size:28}),"Revenue (est.)":e.jsx(S,{className:"text-emerald-400",size:28})};function g({label:t,value:a}){const r=D(),i=m.useRef(a);return m.useEffect(()=>{typeof a=="number"&&i.current!==a&&(r.start({number:a,transition:{duration:1,ease:"easeOut"}}),i.current=a)},[a,r]),e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex flex-col items-center gap-2 border-t-4",style:{borderTopColor:t==="Total Bookings"?"#60a5fa":t==="Active Partners"?"#34d399":t==="Pending Approvals"?"#fbbf24":"#10b981"},children:[e.jsx("div",{children:F[t]}),e.jsx(d.div,{className:"text-2xl font-bold text-brand-russty",animate:r,initial:{number:typeof a=="number"?a:0},children:typeof a=="number"?Math.round(a):a}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:t})]})}function y({title:t,children:a}){return e.jsxs("div",{className:"bg-white rounded shadow p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("h3",{className:"font-medium text-sm text-brand-russty",children:t})}),e.jsx("div",{children:a})]})}export{O as default};
