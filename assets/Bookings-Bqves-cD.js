import{j as e,r as a}from"./index-BCXrhMbA.js";import{A as x}from"./AutoSyncBanner-DqNHLe4-.js";import{L as d}from"./LiveStatCard-C5pcEP9z.js";import{F as h,P as b}from"./PaymentButton-Bhbv8eCk.js";import{l as j,t as p}from"./payments-B5qOTW8F.js";import{V as c}from"./VerifiedBadge-BsM4-vEb.js";import{l as f,i as u}from"./providersApi-HoWWQ-2N.js";import"./client-DmVibFEL.js";function v(){const i=j().slice().sort((t,r)=>(r.paidAt||0)-(t.paidAt||0));return i.length?e.jsx("div",{className:"text-brand-brown",children:e.jsx("ul",{className:"divide-y divide-cream-border",children:i.map(t=>e.jsxs("li",{className:"py-2 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-sm",children:["Payment ",t.id.slice(0,8)]}),e.jsx("div",{className:"text-xs text-brand-brown/70",children:new Date(t.paidAt).toLocaleString()})]}),e.jsxs("div",{className:"text-sm font-semibold",children:[t.amount.toFixed(2)," ",t.currency]})]},t.id))})}):e.jsx("div",{className:"text-sm text-brand-brown/70",children:"No payments yet."})}function B(){const[i,t]=a.useState([]),[r,m]=a.useState(!1);a.useEffect(()=>{(async()=>{try{const s=await f();t(s)}catch{}})()},[]);const n=new Set((i||[]).filter(s=>s.verified).map(s=>s.id)),l=a.useMemo(()=>[{name:"Sea View Hotel (2 nights)",amount:180,providerId:"hotel-123"},{name:"Table Mountain Hike",amount:60,providerId:"hike-789"}],[]),o=r&&u?l.filter(s=>s.providerId&&n.has(s.providerId)):l;return e.jsxs("div",{className:"px-6 py-8 text-brand-brown",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Bookings"}),e.jsx("p",{className:"mb-4 text-brand-brown/80",children:"All your confirmed items in one place — always up to date."}),e.jsx("div",{className:"mb-3",children:e.jsx(x,{message:"Bookings sync with partners automatically — no manual refresh needed."})}),e.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-6",children:[e.jsx(d,{title:"Upcoming",value:"—"}),e.jsx(d,{title:"Total paid",value:`$${p().toFixed(2)}`}),e.jsx(d,{title:"Changes pending",value:"—"})]}),e.jsxs("section",{className:"bg-cream-sand p-4 border border-cream-border rounded",children:[e.jsx("h3",{className:"font-bold mb-2",children:"Upcoming bookings"}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-brand-brown/70",children:"Toggle trusted providers to see verified-only options."}),e.jsxs("label",{className:"text-sm flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"accent-brand-orange",checked:r,onChange:s=>m(s.target.checked)}),e.jsx("span",{children:"Trusted providers only"})]})]}),e.jsxs("ul",{className:"text-sm space-y-2",children:[e.jsxs("li",{className:"rounded border border-cream-border bg-cream p-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold",children:["Sea View Hotel ",e.jsx(c,{verified:n.has("hotel-123")})]}),e.jsx("div",{className:"text-brand-brown/70",children:"Oct 1–3 · 2 nights"})]}),e.jsx("span",{className:"text-emerald-700 font-semibold",children:"Confirmed"})]}),e.jsxs("li",{className:"rounded border border-cream-border bg-cream p-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold",children:["Table Mountain Hike ",e.jsx(c,{verified:n.has("hike-789")})]}),e.jsx("div",{className:"text-brand-brown/70",children:"Oct 2 · 08:00"})]}),e.jsx("span",{className:"text-emerald-700 font-semibold",children:"Confirmed"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(h,{items:o,currency:"USD"})}),e.jsx("div",{className:"flex items-start",children:e.jsx(b,{items:o,currency:"USD"})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Payments history"}),e.jsx(v,{})]})]})]})}export{B as default};
