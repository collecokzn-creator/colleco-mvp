const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index.esm-BQShncNW.js","./index-BCXrhMbA.js","./index-BJeO5MPI.css","./unsupportedIterableToArray-4EWRbQKi.js","./defineProperty-CussRzss.js"])))=>i.map(i=>d[i]);
import{H as Ne,I as qe,r as T,j as e,L as U,_ as Be,R as V,J as ke,K as Me,O as Le}from"./index-BCXrhMbA.js";import{f as He,h as ze,s as Ue,g as We,b as $e,c as Ge,a as Ve}from"./client-DmVibFEL.js";var Ke=qe();const Je=Ne(Ke);function Q(c={threshold:.2,root:null,rootMargin:"0px"}){const t=T.useRef(null),[a,n]=T.useState(!1);return T.useEffect(()=>{if(!t.current||a||typeof IntersectionObserver>"u")return;const r=new IntersectionObserver(d=>{d.forEach(h=>{h.isIntersecting&&(n(!0),r.disconnect())})},c);return r.observe(t.current),()=>r.disconnect()},[c,a]),[t,a]}function Ze(){const c=[{id:"spring-safari",title:"Spring Safari Flash Sale",desc:"Save on 3‚Äì5 night lodge packages across Southern Africa.",discount:20,cta:{to:"/plan-trip?category=Safari&dest=Kruger",label:"Explore Safaris"}},{id:"city-long-weekend",title:"City Long‚ÄëWeekend Deals",desc:"Cape Town and Joburg hotel bundles with activity credits.",discount:15,cta:{to:"/plan-trip?category=Hotels&dest=Cape%20Town",label:"View City Deals"}},{id:"island-escape",title:"Island Escape Specials",desc:"All‚Äëinclusive Mauritius and Zanzibar stays for groups.",discount:18,cta:{to:"/plan-trip?category=Resort&dest=Zanzibar",label:"Plan Island Trip"}}];return e.jsxs("section",{className:"max-w-6xl mx-auto px-6 py-10 sm:py-12",children:[e.jsxs("div",{className:"flex items-end justify-between gap-3",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold",children:"Current promotions"}),e.jsx(U,{to:"/plan-trip",className:"text-brand-orange text-sm hover:underline",children:"See all"})]}),e.jsx("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:c.map(t=>e.jsxs("article",{className:"rounded-lg border border-cream-border bg-cream p-5 shadow-sm hover:shadow transition",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsx("h3",{className:"font-semibold text-lg leading-snug flex-1",children:t.title}),e.jsxs("span",{className:"shrink-0 inline-flex items-center rounded-md bg-brand-orange text-white text-xs font-semibold px-2 py-1",children:["-",t.discount,"%"]})]}),e.jsx("p",{className:"mt-2 text-sm text-brand-russty/80",children:t.desc}),e.jsx("div",{className:"mt-4",children:e.jsxs(U,{to:t.cta.to,className:"inline-flex items-center gap-2 px-4 py-2 rounded-md bg-brand-orange text-white text-sm font-semibold hover:bg-brand-orange/90",children:[t.cta.label,e.jsx("span",{"aria-hidden":!0,children:"‚Üí"})]})})]},t.id))})]})}function Ye(){const c=[{id:"cape-winelands-getaway",title:"Cape Town + Winelands Getaway",highlights:["Table Mountain","Stellenbosch tastings","Atlantic seaboard"],nights:4,priceFrom:899,to:"/plan-trip?dest=Cape%20Town&category=Tour"},{id:"kruger-big5-lodge",title:"Kruger Big 5 Lodge Stay",highlights:["Private game drives","Sundowners","Bush braai"],nights:3,priceFrom:1199,to:"/plan-trip?dest=Kruger&category=Safari"},{id:"zanzibar-group-retreat",title:"Zanzibar Group Beach Retreat",highlights:["Stone Town tour","Reef snorkelling","Spice farm"],nights:5,priceFrom:1290,to:"/plan-trip?dest=Zanzibar&category=Resort"}];return e.jsxs("section",{className:"max-w-6xl mx-auto px-6 py-10 sm:py-12",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-brand-orange",children:"Featured packages"}),e.jsx("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:c.map(t=>e.jsxs("article",{className:"rounded-lg border border-brand-gold bg-white p-5 shadow-sm hover:shadow transition",children:[e.jsx("h3",{className:"font-semibold text-lg leading-snug text-brand-orange",children:t.title}),e.jsx("ul",{className:"mt-2 text-sm text-brand-gold list-disc list-inside",children:t.highlights.map(a=>e.jsx("li",{children:a},a))}),e.jsxs("div",{className:"mt-3 text-sm text-brand-orange flex items-center gap-3",children:[e.jsxs("span",{className:"inline-flex items-center rounded bg-brand-gold/20 px-2 py-1 border border-brand-gold",children:[t.nights," nights"]}),e.jsxs("span",{className:"inline-flex items-center text-brand-gold",children:["From $",t.priceFrom," pp"]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs(U,{to:t.to,className:"inline-flex items-center gap-2 px-4 py-2 rounded-md bg-brand-orange text-white text-sm font-semibold hover:bg-brand-gold",children:["See details",e.jsx("span",{"aria-hidden":!0,children:"‚Üí"})]})})]},t.id))})]})}function Qe({startDate:c,endDate:t,onStartChange:a,onEndChange:n}){const[r,d]=T.useState(void 0),[h,k]=T.useState(null);T.useEffect(()=>{d(c||t?{from:c?new Date(c):void 0,to:t?new Date(t):void 0}:void 0)},[c,t]),T.useEffect(()=>{let f=!0;return(async()=>{try{const v=await Be(()=>import("./index.esm-BQShncNW.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url);if(!f)return;const p=v.DateRange||v.DateRangePicker||v.default&&(v.default.DateRange||v.default.DateRangePicker)||null;k(()=>p)}catch{f&&k(null)}})(),()=>{f=!1}},[]);const j=f=>{d(f),f&&f.from&&a(f.from.toISOString().slice(0,10)),f&&f.to&&n(f.to.toISOString().slice(0,10))},_=r&&r.from&&r.to?Math.max(0,Math.round((r.to-r.from)/(1e3*60*60*24))):0,S=f=>{const v=new Date;v.setDate(v.getDate()+7);const p=new Date(v);p.setDate(v.getDate()+f),j({from:v,to:p})};return e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:h?V.createElement(h,{mode:"range",defaultMonth:new Date,selected:r,onSelect:j}):V.createElement("div",null,[V.createElement("input",{key:"from-fallback",type:"date",value:r&&r.from?r.from.toISOString().slice(0,10):"",onChange:f=>j({from:new Date(f.target.value),to:r&&r.to})}),V.createElement("input",{key:"to-fallback",type:"date",value:r&&r.to?r.to.toISOString().slice(0,10):"",onChange:f=>j({from:r&&r.from,to:new Date(f.target.value)})})])}),e.jsxs("div",{className:"mt-2 flex items-center justify-between text-sm text-brand-brown/80",children:[e.jsxs("div",{children:["Stay: ",e.jsx("span",{className:"font-semibold",children:_})," night(s)"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>S(2),className:"text-xs px-2 py-1 rounded bg-cream hover:bg-cream-sand",children:"2 nights"}),e.jsx("button",{type:"button",onClick:()=>S(4),className:"text-xs px-2 py-1 rounded bg-cream hover:bg-cream-sand",children:"4 nights"}),e.jsx("button",{type:"button",onClick:()=>S(6),className:"text-xs px-2 py-1 rounded bg-cream hover:bg-cream-sand",children:"7 nights"})]})]})]})}var re={exports:{}},ne,pe;function Xe(){if(pe)return ne;pe=1;var c="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ne=c,ne}var ie,me;function et(){if(me)return ie;me=1;var c=Xe();function t(){}function a(){}return a.resetWarningCache=t,ie=function(){function n(h,k,j,_,S,f){if(f!==c){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function r(){return n}var d={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:a,resetWarningCache:t};return d.PropTypes=d,d},ie}var he;function tt(){return he||(he=1,re.exports=et()()),re.exports}/*!
* tabbable 5.3.3
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Te=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],te=Te.join(","),Se=typeof Element>"u",$=Se?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,oe=!Se&&Element.prototype.getRootNode?function(c){return c.getRootNode()}:function(c){return c.ownerDocument},Oe=function(t,a,n){var r=Array.prototype.slice.apply(t.querySelectorAll(te));return a&&$.call(t,te)&&r.unshift(t),r=r.filter(n),r},Ee=function c(t,a,n){for(var r=[],d=Array.from(t);d.length;){var h=d.shift();if(h.tagName==="SLOT"){var k=h.assignedElements(),j=k.length?k:h.children,_=c(j,!0,n);n.flatten?r.push.apply(r,_):r.push({scope:h,candidates:_})}else{var S=$.call(h,te);S&&n.filter(h)&&(a||!t.includes(h))&&r.push(h);var f=h.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(h),v=!n.shadowRootFilter||n.shadowRootFilter(h);if(f&&v){var p=c(f===!0?h.children:f.children,!0,n);n.flatten?r.push.apply(r,p):r.push({scope:h,candidates:p})}else d.unshift.apply(d,h.children)}}return r},_e=function(t,a){return t.tabIndex<0&&(a||/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||t.isContentEditable)&&isNaN(parseInt(t.getAttribute("tabindex"),10))?0:t.tabIndex},at=function(t,a){return t.tabIndex===a.tabIndex?t.documentOrder-a.documentOrder:t.tabIndex-a.tabIndex},De=function(t){return t.tagName==="INPUT"},rt=function(t){return De(t)&&t.type==="hidden"},nt=function(t){var a=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(n){return n.tagName==="SUMMARY"});return a},it=function(t,a){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===a)return t[n]},st=function(t){if(!t.name)return!0;var a=t.form||oe(t),n=function(k){return a.querySelectorAll('input[type="radio"][name="'+k+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=n(window.CSS.escape(t.name));else try{r=n(t.name)}catch(h){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",h.message),!1}var d=it(r,t.form);return!d||d===t},ot=function(t){return De(t)&&t.type==="radio"},ct=function(t){return ot(t)&&!st(t)},be=function(t){var a=t.getBoundingClientRect(),n=a.width,r=a.height;return n===0&&r===0},lt=function(t,a){var n=a.displayCheck,r=a.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var d=$.call(t,"details>summary:first-of-type"),h=d?t.parentElement:t;if($.call(h,"details:not([open]) *"))return!0;var k=oe(t).host,j=k?.ownerDocument.contains(k)||t.ownerDocument.contains(t);if(!n||n==="full"){if(typeof r=="function"){for(var _=t;t;){var S=t.parentElement,f=oe(t);if(S&&!S.shadowRoot&&r(S)===!0)return be(t);t.assignedSlot?t=t.assignedSlot:!S&&f!==t.ownerDocument?t=f.host:t=S}t=_}if(j)return!t.getClientRects().length}else if(n==="non-zero-area")return be(t);return!1},dt=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var a=t.parentElement;a;){if(a.tagName==="FIELDSET"&&a.disabled){for(var n=0;n<a.children.length;n++){var r=a.children.item(n);if(r.tagName==="LEGEND")return $.call(a,"fieldset[disabled] *")?!0:!r.contains(t)}return!0}a=a.parentElement}return!1},ae=function(t,a){return!(a.disabled||rt(a)||lt(a,t)||nt(a)||dt(a))},ce=function(t,a){return!(ct(a)||_e(a)<0||!ae(t,a))},ut=function(t){var a=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(a)||a>=0)},ft=function c(t){var a=[],n=[];return t.forEach(function(r,d){var h=!!r.scope,k=h?r.scope:r,j=_e(k,h),_=h?c(r.candidates):k;j===0?h?a.push.apply(a,_):a.push(k):n.push({documentOrder:d,tabIndex:j,item:r,isScope:h,content:_})}),n.sort(at).reduce(function(r,d){return d.isScope?r.push.apply(r,d.content):r.push(d.content),r},[]).concat(a)},Ce=function(t,a){a=a||{};var n;return a.getShadowRoot?n=Ee([t],a.includeContainer,{filter:ce.bind(null,a),flatten:!1,getShadowRoot:a.getShadowRoot,shadowRootFilter:ut}):n=Oe(t,a.includeContainer,ce.bind(null,a)),ft(n)},Re=function(t,a){a=a||{};var n;return a.getShadowRoot?n=Ee([t],a.includeContainer,{filter:ae.bind(null,a),flatten:!0,getShadowRoot:a.getShadowRoot}):n=Oe(t,a.includeContainer,ae.bind(null,a)),n},J=function(t,a){if(a=a||{},!t)throw new Error("No node provided");return $.call(t,te)===!1?!1:ce(a,t)},pt=Te.concat("iframe").join(","),ee=function(t,a){if(a=a||{},!t)throw new Error("No node provided");return $.call(t,pt)===!1?!1:ae(a,t)};const mt=Object.freeze(Object.defineProperty({__proto__:null,focusable:Re,isFocusable:ee,isTabbable:J,tabbable:Ce},Symbol.toStringTag,{value:"Module"}));/*!
* focus-trap 6.9.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function ve(c,t){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(c);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(c,r).enumerable})),a.push.apply(a,n)}return a}function ge(c){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ve(Object(a),!0).forEach(function(n){ht(c,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(a)):ve(Object(a)).forEach(function(n){Object.defineProperty(c,n,Object.getOwnPropertyDescriptor(a,n))})}return c}function ht(c,t,a){return t in c?Object.defineProperty(c,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):c[t]=a,c}var ye=(function(){var c=[];return{activateTrap:function(a){if(c.length>0){var n=c[c.length-1];n!==a&&n.pause()}var r=c.indexOf(a);r===-1||c.splice(r,1),c.push(a)},deactivateTrap:function(a){var n=c.indexOf(a);n!==-1&&c.splice(n,1),c.length>0&&c[c.length-1].unpause()}}})(),bt=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},vt=function(t){return t.key==="Escape"||t.key==="Esc"||t.keyCode===27},gt=function(t){return t.key==="Tab"||t.keyCode===9},xe=function(t){return setTimeout(t,0)},we=function(t,a){var n=-1;return t.every(function(r,d){return a(r)?(n=d,!1):!0}),n},K=function(t){for(var a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];return typeof t=="function"?t.apply(void 0,n):t},X=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},yt=function(t,a){var n=a?.document||document,r=ge({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},a),d={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},h,k=function(l,o,s){return l&&l[o]!==void 0?l[o]:r[s||o]},j=function(l){return d.containerGroups.findIndex(function(o){var s=o.container,b=o.tabbableNodes;return s.contains(l)||b.find(function(g){return g===l})})},_=function(l){var o=r[l];if(typeof o=="function"){for(var s=arguments.length,b=new Array(s>1?s-1:0),g=1;g<s;g++)b[g-1]=arguments[g];o=o.apply(void 0,b)}if(o===!0&&(o=void 0),!o){if(o===void 0||o===!1)return o;throw new Error("`".concat(l,"` was specified but was not a node, or did not return a node"))}var N=o;if(typeof o=="string"&&(N=n.querySelector(o),!N))throw new Error("`".concat(l,"` as selector refers to no known node"));return N},S=function(){var l=_("initialFocus");if(l===!1)return!1;if(l===void 0)if(j(n.activeElement)>=0)l=n.activeElement;else{var o=d.tabbableGroups[0],s=o&&o.firstTabbableNode;l=s||_("fallbackFocus")}if(!l)throw new Error("Your focus-trap needs to have at least one focusable element");return l},f=function(){if(d.containerGroups=d.containers.map(function(l){var o=Ce(l,r.tabbableOptions),s=Re(l,r.tabbableOptions);return{container:l,tabbableNodes:o,focusableNodes:s,firstTabbableNode:o.length>0?o[0]:null,lastTabbableNode:o.length>0?o[o.length-1]:null,nextTabbableNode:function(g){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,D=s.findIndex(function(O){return O===g});if(!(D<0))return N?s.slice(D+1).find(function(O){return J(O,r.tabbableOptions)}):s.slice(0,D).reverse().find(function(O){return J(O,r.tabbableOptions)})}}}),d.tabbableGroups=d.containerGroups.filter(function(l){return l.tabbableNodes.length>0}),d.tabbableGroups.length<=0&&!_("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},v=function m(l){if(l!==!1&&l!==n.activeElement){if(!l||!l.focus){m(S());return}l.focus({preventScroll:!!r.preventScroll}),d.mostRecentlyFocusedNode=l,bt(l)&&l.select()}},p=function(l){var o=_("setReturnFocus",l);return o||(o===!1?!1:l)},E=function(l){var o=X(l);if(!(j(o)>=0)){if(K(r.clickOutsideDeactivates,l)){h.deactivate({returnFocus:r.returnFocusOnDeactivate&&!ee(o,r.tabbableOptions)});return}K(r.allowOutsideClick,l)||l.preventDefault()}},C=function(l){var o=X(l),s=j(o)>=0;s||o instanceof Document?s&&(d.mostRecentlyFocusedNode=o):(l.stopImmediatePropagation(),v(d.mostRecentlyFocusedNode||S()))},A=function(l){var o=X(l);f();var s=null;if(d.tabbableGroups.length>0){var b=j(o),g=b>=0?d.containerGroups[b]:void 0;if(b<0)l.shiftKey?s=d.tabbableGroups[d.tabbableGroups.length-1].lastTabbableNode:s=d.tabbableGroups[0].firstTabbableNode;else if(l.shiftKey){var N=we(d.tabbableGroups,function(H){var z=H.firstTabbableNode;return o===z});if(N<0&&(g.container===o||ee(o,r.tabbableOptions)&&!J(o,r.tabbableOptions)&&!g.nextTabbableNode(o,!1))&&(N=b),N>=0){var D=N===0?d.tabbableGroups.length-1:N-1,O=d.tabbableGroups[D];s=O.lastTabbableNode}}else{var R=we(d.tabbableGroups,function(H){var z=H.lastTabbableNode;return o===z});if(R<0&&(g.container===o||ee(o,r.tabbableOptions)&&!J(o,r.tabbableOptions)&&!g.nextTabbableNode(o))&&(R=b),R>=0){var G=R===d.tabbableGroups.length-1?0:R+1,q=d.tabbableGroups[G];s=q.firstTabbableNode}}}else s=_("fallbackFocus");s&&(l.preventDefault(),v(s))},F=function(l){if(vt(l)&&K(r.escapeDeactivates,l)!==!1){l.preventDefault(),h.deactivate();return}if(gt(l)){A(l);return}},P=function(l){var o=X(l);j(o)>=0||K(r.clickOutsideDeactivates,l)||K(r.allowOutsideClick,l)||(l.preventDefault(),l.stopImmediatePropagation())},I=function(){if(d.active)return ye.activateTrap(h),d.delayInitialFocusTimer=r.delayInitialFocus?xe(function(){v(S())}):v(S()),n.addEventListener("focusin",C,!0),n.addEventListener("mousedown",E,{capture:!0,passive:!1}),n.addEventListener("touchstart",E,{capture:!0,passive:!1}),n.addEventListener("click",P,{capture:!0,passive:!1}),n.addEventListener("keydown",F,{capture:!0,passive:!1}),h},y=function(){if(d.active)return n.removeEventListener("focusin",C,!0),n.removeEventListener("mousedown",E,!0),n.removeEventListener("touchstart",E,!0),n.removeEventListener("click",P,!0),n.removeEventListener("keydown",F,!0),h};return h={get active(){return d.active},get paused(){return d.paused},activate:function(l){if(d.active)return this;var o=k(l,"onActivate"),s=k(l,"onPostActivate"),b=k(l,"checkCanFocusTrap");b||f(),d.active=!0,d.paused=!1,d.nodeFocusedBeforeActivation=n.activeElement,o&&o();var g=function(){b&&f(),I(),s&&s()};return b?(b(d.containers.concat()).then(g,g),this):(g(),this)},deactivate:function(l){if(!d.active)return this;var o=ge({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},l);clearTimeout(d.delayInitialFocusTimer),d.delayInitialFocusTimer=void 0,y(),d.active=!1,d.paused=!1,ye.deactivateTrap(h);var s=k(o,"onDeactivate"),b=k(o,"onPostDeactivate"),g=k(o,"checkCanReturnFocus"),N=k(o,"returnFocus","returnFocusOnDeactivate");s&&s();var D=function(){xe(function(){N&&v(p(d.nodeFocusedBeforeActivation)),b&&b()})};return N&&g?(g(p(d.nodeFocusedBeforeActivation)).then(D,D),this):(D(),this)},pause:function(){return d.paused||!d.active?this:(d.paused=!0,y(),this)},unpause:function(){return!d.paused||!d.active?this:(d.paused=!1,f(),I(),this)},updateContainerElements:function(l){var o=[].concat(l).filter(Boolean);return d.containers=o.map(function(s){return typeof s=="string"?n.querySelector(s):s}),d.active&&f(),this}},h.updateContainerElements(t),h};const xt=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:yt},Symbol.toStringTag,{value:"Module"})),wt=ke(xt),jt=ke(mt);var se,je;function Nt(){if(je)return se;je=1;function c(y){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},c(y)}function t(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function a(y,m){for(var l=0;l<m.length;l++){var o=m[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(y,o.key,o)}}function n(y,m,l){return m&&a(y.prototype,m),Object.defineProperty(y,"prototype",{writable:!1}),y}function r(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),m&&d(y,m)}function d(y,m){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,s){return o.__proto__=s,o},d(y,m)}function h(y){var m=_();return function(){var o=S(y),s;if(m){var b=S(this).constructor;s=Reflect.construct(o,arguments,b)}else s=o.apply(this,arguments);return k(this,s)}}function k(y,m){if(m&&(c(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(y)}function j(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function S(y){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},S(y)}function f(y,m,l){return m in y?Object.defineProperty(y,m,{value:l,enumerable:!0,configurable:!0,writable:!0}):y[m]=l,y}var v=Me(),p=tt(),E=wt,C=E.createFocusTrap,A=jt,F=A.isFocusable,P=(function(y){r(l,y);var m=h(l);function l(o){var s;t(this,l),s=m.call(this,o),f(j(s),"getNodeForOption",function(N){var D,O=(D=this.internalOptions[N])!==null&&D!==void 0?D:this.originalOptions[N];if(typeof O=="function"){for(var R=arguments.length,G=new Array(R>1?R-1:0),q=1;q<R;q++)G[q-1]=arguments[q];O=O.apply(void 0,G)}if(O===!0&&(O=void 0),!O){if(O===void 0||O===!1)return O;throw new Error("`".concat(N,"` was specified but was not a node, or did not return a node"))}var H=O;if(typeof O=="string"){var z;if(H=(z=this.getDocument())===null||z===void 0?void 0:z.querySelector(O),!H)throw new Error("`".concat(N,"` as selector refers to no known node"))}return H}),s.handleDeactivate=s.handleDeactivate.bind(j(s)),s.handlePostDeactivate=s.handlePostDeactivate.bind(j(s)),s.handleClickOutsideDeactivates=s.handleClickOutsideDeactivates.bind(j(s)),s.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:s.handleDeactivate,onPostDeactivate:s.handlePostDeactivate,clickOutsideDeactivates:s.handleClickOutsideDeactivates},s.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var b=o.focusTrapOptions;for(var g in b)if(Object.prototype.hasOwnProperty.call(b,g)){if(g==="returnFocusOnDeactivate"||g==="onDeactivate"||g==="onPostDeactivate"||g==="checkCanReturnFocus"||g==="clickOutsideDeactivates"){s.originalOptions[g]=b[g];continue}s.internalOptions[g]=b[g]}return s.outsideClick=null,s.focusTrapElements=o.containerElements||[],s.updatePreviousElement(),s}return n(l,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)}},{key:"getReturnFocusNode",value:function(){var s=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return s||(s===!1?!1:this.previouslyFocusedElement)}},{key:"updatePreviousElement",value:function(){var s=this.getDocument();s&&(this.previouslyFocusedElement=s.activeElement)}},{key:"deactivateTrap",value:function(){!this.focusTrap||!this.focusTrap.active||this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(s){var b=typeof this.originalOptions.clickOutsideDeactivates=="function"?this.originalOptions.clickOutsideDeactivates.call(null,s):this.originalOptions.clickOutsideDeactivates;return b&&(this.outsideClick={target:s.target,allowDeactivation:b}),b}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var s=this,b=function(){var N=s.getReturnFocusNode(),D=!!(s.originalOptions.returnFocusOnDeactivate&&N!==null&&N!==void 0&&N.focus&&(!s.outsideClick||s.outsideClick.allowDeactivation&&!F(s.outsideClick.target,s.internalOptions.tabbableOptions))),O=s.internalOptions.preventScroll,R=O===void 0?!1:O;D&&N.focus({preventScroll:R}),s.originalOptions.onPostDeactivate&&s.originalOptions.onPostDeactivate.call(null),s.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(b,b):b()}},{key:"setupFocusTrap",value:function(){if(this.focusTrap)this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause());else{var s=this.focusTrapElements.some(Boolean);s&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(s){if(this.focusTrap){s.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var b=!s.active&&this.props.active,g=s.active&&!this.props.active,N=!s.paused&&this.props.paused,D=s.paused&&!this.props.paused;if(b&&(this.updatePreviousElement(),this.focusTrap.activate()),g){this.deactivateTrap();return}N&&this.focusTrap.pause(),D&&this.focusTrap.unpause()}else s.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var s=this,b=this.props.children?v.Children.only(this.props.children):void 0;if(b){if(b.type&&b.type===v.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var g=function(O){var R=s.props.containerElements;b&&(typeof b.ref=="function"?b.ref(O):b.ref&&(b.ref.current=O)),s.focusTrapElements=R||[O]},N=v.cloneElement(b,{ref:g});return N}return null}}]),l})(v.Component),I=typeof Element>"u"?Function:Element;return P.propTypes={active:p.bool,paused:p.bool,focusTrapOptions:p.shape({document:p.object,onActivate:p.func,onPostActivate:p.func,checkCanFocusTrap:p.func,onDeactivate:p.func,onPostDeactivate:p.func,checkCanReturnFocus:p.func,initialFocus:p.oneOfType([p.instanceOf(I),p.string,p.bool,p.func]),fallbackFocus:p.oneOfType([p.instanceOf(I),p.string,p.func]),escapeDeactivates:p.oneOfType([p.bool,p.func]),clickOutsideDeactivates:p.oneOfType([p.bool,p.func]),returnFocusOnDeactivate:p.bool,setReturnFocus:p.oneOfType([p.instanceOf(I),p.string,p.bool,p.func]),allowOutsideClick:p.oneOfType([p.bool,p.func]),preventScroll:p.bool,tabbableOptions:p.shape({displayCheck:p.oneOf(["full","non-zero-area","none"]),getShadowRoot:p.oneOfType([p.bool,p.func])})}),containerElements:p.arrayOf(p.instanceOf(I)),children:p.oneOfType([p.element,p.instanceOf(I)])},P.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:C},se=P,se}var kt=Nt();const Tt=Ne(kt);function St({open:c,onClose:t}){const[a,n]=T.useState("accommodation"),[r,d]=T.useState(""),[h,k]=T.useState(""),[j,_]=T.useState(""),[S,f]=T.useState(""),[v,p]=T.useState(!1),[E,C]=T.useState(null),[A,F]=T.useState(null),[P,I]=T.useState("ZAR"),[y,m]=T.useState(1),[l,o]=T.useState("standard"),[s,b]=T.useState(null),[g,N]=T.useState(null),[D,O]=T.useState(1),[R,G]=T.useState(!1),[q,H]=T.useState(""),[z,Fe]=T.useState({}),le=T.useRef(null),de=T.useRef(null);T.useEffect(()=>{if(c)try{try{typeof window<"u"&&(window.__bookingMounted=!0)}catch{}const i=typeof document<"u"?document.querySelector("[data-modal-root]"):null;if(!i)return;try{i.setAttribute("data-modal-active","true"),i.style.pointerEvents="auto",i.style.zIndex=String(2147483646)}catch{}if(!i.querySelector("#booking-modal-title")){const u=document.createElement("h3");u.id="booking-modal-title",u.setAttribute("data-e2e-title","true"),u.className="text-lg font-semibold",u.textContent="Book Now",u.style.opacity="1",u.style.position="relative",u.style.pointerEvents="auto",i.appendChild(u);const x=document.createElement("button");x.setAttribute("data-e2e-close","true"),x.type="button",x.className="h-8 w-8 rounded-full",x.textContent="‚úï",x.style.position="relative",x.style.pointerEvents="auto",x.onclick=()=>{try{u.remove()}catch{}try{x.remove()}catch{}},i.appendChild(x),i.__e2e_title=u,i.__e2e_close=x}return()=>{try{i.__e2e_title&&(i.__e2e_title.remove(),delete i.__e2e_title)}catch{}try{i.__e2e_close&&(i.__e2e_close.remove(),delete i.__e2e_close)}catch{}try{i.removeAttribute("data-modal-active"),i.style.pointerEvents="none"}catch{}}}catch{return}},[c]);const Z=()=>{n("accommodation"),d(""),k(""),_(""),f(""),C(null),F(null)},ue=()=>{if(!r||!h)return 1;const i=Math.round((new Date(h)-new Date(r))/(1e3*60*60*24));return Math.max(1,i)},Pe=()=>{const i=parseFloat(S)||0,w=ue();return(i*w).toFixed(2)},Ae=async i=>{i.preventDefault(),F(null),p(!0);try{let w;if(a==="accommodation"){const u=r&&h?Math.max(1,Math.round((new Date(h)-new Date(r))/864e5)):1,x={hotelName:j||"Selected Hotel",nights:u,unitPrice:parseFloat(S)||0,currency:P,customer:{name:j},metadata:{guests:y},roomType:l};g&&g.id&&(x.holdId=g.id),r&&(x.startDate=r),h&&(x.endDate=h),w=await $e(x)}else if(a==="flight"){const u={from:"Unknown",to:j||"Destination",date:r||new Date().toISOString().slice(0,10),price:parseFloat(S)||0,currency:P,customer:{name:j},metadata:{passengers:D}};R&&q&&(u.returnFlight={from:j||"Destination",to:"Unknown",date:q,price:parseFloat(S)||0}),w=await Ge(u)}else{const u=r&&h?Math.max(1,Math.round((new Date(h)-new Date(r))/864e5)):1;w=await Ve({vehicleType:j||"Standard",days:u,pricePerDay:parseFloat(S)||0,currency:P,customer:{name:j},metadata:{passengers:D}})}C(w)}catch(w){if(w&&w.body)try{const u=typeof w.body=="string"?JSON.parse(w.body):w.body;if(u&&u.errors){const x=Object.entries(u.errors).map(([B,W])=>`${B}: ${W}`).join("; ");F(x)}else u&&u.message?F(u.message):F(JSON.stringify(u))}catch{F(String(w.body))}else F(w.message||String(w))}finally{p(!1)}};if(T.useEffect(()=>{const i=document.getElementById("root");let w=[];return c&&i&&Array.from(i.children).forEach(u=>{if(!(u&&u.getAttribute&&u.getAttribute("data-modal-root")==="true"))try{const x=u.getAttribute("aria-hidden");w.push({el:u,prev:x}),u.setAttribute("aria-hidden","true")}catch{}}),de.current=document.activeElement,()=>{try{w.forEach(({el:u,prev:x})=>{x===null?u.removeAttribute("aria-hidden"):u.setAttribute("aria-hidden",x)})}catch{}try{de.current?.focus?.()}catch{}}},[c]),T.useEffect(()=>()=>{try{const i=typeof document<"u"?document.querySelector("[data-modal-root]"):null;if(i&&i.__e2e_title){try{i.__e2e_title.remove()}catch{}try{delete i.__e2e_title}catch{}}if(i&&i.__e2e_close){try{i.__e2e_close.remove()}catch{}try{delete i.__e2e_close}catch{}}}catch{}},[]),T.useEffect(()=>{if(!c)try{const i=typeof document<"u"?document.querySelector("[data-modal-root]"):null;if(!i)return;if(i.__e2e_title){try{i.__e2e_title.remove()}catch{}try{delete i.__e2e_title}catch{}}if(i.__e2e_close){try{i.__e2e_close.remove()}catch{}try{delete i.__e2e_close}catch{}}}catch{}},[c]),T.useEffect(()=>{if(!c)return;const i=()=>{try{typeof window<"u"&&(window.__bookingMounted=!0)}catch{}},w=setTimeout(()=>{try{const u=le.current;if(!u)return;i();try{document.activeElement&&document.activeElement.blur&&document.activeElement.blur()}catch{}const x=u.querySelector("select, input, button, [tabindex]");x&&typeof x.focus=="function"?x.focus():typeof u.focus=="function"&&u.focus()}catch{}},80);return()=>{clearTimeout(w);try{typeof window<"u"&&delete window.__bookingMounted}catch{}}},[c]),!c)return null;const Ie={clickOutsideDeactivates:!0,escapeDeactivates:!0,onDeactivate:()=>{try{Z()}catch{}try{t&&t()}catch{}}},fe=e.jsx(Tt,{focusTrapOptions:Ie,children:e.jsxs("div",{className:"relative flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/40 transition-opacity","aria-hidden":!0,onClick:()=>{Z(),t()}}),e.jsxs("div",{ref:le,role:"dialog","aria-modal":"true","aria-labelledby":"booking-modal-title","aria-describedby":"booking-modal-desc",tabIndex:-1,className:"bg-white rounded-lg max-w-lg w-full mx-4 p-4 shadow-lg transform transition-all duration-200 ease-out scale-100",children:[e.jsxs("div",{role:"document",className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{id:"booking-modal-title","data-e2e-title":"true",className:"text-lg font-semibold",children:"Book Now"}),e.jsx("span",{id:"booking-modal-desc",className:"text-sm text-brand-brown/70",children:"‚Ä¢ quick booking"})]}),e.jsx("div",{className:"flex gap-2 items-center",children:e.jsx("button",{"data-e2e-close":"true",onClick:()=>{Z(),t()},"aria-label":"Close",title:"Close",className:"h-8 w-8 rounded-full hover:bg-cream-sand flex items-center justify-center",children:"‚úï"})})]}),e.jsxs("form",{onSubmit:Ae,className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Type"}),e.jsxs("select",{value:a,onChange:i=>n(i.target.value),className:"mt-1 block w-full rounded border px-2 py-1",children:[e.jsx("option",{value:"accommodation",children:"Accommodation"}),e.jsx("option",{value:"flight",children:"Flight"}),e.jsx("option",{value:"car",children:"Car Hire"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Name / Destination"}),e.jsx("input",{value:j,onChange:i=>_(i.target.value),className:"mt-1 block w-full rounded border px-2 py-1",placeholder:a==="flight"?"Destination or airline":"Hotel name / Vehicle type"})]}),e.jsx("div",{children:e.jsx(Qe,{startDate:r,endDate:h,onStartChange:d,onEndChange:k})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Currency"}),e.jsxs("select",{value:P,onChange:i=>I(i.target.value),className:"mt-1 block w-full rounded border px-2 py-1",children:[e.jsx("option",{children:"USD"}),e.jsx("option",{children:"ZAR"}),e.jsx("option",{children:"EUR"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Price (per unit)"}),e.jsx("input",{value:S,onChange:i=>f(i.target.value),className:"mt-1 block w-full rounded border px-2 py-1",placeholder:"0.00"})]})]}),a==="accommodation"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Guests"}),e.jsx("input",{type:"number",min:1,value:y,onChange:i=>m(Number(i.target.value||1)),className:"mt-1 block w-28 rounded border px-2 py-1"}),e.jsx("label",{className:"block text-sm font-medium mt-2",children:"Room type"}),e.jsxs("select",{value:l,onChange:i=>{o(i.target.value),b(null),N(null)},className:"mt-1 block w-48 rounded border px-2 py-1",children:[e.jsx("option",{value:"standard",children:"Standard"}),e.jsx("option",{value:"deluxe",children:"Deluxe"})]}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("button",{type:"button",onClick:async()=>{try{b("checking");const i=await He({roomType:l,startDate:r,endDate:h});b(i)}catch(i){b({ok:!1,error:i.message||String(i)})}},className:"px-3 py-2 border rounded",children:"Check availability"}),e.jsx("button",{type:"button",onClick:async()=>{try{N("creating");const i=await ze({roomType:l,startDate:r,endDate:h,qty:1,holdMinutes:10});N(i.hold)}catch(i){N({ok:!1,error:i.message||String(i)})}},className:"px-3 py-2 border rounded",children:"Create hold (10m)"})]}),s&&typeof s=="object"&&e.jsxs("div",{className:"mt-2 text-sm",children:["Availability: ",s.ok?"Available":`Not available (${s.error||JSON.stringify(s)})`]}),g&&typeof g=="object"&&g.id&&e.jsxs("div",{className:"mt-2 text-sm",children:["Hold created: ",e.jsx("strong",{children:g.id})," (expires ",new Date(g.expiresAt).toLocaleString(),")"]})]}),a==="flight"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Passengers"}),e.jsx("input",{type:"number",min:1,value:D,onChange:i=>O(Number(i.target.value||1)),className:"mt-1 block w-28 rounded border px-2 py-1"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"submit",disabled:v,className:"inline-flex items-center gap-2 px-4 py-2 bg-brand-orange text-white rounded shadow-sm hover:brightness-95 disabled:opacity-60",children:v?"Processing‚Ä¶":"Search & Book"}),e.jsx("button",{type:"button",onClick:()=>{Z()},className:"inline-flex items-center gap-2 px-3 py-2 border rounded text-sm text-brand-brown hover:bg-cream",children:"Reset"})]}),e.jsxs("div",{className:"text-sm text-brand-brown/80",children:["Est. total: ",e.jsxs("span",{className:"font-semibold",children:[P," ",Pe()]})]})]})]}),a==="flight"&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("label",{className:"inline-flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:R,onChange:i=>G(i.target.checked)})," Round-trip"]}),R&&e.jsxs("div",{className:"mt-2",children:[e.jsx("label",{className:"block text-sm font-medium",children:"Return Date"}),e.jsx("input",{type:"date",value:q,onChange:i=>H(i.target.value),className:"mt-1 block w-48 rounded border px-2 py-1"})]})]})]}),e.jsx("div",{"aria-live":"polite",className:"sr-only",children:A?`Error: ${A}`:E?"Booking created":""}),A&&e.jsxs("div",{className:"mt-3 text-sm text-red-600",children:["Error: ",A]}),E&&e.jsxs("div",{className:"mt-3 border-t pt-3",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Booking created"}),e.jsx("pre",{className:"text-xs mt-2 bg-gray-50 p-2 rounded overflow-auto",children:JSON.stringify(E,null,2)}),E.booking&&Array.isArray(E.booking.items)&&E.booking.items.filter(i=>i.type==="flight").map(i=>e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsxs("div",{className:"text-sm",children:[i.name," ‚Äî ",e.jsx("strong",{children:i.status||"Scheduled"})]}),e.jsx("button",{onClick:async()=>{if(z[i.id])return;const w=Ue(u=>{!u||!u.item||u.item.id===i.id&&C(x=>({...x,booking:{...x.booking,items:x.booking.items.map(B=>B.id===i.id?{...B,status:u.item.status}:B)}}))});Fe(u=>({...u,[i.id]:w}))},className:"px-2 py-1 border rounded text-sm",children:"Monitor flight"}),e.jsx("button",{onClick:async()=>{try{const w=await We(i.id);C(u=>({...u,booking:{...u.booking,items:u.booking.items.map(x=>x.id===i.id?{...x,status:w.item.status}:x)}}))}catch{}},className:"px-2 py-1 border rounded text-sm",children:"Refresh status"})]},i.id)),E.checkoutUrl&&e.jsx("div",{className:"mt-2",children:e.jsx("a",{href:E.checkoutUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-brand-brown text-white rounded",children:"Open Checkout"})})]})]})]})});try{const i=typeof document<"u"?document.querySelector("[data-modal-root]"):null;if(i){try{i.setAttribute("data-modal-active","true"),i.style.pointerEvents="auto",i.style.zIndex=String(2147483646)}catch{}try{if(typeof window<"u"&&(window.__E2E__||window.Cypress)&&!i.querySelector("#booking-modal-title")){const M=document.createElement("h3");M.id="booking-modal-title",M.setAttribute("data-e2e-title","true"),M.className="text-lg font-semibold",M.textContent="Book Now",M.style.opacity="1",M.style.position="relative",M.style.pointerEvents="auto",i.appendChild(M);const L=document.createElement("button");L.setAttribute("data-e2e-close","true"),L.type="button",L.className="h-8 w-8 rounded-full",L.textContent="‚úï",L.style.position="relative",L.style.pointerEvents="auto",L.onclick=()=>{try{M.remove()}catch{}try{L.remove()}catch{}try{delete i.__e2e_title}catch{}try{delete i.__e2e_close}catch{}try{typeof window<"u"&&delete window.__bookingMounted}catch{}},i.appendChild(L),i.__e2e_title=M,i.__e2e_close=L}}catch{}const w={pointerEvents:"auto",position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:2147483647,display:"flex",alignItems:"center",justifyContent:"center"},u=V.createElement("div",{style:w},fe),x=()=>{try{i.removeAttribute("data-modal-active")}catch{}try{i.style.pointerEvents="none"}catch{}};try{window&&window.addEventListener&&window.addEventListener("beforeunload",x)}catch{}const B=typeof document<"u"&&document.body?document.body:i;return Je.createPortal(u,B)}}catch{}return fe}function _t(){const[c,t]=T.useState(!1);V.useEffect(()=>{try{if(typeof window<"u"&&(window.__E2E__||window.Cypress)){const f=()=>{try{const v=document.querySelector("[data-modal-root]");if(!v)return;if(!v.querySelector("#booking-modal-title")){const E=document.createElement("h3");E.id="booking-modal-title",E.setAttribute("data-e2e-title","true"),E.className="text-lg font-semibold",E.textContent="Book Now",E.style.opacity="1",E.style.position="relative",E.style.pointerEvents="auto",v.appendChild(E);const C=document.createElement("button");C.setAttribute("data-e2e-close","true"),C.type="button",C.className="h-8 w-8 rounded-full",C.textContent="‚úï",C.style.position="relative",C.style.pointerEvents="auto",C.onclick=()=>{try{E.remove()}catch{}try{C.remove()}catch{}},v.appendChild(C),v.__e2e_title=E,v.__e2e_close=C}}catch{}};window.__openBooking=()=>{try{window.__openBookingCalled=!0}catch{}try{f()}catch{}t(!0)},window.__forceOpenBooking=()=>{try{window.__openBookingCalled=!0}catch{}try{f()}catch{}t(!0)}}}catch{}return()=>{try{typeof window<"u"&&delete window.__openBooking}catch{}try{typeof window<"u"&&delete window.__forceOpenBooking}catch{}}},[]);const[a,n]=Q({threshold:.3}),[r,d]=Q({threshold:.2}),[h,k]=Q({threshold:.2}),[j,_]=Q({threshold:.2}),S={"@context":"https://schema.org","@type":"Organization",name:"CollEco Travel",url:"https://www.collecotravel.com",logo:"https://www.collecotravel.com/logo.png"};return e.jsxs("div",{className:"bg-white text-brand-brown",children:[e.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(S)}}),e.jsx("section",{ref:a,className:`relative overflow-hidden bg-white px-6 pt-10 pb-14 sm:pt-12 sm:pb-20 rounded-b-xl shadow-sm border-white ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-2"} transition duration-700`,children:e.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black tracking-tight text-brand-brown",children:"Curated Adventures"}),e.jsx("p",{className:"mt-3 text-sm font-semibold uppercase tracking-[0.45em] text-brand-orange/80",children:"Business or Pleasure"}),e.jsx("p",{className:"mt-4 text-brand-brown/80 text-base sm:text-lg max-w-prose",children:"Making trip planning effortless for friends, teams, partners, and individuals who love to explore."}),e.jsxs("div",{className:"mt-5 flex flex-wrap gap-3",children:[e.jsxs(U,{to:"/plan-trip",className:"inline-flex items-center gap-2 px-5 py-2 rounded-md bg-brand-orange text-white font-semibold shadow hover:bg-brand-highlight",children:["Start Planning",e.jsx("span",{"aria-hidden":!0,children:"‚Üí"})]}),e.jsx(U,{to:"/ai",className:"inline-flex items-center gap-2 px-5 py-2 rounded-md border border-brand-brown text-brand-brown bg-white/80 hover:bg-white",children:"Try Trip Assist"}),e.jsx("button",{onClick:()=>t(!0),className:"inline-flex items-center gap-2 px-5 py-2 rounded-md border border-brand-brown text-brand-brown bg-white/80 hover:bg-white",children:"Book Now"})]}),e.jsx("p",{className:"mt-3 text-xs text-brand-brown/70",children:"No credit card required ¬∑ Free to get started"})]}),e.jsx("div",{className:"flex justify-center md:justify-end",children:e.jsx("div",{className:"relative h-48 w-48 sm:h-56 sm:w-56 md:h-64 md:w-64 rounded-full bg-white/70 ring-1 ring-cream-border shadow flex items-center justify-center",children:e.jsx("img",{src:Le,alt:"CollEco logo",className:"h-32 w-32 sm:h-40 sm:w-40 object-contain"})})})]})}),e.jsx("section",{className:"max-w-6xl mx-auto px-6 py-8 bg-white border-white",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"rounded-md border border-white bg-cream p-4 text-center",children:[e.jsx("div",{className:"font-semibold",children:"Secure Payments"}),e.jsx("div",{className:"text-brand-brown/80",children:"PCI-aware flows and trusted processors"})]}),e.jsxs("div",{className:"rounded-md border border-white bg-cream p-4 text-center",children:[e.jsx("div",{className:"font-semibold",children:"Reliable Platform"}),e.jsx("div",{className:"text-brand-brown/80",children:"Rate-limited APIs and safety guardrails"})]}),e.jsxs("div",{className:"rounded-md border border-white bg-cream p-4 text-center",children:[e.jsx("div",{className:"font-semibold",children:"Human Support"}),e.jsx("div",{className:"text-brand-brown/80",children:"We‚Äôre here when you need us"})]})]})}),e.jsxs("section",{className:"max-w-6xl mx-auto px-6 py-6 bg-white border-white",children:[e.jsx("div",{className:"text-center text-xs uppercase tracking-wider text-brand-brown/60",children:"Trusted by group organizers and partners"}),e.jsx("div",{className:"mt-3 flex flex-wrap justify-center gap-3",children:["SafariCo","CityTours","VoyagePlus","BeachLine","PeakGuides","NomadHub"].map(f=>e.jsx("span",{className:"px-3 py-1 rounded border border-cream-border bg-white/70 text-[11px] text-brand-brown/80",children:f},f))})]}),e.jsxs("section",{ref:r,className:`max-w-6xl mx-auto px-6 py-10 sm:py-14 ${d?"opacity-100 translate-y-0":"opacity-0 translate-y-2"} transition duration-700`,children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold",children:"Why CollEco"}),e.jsx("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:[{title:"AI Itineraries",desc:"Generate curated drafts in seconds; refine with your own style, budget and pace."},{title:"Quotes & Payments",desc:"Share quotes, collect deposits or full payments, and track balances securely."},{title:"Collaboration",desc:"Work with partners and travelers‚Äîcomments, approvals, and shared updates."},{title:"All-in-one",desc:"From discovery to booking‚Äîavoid tool sprawl and keep everything in sync."},{title:"Metrics & Insights",desc:"Keep an eye on conversion, spend, and latency‚Äîoptimize your flow."},{title:"Safe & Reliable",desc:"Session history, rate limits, and guardrails so things stay smooth."}].map(f=>e.jsxs("div",{className:"rounded-lg border border-cream-border bg-cream p-5 shadow-sm hover:shadow",children:[e.jsx("h3",{className:"font-semibold text-lg",children:f.title}),e.jsx("p",{className:"text-sm text-brand-brown/80 mt-1",children:f.desc})]},f.title))})]}),e.jsx(Ze,{}),e.jsx(Ye,{}),e.jsx("section",{ref:h,className:`bg-cream-sand/50 border-y border-cream-border px-6 py-10 sm:py-14 ${k?"opacity-100 translate-y-0":"opacity-0 translate-y-2"} transition duration-700`,children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold",children:"How it works"}),e.jsxs("ol",{className:"mt-6 grid sm:grid-cols-3 gap-5 list-decimal list-inside",children:[e.jsxs("li",{className:"rounded-md bg-white/70 border border-cream-border p-4",children:[e.jsx("div",{className:"font-semibold",children:"Plan"}),e.jsx("p",{className:"text-sm text-brand-brown/80",children:"Describe your trip, group size, budget, and vibe."})]}),e.jsxs("li",{className:"rounded-md bg-white/70 border border-cream-border p-4",children:[e.jsx("div",{className:"font-semibold",children:"Refine"}),e.jsx("p",{className:"text-sm text-brand-brown/80",children:"Tailor the itinerary with AI assist and partner input."})]}),e.jsxs("li",{className:"rounded-md bg-white/70 border border-cream-border p-4",children:[e.jsx("div",{className:"font-semibold",children:"Book"}),e.jsx("p",{className:"text-sm text-brand-brown/80",children:"Share quotes, collect payments, and confirm."})]})]})]})}),e.jsxs("section",{className:"max-w-6xl mx-auto px-6 py-10 sm:py-14",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center",children:"What organizers say"}),e.jsx("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-3 gap-5",children:[{quote:"We planned a 30-person retreat in days, not weeks. Payments and updates were seamless.",name:"Nadia M.",role:"Retreat Host"},{quote:"AI drafts got us 80% there instantly, then we fine-tuned the rest together.",name:"Thabo K.",role:"Travel Organizer"},{quote:"Vendors love the collaboration‚Äîfewer emails, clearer approvals, faster bookings.",name:"Lauren D.",role:"Group Leader"}].map((f,v)=>e.jsxs("blockquote",{className:"rounded-lg border border-cream-border bg-cream p-5 shadow-sm hover:shadow transition",children:[e.jsxs("p",{className:"text-sm text-brand-brown/90",children:["‚Äú",f.quote,"‚Äù"]}),e.jsxs("footer",{className:"mt-3 text-sm font-semibold text-brand-brown",children:[f.name," ",e.jsxs("span",{className:"font-normal text-brand-brown/70",children:["‚Äî ",f.role]})]})]},v))})]}),e.jsxs("section",{className:"max-w-6xl mx-auto px-6 py-10 sm:py-12",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold",children:"Popular right now"}),e.jsx("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:[{emoji:"üèñÔ∏è",name:"Zanzibar",blurb:"Island escape with spice markets and turquoise waters."},{emoji:"üåÜ",name:"Cape Town",blurb:"Table Mountain hikes, wine country, and coastline."},{emoji:"üêò",name:"Kruger",blurb:"Big Five safaris and unforgettable sunsets."},{emoji:"üèûÔ∏è",name:"Drakensberg",blurb:"Peaks, trails, and cozy lodges."},{emoji:"üèùÔ∏è",name:"Mauritius",blurb:"Resorts, reefs, and rum distilleries."},{emoji:"üèôÔ∏è",name:"Johannesburg",blurb:"Culture, cuisine, and vibrant neighborhoods."}].map(f=>e.jsxs("div",{className:"rounded-lg border border-cream-border bg-cream p-5 shadow-sm hover:shadow transition flex gap-3",children:[e.jsx("div",{className:"text-2xl shrink-0","aria-hidden":!0,children:f.emoji}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold",children:f.name}),e.jsx("p",{className:"text-sm text-brand-brown/80",children:f.blurb}),e.jsx("div",{className:"mt-3",children:e.jsxs(U,{to:`/plan-trip?dest=${encodeURIComponent(f.name)}`,className:"text-brand-orange hover:underline",children:["Plan ",f.name]})})]})]},f.name))})]}),e.jsx("section",{ref:j,className:`max-w-5xl mx-auto px-6 py-12 sm:py-16 ${_?"opacity-100 translate-y-0":"opacity-0 translate-y-2"} transition duration-700`,children:e.jsxs("div",{className:"rounded-xl bg-brand-brown text-white px-6 py-8 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 shadow",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold",children:"Ready to explore?"}),e.jsx("p",{className:"text-sm text-white/90",children:"Jump into the planner or let Trip Assist suggest a perfect first draft."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(U,{to:"/plan-trip",className:"inline-flex items-center gap-2 px-5 py-2 rounded-md bg-white text-brand-brown font-semibold hover:bg-cream",children:"Plan a Trip"}),e.jsx(U,{to:"/ai",className:"inline-flex items-center gap-2 px-5 py-2 rounded-md border border-white text-white hover:bg-white/10",children:"Try Trip Assist"}),e.jsx("button",{onClick:()=>t(!0),className:"inline-flex items-center gap-2 px-5 py-2 rounded-md bg-white text-brand-brown font-semibold hover:bg-cream",children:"Book Now"})]})]})}),e.jsx(St,{open:c,onClose:()=>t(!1)})]})}export{_t as default};
