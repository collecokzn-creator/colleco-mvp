import{c as y,r as c}from"./index-BCXrhMbA.js";function x(){const[o,s]=y("basket:v1",[]),d=c.useCallback(t=>{s(e=>t?.id?e.find(a=>a.id===t.id)?e.map(a=>a.id===t.id?{...a,quantity:(a.quantity||1)+1}:a):[...e,{...t,quantity:t.quantity||1,price:Number(t.price||0),day:t.day||1}]:e)},[s]),l=c.useCallback(t=>{s(e=>e.filter(n=>n.id!==t))},[s]),i=c.useCallback((t,e)=>{s(n=>n.map(a=>a.id===t?{...a,quantity:Math.max(1,e)}:a))},[s]),p=c.useCallback((t,e)=>{s(n=>n.map(a=>a.id===t?{...a,...e}:a))},[s]),k=c.useCallback((t,e)=>{s(n=>n.map(a=>a.id===t?{...a,day:Math.max(1,Number(e)||1)}:a))},[s]),b=c.useCallback(t=>{s(e=>{const n=new Map(e.map(u=>[u.id,u])),a=new Set,r=[];return t.forEach(u=>{n.has(u)&&(r.push(n.get(u)),a.add(u))}),e.forEach(u=>{a.has(u.id)||r.push(u)}),r})},[s]),f=c.useCallback(()=>s([]),[s]),m=o.filter(t=>Number(t.price)>0);return{basket:o,addToBasket:d,removeFromBasket:l,updateQuantity:i,updateItem:p,updateDay:k,reorderWithin:b,clearBasket:f,paidItems:m}}export{x as u};
