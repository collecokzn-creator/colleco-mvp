import{j as s,c as d,r as o}from"./index-BCXrhMbA.js";function f({steps:e=[]}){return s.jsxs("div",{className:"rounded border border-cream-border bg-cream p-3 text-brand-brown",children:[s.jsx("div",{className:"font-semibold mb-2",children:"Trip Progress"}),s.jsx("ul",{className:"space-y-1 text-sm",children:e.map((t,r)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`inline-block h-2.5 w-2.5 rounded-full ${t.done?"bg-emerald-500":"bg-brand-orange"}`}),s.jsx("span",{className:t.done?"text-brand-brown":"text-brand-brown/80",children:t.label})]},r))}),s.jsx("p",{className:"text-[11px] text-brand-brown/60 mt-2",children:"Auto-updates as you add quotes, plan days, and confirm bookings."})]})}function b(){return d("trip",{days:{},memories:{}})}function p(e,t,r){const n=String(t);return{...e,memories:{...e.memories,[n]:r}}}function x(e,t=0){const r=Object.values(e?.days||{}).some(n=>n&&n.length>0);return[{label:"Select products (Basket)",done:t>0},{label:"Draft itinerary",done:r},{label:"Confirm bookings & pay",done:!1}]}function i(e,t=!0){const r=o.useRef(null),n=o.useRef(e);return o.useEffect(()=>{n.current=e},[e]),o.useEffect(()=>{if(!t)return;const a=u=>{r.current&&!r.current.contains(u.target)&&n.current()},c=setTimeout(()=>{document.addEventListener("mousedown",a),document.addEventListener("touchstart",a)},0);return()=>{clearTimeout(c),document.removeEventListener("mousedown",a),document.removeEventListener("touchstart",a)}},[t]),r}function m(e,t=!0){const r=o.useRef(e);o.useEffect(()=>{r.current=e},[e]),o.useEffect(()=>{if(!t)return;const n=a=>{a.key==="Escape"&&r.current()};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[t])}function E(e,t=!0){const r=i(e,t);return m(e,t),r}export{f as L,E as a,x as c,p as s,b as u};
