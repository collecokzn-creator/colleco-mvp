{"version":3,"file":"AdminBookings-NdyFHFu3.js","sources":["../../src/pages/AdminBookings.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { DollarSign, TrendingUp, Download, Filter, Calendar, FileText } from 'lucide-react';\r\nimport Button from '../components/ui/Button';\r\n\r\nexport default function AdminBookings() {\r\n  const [bookings, setBookings] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filters, setFilters] = useState({\r\n    supplierId: '',\r\n    paymentStatus: '',\r\n    dateFrom: '',\r\n    dateTo: ''\r\n  });\r\n  const [stats, setStats] = useState({\r\n    totalBookings: 0,\r\n    totalRevenue: 0,\r\n    totalCommission: 0,\r\n    pendingPayments: 0\r\n  });\r\n\r\n  const loadBookings = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      // Build query string from filters\r\n      const params = new URLSearchParams();\r\n      if (filters.supplierId) params.append('supplierId', filters.supplierId);\r\n      if (filters.paymentStatus) params.append('paymentStatus', filters.paymentStatus);\r\n      if (filters.dateFrom) params.append('dateFrom', filters.dateFrom);\r\n      if (filters.dateTo) params.append('dateTo', filters.dateTo);\r\n\r\n      const response = await fetch(`/api/admin/bookings?${params.toString()}`);\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setBookings(data.bookings || []);\r\n        calculateStats(data.bookings || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load bookings:', error);\r\n    }\r\n    setLoading(false);\r\n  }, [filters.supplierId, filters.paymentStatus, filters.dateFrom, filters.dateTo]);\r\n\r\n  useEffect(() => {\r\n    loadBookings();\r\n  }, [loadBookings]);\r\n\r\n  function calculateStats(bookings) {\r\n    const stats = bookings.reduce((acc, booking) => {\r\n      acc.totalBookings++;\r\n      acc.totalRevenue += booking.pricing.subtotal;\r\n      acc.totalCommission += booking.pricing.commissionAmount;\r\n      if (booking.paymentStatus === 'pending') {\r\n        acc.pendingPayments += booking.pricing.total;\r\n      }\r\n      return acc;\r\n    }, {\r\n      totalBookings: 0,\r\n      totalRevenue: 0,\r\n      totalCommission: 0,\r\n      pendingPayments: 0\r\n    });\r\n    setStats(stats);\r\n  }\r\n\r\n  async function exportToCSV() {\r\n    try {\r\n      const response = await fetch('/api/admin/bookings/export', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(filters)\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const blob = await response.blob();\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = `bookings-export-${new Date().toISOString().split('T')[0]}.csv`;\r\n        a.click();\r\n        window.URL.revokeObjectURL(url);\r\n      }\r\n    } catch (error) {\r\n      console.error('Export failed:', error);\r\n      alert('Failed to export bookings');\r\n    }\r\n  }\r\n\r\n  async function downloadInvoice(bookingId) {\r\n    try {\r\n      const response = await fetch(`/api/invoices/${bookingId}/download`);\r\n      if (response.ok) {\r\n        const blob = await response.blob();\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = `Invoice_${bookingId}.pdf`;\r\n        a.click();\r\n        window.URL.revokeObjectURL(url);\r\n      } else {\r\n        alert('Failed to download invoice');\r\n      }\r\n    } catch (error) {\r\n      console.error('Invoice download failed:', error);\r\n      alert('Failed to download invoice');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-cream min-h-screen p-6\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-brand-brown\">Bookings Management</h1>\r\n            <p className=\"text-sm text-gray-600\">Internal monitoring with full commission breakdown</p>\r\n          </div>\r\n          <Button onClick={exportToCSV} className=\"flex items-center gap-2\">\r\n            <Download className=\"h-4 w-4\" />\r\n            Export CSV\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Stats Cards */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\r\n          <div className=\"bg-white rounded-lg shadow-sm border border-cream-border p-4\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center\">\r\n                <Calendar className=\"h-5 w-5 text-blue-600\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-xs text-gray-600\">Total Bookings</p>\r\n                <p className=\"text-2xl font-bold text-brand-brown\">{stats.totalBookings}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-lg shadow-sm border border-cream-border p-4\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center\">\r\n                <DollarSign className=\"h-5 w-5 text-green-600\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-xs text-gray-600\">Total Revenue</p>\r\n                <p className=\"text-2xl font-bold text-brand-brown\">ZAR {stats.totalRevenue.toFixed(0)}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-lg shadow-sm border border-cream-border p-4\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center\">\r\n                <TrendingUp className=\"h-5 w-5 text-orange-600\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-xs text-gray-600\">CollEco Commission</p>\r\n                <p className=\"text-2xl font-bold text-brand-orange\">ZAR {stats.totalCommission.toFixed(0)}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-lg shadow-sm border border-cream-border p-4\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"w-10 h-10 rounded-full bg-yellow-100 flex items-center justify-center\">\r\n                <DollarSign className=\"h-5 w-5 text-yellow-600\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-xs text-gray-600\">Pending Payments</p>\r\n                <p className=\"text-2xl font-bold text-yellow-600\">ZAR {stats.pendingPayments.toFixed(0)}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Filters */}\r\n        <div className=\"bg-white rounded-lg shadow-sm border border-cream-border p-4 mb-6\">\r\n          <div className=\"flex items-center gap-2 mb-3\">\r\n            <Filter className=\"h-4 w-4 text-gray-600\" />\r\n            <h2 className=\"font-semibold text-brand-brown\">Filters</h2>\r\n          </div>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-3\">\r\n            <select\r\n              value={filters.supplierId}\r\n              onChange={e => setFilters({ ...filters, supplierId: e.target.value })}\r\n              className=\"border border-cream-border rounded-lg px-3 py-2 text-sm\"\r\n            >\r\n              <option value=\"\">All Suppliers</option>\r\n              <option value=\"beekman\">Beekman Holidays</option>\r\n              <option value=\"premier\">Premier Hotels</option>\r\n            </select>\r\n\r\n            <select\r\n              value={filters.paymentStatus}\r\n              onChange={e => setFilters({ ...filters, paymentStatus: e.target.value })}\r\n              className=\"border border-cream-border rounded-lg px-3 py-2 text-sm\"\r\n            >\r\n              <option value=\"\">All Statuses</option>\r\n              <option value=\"pending\">Pending</option>\r\n              <option value=\"completed\">Completed</option>\r\n              <option value=\"failed\">Failed</option>\r\n              <option value=\"refunded\">Refunded</option>\r\n            </select>\r\n\r\n            <input\r\n              type=\"date\"\r\n              value={filters.dateFrom}\r\n              onChange={e => setFilters({ ...filters, dateFrom: e.target.value })}\r\n              placeholder=\"From Date\"\r\n              className=\"border border-cream-border rounded-lg px-3 py-2 text-sm\"\r\n            />\r\n\r\n            <input\r\n              type=\"date\"\r\n              value={filters.dateTo}\r\n              onChange={e => setFilters({ ...filters, dateTo: e.target.value })}\r\n              placeholder=\"To Date\"\r\n              className=\"border border-cream-border rounded-lg px-3 py-2 text-sm\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Bookings Table */}\r\n        <div className=\"bg-white rounded-lg shadow-sm border border-cream-border overflow-hidden\">\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full\">\r\n              <thead className=\"bg-cream\">\r\n                <tr className=\"text-left text-xs font-semibold text-gray-700\">\r\n                  <th className=\"px-4 py-3\">Booking ID</th>\r\n                  <th className=\"px-4 py-3\">Property/Supplier</th>\r\n                  <th className=\"px-4 py-3\">Customer</th>\r\n                  <th className=\"px-4 py-3\">Check-in</th>\r\n                  <th className=\"px-4 py-3\">Type</th>\r\n                  <th className=\"px-4 py-3 text-right\">Base Price</th>\r\n                  <th className=\"px-4 py-3 text-right\">Commission</th>\r\n                  <th className=\"px-4 py-3 text-right\">Total</th>\r\n                  <th className=\"px-4 py-3\">Payment</th>\r\n                  <th className=\"px-4 py-3\">Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"divide-y divide-cream-border\">\r\n                {loading ? (\r\n                  <tr>\r\n                    <td colSpan=\"10\" className=\"px-4 py-8 text-center text-gray-500\">\r\n                      Loading bookings...\r\n                    </td>\r\n                  </tr>\r\n                ) : bookings.length === 0 ? (\r\n                  <tr>\r\n                    <td colSpan=\"10\" className=\"px-4 py-8 text-center text-gray-500\">\r\n                      No bookings found\r\n                    </td>\r\n                  </tr>\r\n                ) : (\r\n                  bookings.map(booking => (\r\n                    <tr key={booking.id} className=\"hover:bg-cream-50 text-sm\">\r\n                      <td className=\"px-4 py-3\">\r\n                        <span className=\"font-mono text-xs text-gray-600\">{booking.id}</span>\r\n                      </td>\r\n                      <td className=\"px-4 py-3\">\r\n                        <p className=\"font-semibold text-brand-brown\">{booking.metadata?.propertyName || 'N/A'}</p>\r\n                        <p className=\"text-xs text-gray-500 capitalize\">{booking.supplierId}</p>\r\n                      </td>\r\n                      <td className=\"px-4 py-3\">\r\n                        <p className=\"text-gray-700\">{booking.userId}</p>\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-gray-700\">{booking.checkInDate}</td>\r\n                      <td className=\"px-4 py-3\">\r\n                        <span className=\"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs\">\r\n                          {booking.bookingType}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-right text-gray-700\">\r\n                        ZAR {booking.pricing.subtotal.toFixed(2)}\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-right\">\r\n                        <span className=\"font-semibold text-green-600\">\r\n                          ZAR {booking.pricing.commissionAmount.toFixed(2)}\r\n                        </span>\r\n                        <p className=\"text-xs text-gray-500\">\r\n                          {booking.pricing.commissionPercent}% â€¢ {booking.commissionModel}\r\n                        </p>\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-right font-semibold text-brand-brown\">\r\n                        ZAR {booking.pricing.total.toFixed(2)}\r\n                      </td>\r\n                      <td className=\"px-4 py-3\">\r\n                        <span className={`px-2 py-1 rounded text-xs ${\r\n                          booking.paymentStatus === 'completed' ? 'bg-green-100 text-green-700' :\r\n                          booking.paymentStatus === 'pending' ? 'bg-yellow-100 text-yellow-700' :\r\n                          booking.paymentStatus === 'failed' ? 'bg-red-100 text-red-700' :\r\n                          'bg-gray-100 text-gray-700'\r\n                        }`}>\r\n                          {booking.paymentStatus}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-4 py-3\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <a\r\n                            href={`/admin/bookings/${booking.id}`}\r\n                            className=\"text-brand-orange hover:text-orange-600 text-xs font-semibold\"\r\n                          >\r\n                            Details\r\n                          </a>\r\n                          <button\r\n                            onClick={() => downloadInvoice(booking.id)}\r\n                            className=\"text-brand-orange hover:text-orange-600 flex items-center gap-1\"\r\n                            title=\"Download invoice PDF\"\r\n                          >\r\n                            <FileText className=\"h-4 w-4\" />\r\n                          </button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["useState","useCallback","useEffect","bookings","stats","jsxs","jsx"],"mappings":"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"}