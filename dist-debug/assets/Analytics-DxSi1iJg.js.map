{"version":3,"file":"Analytics-DxSi1iJg.js","sources":["../../src/utils/downloadTracker.js","../../src/utils/usageAnalytics.js","../../src/pages/Analytics.jsx"],"sourcesContent":["/**\r\n * Download Tracking System\r\n * \r\n * Tracks app downloads, installations, update metrics\r\n * Captures: region, device type, OS, source, timestamp, country\r\n * Supports: Android, iOS, Web PWA, Desktop\r\n */\r\n\r\nconst STORAGE_KEY = 'colleco.downloads.metrics';\r\nconst MAX_RECORDS = 10000; // Keep last 10k download records\r\n\r\n/**\r\n * Detect device type and OS information\r\n */\r\nfunction getDeviceInfo() {\r\n  const ua = navigator.userAgent;\r\n  \r\n  let deviceType = 'web';\r\n  let os = 'unknown';\r\n  let osVersion = '';\r\n  \r\n  // Detect OS\r\n  if (/Windows/.test(ua)) {\r\n    os = 'Windows';\r\n    osVersion = ua.match(/Windows NT ([\\d.]+)/)?.[1] || '';\r\n  } else if (/Macintosh/.test(ua)) {\r\n    os = 'macOS';\r\n    osVersion = ua.match(/Mac OS X ([\\d_]+)/)?.[1]?.replace(/_/g, '.') || '';\r\n  } else if (/Linux/.test(ua)) {\r\n    os = 'Linux';\r\n  } else if (/iPhone|iPad/.test(ua)) {\r\n    os = 'iOS';\r\n    osVersion = ua.match(/OS ([\\d_]+)/)?.[1]?.replace(/_/g, '.') || '';\r\n    deviceType = /iPhone/.test(ua) ? 'iPhone' : 'iPad';\r\n  } else if (/Android/.test(ua)) {\r\n    os = 'Android';\r\n    osVersion = ua.match(/Android ([\\d.]+)/)?.[1] || '';\r\n    deviceType = 'Android';\r\n  }\r\n  \r\n  // Detect browser\r\n  let browser = 'unknown';\r\n  if (/Chrome/.test(ua) && !/Chromium|Edg/.test(ua)) {\r\n    browser = 'Chrome';\r\n  } else if (/Safari/.test(ua) && !/Chrome/.test(ua)) {\r\n    browser = 'Safari';\r\n  } else if (/Firefox/.test(ua)) {\r\n    browser = 'Firefox';\r\n  } else if (/Edg/.test(ua)) {\r\n    browser = 'Edge';\r\n  } else if (/OPR/.test(ua)) {\r\n    browser = 'Opera';\r\n  }\r\n  \r\n  // Detect app vs web\r\n  const isWebApp = window.matchMedia('(display-mode: standalone)').matches;\r\n  const isPWA = 'caches' in window && 'serviceWorker' in navigator;\r\n  \r\n  return {\r\n    deviceType,\r\n    os,\r\n    osVersion,\r\n    browser,\r\n    isWebApp,\r\n    isPWA,\r\n    userAgent: ua.substring(0, 200) // Truncate for storage\r\n  };\r\n}\r\n\r\n/**\r\n * Get geolocation (IP-based or device location)\r\n */\r\nasync function getLocationInfo() {\r\n  try {\r\n    // Try to get from IP geolocation\r\n    const response = await fetch('https://ipapi.co/json/');\r\n    if (response.ok) {\r\n      const data = await response.json();\r\n      return {\r\n        country: data.country_name || 'Unknown',\r\n        countryCode: data.country_code || 'XX',\r\n        region: data.region || 'Unknown',\r\n        city: data.city || 'Unknown',\r\n        latitude: data.latitude,\r\n        longitude: data.longitude,\r\n        timezone: data.timezone || 'Unknown'\r\n      };\r\n    }\r\n  } catch (error) {\r\n    console.warn('Geolocation fetch failed:', error);\r\n  }\r\n  \r\n  return {\r\n    country: 'Unknown',\r\n    countryCode: 'XX',\r\n    region: 'Unknown',\r\n    city: 'Unknown',\r\n    latitude: null,\r\n    longitude: null,\r\n    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone\r\n  };\r\n}\r\n\r\n/**\r\n * Track app download/installation\r\n */\r\nexport async function trackDownload(source = 'direct') {\r\n  const downloadRecord = {\r\n    id: `dl_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n    timestamp: new Date().toISOString(),\r\n    source, // 'app-store', 'play-store', 'github', 'website', 'direct', 'referral'\r\n    device: getDeviceInfo(),\r\n    location: await getLocationInfo(),\r\n    version: '1.0.0', // Will be updated with actual version\r\n    downloadSize: 0, // To be filled by build process\r\n    duration: 0 // Download duration in ms\r\n  };\r\n  \r\n  // Store in localStorage\r\n  const records = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');\r\n  records.push(downloadRecord);\r\n  \r\n  // Keep only last N records\r\n  if (records.length > MAX_RECORDS) {\r\n    records.shift();\r\n  }\r\n  \r\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(records));\r\n  \r\n  // Send to backend if available\r\n  try {\r\n    await fetch('/api/analytics/downloads', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(downloadRecord)\r\n    }).catch(() => {}); // Fail silently\r\n  } catch (error) {\r\n    console.warn('Failed to send download tracking:', error);\r\n  }\r\n  \r\n  return downloadRecord;\r\n}\r\n\r\n/**\r\n * Track app installation/first launch\r\n */\r\nexport async function trackInstallation(installationType = 'first-launch') {\r\n  const hasLaunched = localStorage.getItem('colleco.app.launched');\r\n  \r\n  if (!hasLaunched) {\r\n    const installRecord = {\r\n      id: `inst_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n      timestamp: new Date().toISOString(),\r\n      type: installationType, // 'first-launch', 'update', 'reinstall'\r\n      device: getDeviceInfo(),\r\n      location: await getLocationInfo()\r\n    };\r\n    \r\n    localStorage.setItem('colleco.app.launched', new Date().toISOString());\r\n    localStorage.setItem('colleco.installation.record', JSON.stringify(installRecord));\r\n    \r\n    // Send to backend\r\n    try {\r\n      await fetch('/api/analytics/installations', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(installRecord)\r\n      }).catch(() => {});\r\n    } catch (error) {\r\n      console.warn('Failed to send installation tracking:', error);\r\n    }\r\n    \r\n    return installRecord;\r\n  }\r\n  \r\n  return null;\r\n}\r\n\r\n/**\r\n * Track app update\r\n */\r\nexport async function trackUpdate(fromVersion, toVersion) {\r\n  const updateRecord = {\r\n    id: `upd_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n    timestamp: new Date().toISOString(),\r\n    fromVersion,\r\n    toVersion,\r\n    device: getDeviceInfo()\r\n  };\r\n  \r\n  try {\r\n    await fetch('/api/analytics/updates', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(updateRecord)\r\n    }).catch(() => {});\r\n  } catch (error) {\r\n    console.warn('Failed to send update tracking:', error);\r\n  }\r\n  \r\n  return updateRecord;\r\n}\r\n\r\n/**\r\n * Get download statistics\r\n */\r\nexport function getDownloadStats() {\r\n  const records = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');\r\n  \r\n  if (records.length === 0) {\r\n    return {\r\n      totalDownloads: 0,\r\n      bySource: {},\r\n      byOS: {},\r\n      byCountry: {},\r\n      byRegion: {},\r\n      byDevice: {},\r\n      timeline: []\r\n    };\r\n  }\r\n  \r\n  const stats = {\r\n    totalDownloads: records.length,\r\n    bySource: {},\r\n    byOS: {},\r\n    byCountry: {},\r\n    byRegion: {},\r\n    byDevice: {},\r\n    byBrowser: {},\r\n    uniqueCountries: new Set(),\r\n    uniqueRegions: new Set(),\r\n    timeline: []\r\n  };\r\n  \r\n  // Aggregate by various dimensions\r\n  records.forEach(record => {\r\n    // By source\r\n    stats.bySource[record.source] = (stats.bySource[record.source] || 0) + 1;\r\n    \r\n    // By OS\r\n    const os = record.device.os;\r\n    stats.byOS[os] = (stats.byOS[os] || 0) + 1;\r\n    \r\n    // By device type\r\n    const deviceType = record.device.deviceType;\r\n    stats.byDevice[deviceType] = (stats.byDevice[deviceType] || 0) + 1;\r\n    \r\n    // By browser\r\n    const browser = record.device.browser;\r\n    stats.byBrowser[browser] = (stats.byBrowser[browser] || 0) + 1;\r\n    \r\n    // By country\r\n    const country = record.location.country;\r\n    stats.byCountry[country] = (stats.byCountry[country] || 0) + 1;\r\n    stats.uniqueCountries.add(country);\r\n    \r\n    // By region\r\n    const region = record.location.region;\r\n    stats.byRegion[region] = (stats.byRegion[region] || 0) + 1;\r\n    stats.uniqueRegions.add(region);\r\n  });\r\n  \r\n  stats.uniqueCountries = stats.uniqueCountries.size;\r\n  stats.uniqueRegions = stats.uniqueRegions.size;\r\n  \r\n  // Generate timeline (hourly aggregation for last 24 hours)\r\n  const now = Date.now();\r\n  const last24h = now - (24 * 60 * 60 * 1000);\r\n  const recent = records.filter(r => new Date(r.timestamp).getTime() > last24h);\r\n  \r\n  const timeline = {};\r\n  recent.forEach(record => {\r\n    const date = new Date(record.timestamp);\r\n    const hour = Math.floor(date.getTime() / (60 * 60 * 1000));\r\n    timeline[hour] = (timeline[hour] || 0) + 1;\r\n  });\r\n  \r\n  stats.timeline = Object.entries(timeline)\r\n    .map(([hour, count]) => ({\r\n      timestamp: new Date(parseInt(hour) * 60 * 60 * 1000).toISOString(),\r\n      downloads: count\r\n    }))\r\n    .sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp));\r\n  \r\n  return stats;\r\n}\r\n\r\n/**\r\n * Get downloads by date range\r\n */\r\nexport function getDownloadsByDateRange(startDate, endDate) {\r\n  const records = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');\r\n  const start = new Date(startDate).getTime();\r\n  const end = new Date(endDate).getTime();\r\n  \r\n  return records.filter(r => {\r\n    const time = new Date(r.timestamp).getTime();\r\n    return time >= start && time <= end;\r\n  });\r\n}\r\n\r\n/**\r\n * Get top download sources\r\n */\r\nexport function getTopDownloadSources(limit = 5) {\r\n  const stats = getDownloadStats();\r\n  return Object.entries(stats.bySource)\r\n    .sort(([, a], [, b]) => b - a)\r\n    .slice(0, limit)\r\n    .map(([source, count]) => ({ source, count }));\r\n}\r\n\r\n/**\r\n * Get top countries by downloads\r\n */\r\nexport function getTopDownloadCountries(limit = 10) {\r\n  const stats = getDownloadStats();\r\n  return Object.entries(stats.byCountry)\r\n    .sort(([, a], [, b]) => b - a)\r\n    .slice(0, limit)\r\n    .map(([country, count]) => ({ country, count }));\r\n}\r\n\r\n/**\r\n * Get device breakdown\r\n */\r\nexport function getDeviceBreakdown() {\r\n  const stats = getDownloadStats();\r\n  return {\r\n    byOS: stats.byOS,\r\n    byDevice: stats.byDevice,\r\n    byBrowser: stats.byBrowser\r\n  };\r\n}\r\n\r\n/**\r\n * Clear all download records\r\n */\r\nexport function clearDownloadRecords() {\r\n  localStorage.removeItem(STORAGE_KEY);\r\n}\r\n\r\n/**\r\n * Export download data as CSV\r\n */\r\nexport function exportDownloadsAsCSV() {\r\n  const records = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');\r\n  \r\n  if (records.length === 0) {\r\n    return '';\r\n  }\r\n  \r\n  const headers = [\r\n    'ID', 'Timestamp', 'Source', 'OS', 'Device Type', 'Browser',\r\n    'Country', 'Region', 'City', 'Latitude', 'Longitude'\r\n  ];\r\n  \r\n  const rows = records.map(r => [\r\n    r.id,\r\n    r.timestamp,\r\n    r.source,\r\n    r.device.os,\r\n    r.device.deviceType,\r\n    r.device.browser,\r\n    r.location.country,\r\n    r.location.region,\r\n    r.location.city,\r\n    r.location.latitude || '',\r\n    r.location.longitude || ''\r\n  ]);\r\n  \r\n  const csv = [\r\n    headers.join(','),\r\n    ...rows.map(r => r.map(v => `\"${v}\"`).join(','))\r\n  ].join('\\n');\r\n  \r\n  return csv;\r\n}\r\n\r\n/**\r\n * Download data as file\r\n */\r\nexport function downloadAsFile(filename = 'downloads.csv') {\r\n  const csv = exportDownloadsAsCSV();\r\n  const blob = new Blob([csv], { type: 'text/csv' });\r\n  const url = URL.createObjectURL(blob);\r\n  const a = document.createElement('a');\r\n  a.href = url;\r\n  a.download = filename;\r\n  document.body.appendChild(a);\r\n  a.click();\r\n  document.body.removeChild(a);\r\n  URL.revokeObjectURL(url);\r\n}\r\n\r\nexport default {\r\n  trackDownload,\r\n  trackInstallation,\r\n  trackUpdate,\r\n  getDownloadStats,\r\n  getDownloadsByDateRange,\r\n  getTopDownloadSources,\r\n  getTopDownloadCountries,\r\n  getDeviceBreakdown,\r\n  clearDownloadRecords,\r\n  exportDownloadsAsCSV,\r\n  downloadAsFile\r\n};\r\n","/**\r\n * App Usage Analytics System\r\n * \r\n * Tracks: feature usage, user sessions, time spent, user journey, conversions\r\n * Provides: real-time metrics, trends, user segments, feature adoption\r\n */\r\n\r\nconst SESSIONS_KEY = 'colleco.usage.sessions';\r\nconst EVENTS_KEY = 'colleco.usage.events';\r\nconst FEATURES_KEY = 'colleco.usage.features';\r\nconst MAX_RECORDS = 10000;\r\n\r\nlet currentSession = null;\r\nlet sessionStartTime = null;\r\n\r\n/**\r\n * Initialize new session\r\n */\r\nexport function startSession(userId = 'anonymous') {\r\n  const sessionId = `sess_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n  \r\n  currentSession = {\r\n    id: sessionId,\r\n    userId,\r\n    startTime: new Date().toISOString(),\r\n    endTime: null,\r\n    duration: 0,\r\n    pageViews: 0,\r\n    featureInteractions: [],\r\n    events: [],\r\n    source: document.referrer || 'direct'\r\n  };\r\n  \r\n  sessionStartTime = Date.now();\r\n  \r\n  // Store session\r\n  const sessions = JSON.parse(localStorage.getItem(SESSIONS_KEY) || '[]');\r\n  sessions.push(currentSession);\r\n  if (sessions.length > MAX_RECORDS) sessions.shift();\r\n  localStorage.setItem(SESSIONS_KEY, JSON.stringify(sessions));\r\n  \r\n  return currentSession;\r\n}\r\n\r\n/**\r\n * End current session\r\n */\r\nexport function endSession() {\r\n  if (!currentSession) return null;\r\n  \r\n  const duration = Date.now() - sessionStartTime;\r\n  currentSession.endTime = new Date().toISOString();\r\n  currentSession.duration = duration;\r\n  \r\n  // Update session\r\n  const sessions = JSON.parse(localStorage.getItem(SESSIONS_KEY) || '[]');\r\n  const index = sessions.findIndex(s => s.id === currentSession.id);\r\n  if (index >= 0) {\r\n    sessions[index] = currentSession;\r\n    localStorage.setItem(SESSIONS_KEY, JSON.stringify(sessions));\r\n  }\r\n  \r\n  const ended = currentSession;\r\n  currentSession = null;\r\n  sessionStartTime = null;\r\n  \r\n  return ended;\r\n}\r\n\r\n/**\r\n * Track page view\r\n */\r\nexport function trackPageView(pageName, metadata = {}) {\r\n  const event = {\r\n    id: `ev_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n    timestamp: new Date().toISOString(),\r\n    sessionId: currentSession?.id || 'no-session',\r\n    type: 'pageview',\r\n    page: pageName,\r\n    metadata,\r\n    duration: 0\r\n  };\r\n  \r\n  // Store event\r\n  const events = JSON.parse(localStorage.getItem(EVENTS_KEY) || '[]');\r\n  events.push(event);\r\n  if (events.length > MAX_RECORDS) events.shift();\r\n  localStorage.setItem(EVENTS_KEY, JSON.stringify(events));\r\n  \r\n  // Update session\r\n  if (currentSession) {\r\n    currentSession.pageViews++;\r\n  }\r\n  \r\n  return event;\r\n}\r\n\r\n/**\r\n * Track feature usage\r\n */\r\nexport function trackFeatureUsage(featureName, action = 'view', metadata = {}) {\r\n  const event = {\r\n    id: `ev_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n    timestamp: new Date().toISOString(),\r\n    sessionId: currentSession?.id || 'no-session',\r\n    type: 'feature',\r\n    feature: featureName,\r\n    action, // 'view', 'click', 'submit', 'complete', 'error'\r\n    metadata\r\n  };\r\n  \r\n  // Store event\r\n  const events = JSON.parse(localStorage.getItem(EVENTS_KEY) || '[]');\r\n  events.push(event);\r\n  if (events.length > MAX_RECORDS) events.shift();\r\n  localStorage.setItem(EVENTS_KEY, JSON.stringify(events));\r\n  \r\n  // Track feature usage stats\r\n  const features = JSON.parse(localStorage.getItem(FEATURES_KEY) || '{}');\r\n  if (!features[featureName]) {\r\n    features[featureName] = {\r\n      name: featureName,\r\n      views: 0,\r\n      clicks: 0,\r\n      submissions: 0,\r\n      completions: 0,\r\n      errors: 0,\r\n      lastUsed: null,\r\n      firstUsed: new Date().toISOString()\r\n    };\r\n  }\r\n  \r\n  features[featureName][action + 's'] = (features[featureName][action + 's'] || 0) + 1;\r\n  features[featureName].lastUsed = new Date().toISOString();\r\n  \r\n  localStorage.setItem(FEATURES_KEY, JSON.stringify(features));\r\n  \r\n  // Update session\r\n  if (currentSession) {\r\n    currentSession.featureInteractions.push({\r\n      feature: featureName,\r\n      action,\r\n      timestamp: event.timestamp\r\n    });\r\n  }\r\n  \r\n  return event;\r\n}\r\n\r\n/**\r\n * Track user conversion\r\n */\r\nexport function trackConversion(conversionType, value = 1, metadata = {}) {\r\n  const event = {\r\n    id: `ev_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n    timestamp: new Date().toISOString(),\r\n    sessionId: currentSession?.id || 'no-session',\r\n    type: 'conversion',\r\n    conversionType,\r\n    value,\r\n    metadata\r\n  };\r\n  \r\n  // Store event\r\n  const events = JSON.parse(localStorage.getItem(EVENTS_KEY) || '[]');\r\n  events.push(event);\r\n  if (events.length > MAX_RECORDS) events.shift();\r\n  localStorage.setItem(EVENTS_KEY, JSON.stringify(events));\r\n  \r\n  return event;\r\n}\r\n\r\n/**\r\n * Track user action (custom event)\r\n */\r\nexport function trackAction(actionName, metadata = {}) {\r\n  const event = {\r\n    id: `ev_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n    timestamp: new Date().toISOString(),\r\n    sessionId: currentSession?.id || 'no-session',\r\n    type: 'action',\r\n    action: actionName,\r\n    metadata\r\n  };\r\n  \r\n  // Store event\r\n  const events = JSON.parse(localStorage.getItem(EVENTS_KEY) || '[]');\r\n  events.push(event);\r\n  if (events.length > MAX_RECORDS) events.shift();\r\n  localStorage.setItem(EVENTS_KEY, JSON.stringify(events));\r\n  \r\n  return event;\r\n}\r\n\r\n/**\r\n * Get usage statistics\r\n */\r\nexport function getUsageStats(timeRange = 'all') {\r\n  const sessions = JSON.parse(localStorage.getItem(SESSIONS_KEY) || '[]');\r\n  const events = JSON.parse(localStorage.getItem(EVENTS_KEY) || '[]');\r\n  const features = JSON.parse(localStorage.getItem(FEATURES_KEY) || '{}');\r\n  \r\n  let filteredSessions = sessions;\r\n  let filteredEvents = events;\r\n  \r\n  // Apply time range filter\r\n  if (timeRange !== 'all') {\r\n    const now = Date.now();\r\n    let cutoff = 0;\r\n    \r\n    switch (timeRange) {\r\n      case '24h': cutoff = now - (24 * 60 * 60 * 1000); break;\r\n      case '7d': cutoff = now - (7 * 24 * 60 * 60 * 1000); break;\r\n      case '30d': cutoff = now - (30 * 24 * 60 * 60 * 1000); break;\r\n      case '90d': cutoff = now - (90 * 24 * 60 * 60 * 1000); break;\r\n    }\r\n    \r\n    filteredSessions = sessions.filter(s => new Date(s.startTime).getTime() > cutoff);\r\n    filteredEvents = events.filter(e => new Date(e.timestamp).getTime() > cutoff);\r\n  }\r\n  \r\n  // Calculate stats\r\n  const totalSessions = filteredSessions.length;\r\n  const avgSessionDuration = totalSessions > 0 \r\n    ? filteredSessions.reduce((sum, s) => sum + s.duration, 0) / totalSessions \r\n    : 0;\r\n  \r\n  const totalPageViews = filteredEvents.filter(e => e.type === 'pageview').length;\r\n  const avgPageViewsPerSession = totalSessions > 0 ? totalPageViews / totalSessions : 0;\r\n  \r\n  const totalConversions = filteredEvents.filter(e => e.type === 'conversion').length;\r\n  const conversionRate = totalSessions > 0 ? totalConversions / totalSessions : 0;\r\n  \r\n  const uniqueUsers = new Set(filteredSessions.map(s => s.userId)).size;\r\n  \r\n  // Feature adoption\r\n  const featureStats = Object.entries(features).map(([name, stats]) => ({\r\n    name,\r\n    ...stats,\r\n    adoptionRate: totalSessions > 0 ? stats.views / totalSessions : 0\r\n  }));\r\n  \r\n  return {\r\n    totalSessions,\r\n    totalPageViews,\r\n    totalConversions,\r\n    avgSessionDuration,\r\n    avgPageViewsPerSession,\r\n    conversionRate,\r\n    uniqueUsers,\r\n    featureStats,\r\n    timeRange\r\n  };\r\n}\r\n\r\n/**\r\n * Get feature adoption metrics\r\n */\r\nexport function getFeatureAdoption(timeRange = 'all') {\r\n  const stats = getUsageStats(timeRange);\r\n  \r\n  const adoption = stats.featureStats\r\n    .sort((a, b) => b.adoptionRate - a.adoptionRate)\r\n    .map(f => ({\r\n      feature: f.name,\r\n      views: f.views,\r\n      adoptionRate: (f.adoptionRate * 100).toFixed(2) + '%',\r\n      lastUsed: f.lastUsed,\r\n      firstUsed: f.firstUsed\r\n    }));\r\n  \r\n  return adoption;\r\n}\r\n\r\n/**\r\n * Get user journey (page flow)\r\n */\r\nexport function getUserJourney(sessionId) {\r\n  const events = JSON.parse(localStorage.getItem(EVENTS_KEY) || '[]');\r\n  \r\n  const journey = events\r\n    .filter(e => e.sessionId === sessionId && e.type === 'pageview')\r\n    .sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp))\r\n    .map(e => ({\r\n      page: e.page,\r\n      timestamp: e.timestamp,\r\n      metadata: e.metadata\r\n    }));\r\n  \r\n  return journey;\r\n}\r\n\r\n/**\r\n * Get conversion funnel\r\n */\r\nexport function getConversionFunnel() {\r\n  const events = JSON.parse(localStorage.getItem(EVENTS_KEY) || '[]');\r\n  \r\n  const conversions = {};\r\n  events\r\n    .filter(e => e.type === 'conversion')\r\n    .forEach(e => {\r\n      const type = e.conversionType;\r\n      conversions[type] = (conversions[type] || 0) + 1;\r\n    });\r\n  \r\n  return Object.entries(conversions)\r\n    .sort(([, a], [, b]) => b - a)\r\n    .map(([type, count]) => ({ conversionType: type, count }));\r\n}\r\n\r\n/**\r\n * Get top pages\r\n */\r\nexport function getTopPages(limit = 10) {\r\n  const events = JSON.parse(localStorage.getItem(EVENTS_KEY) || '[]');\r\n  \r\n  const pages = {};\r\n  events\r\n    .filter(e => e.type === 'pageview')\r\n    .forEach(e => {\r\n      pages[e.page] = (pages[e.page] || 0) + 1;\r\n    });\r\n  \r\n  return Object.entries(pages)\r\n    .sort(([, a], [, b]) => b - a)\r\n    .slice(0, limit)\r\n    .map(([page, views]) => ({ page, views }));\r\n}\r\n\r\n/**\r\n * Get bounce rate\r\n */\r\nexport function getBounceRate() {\r\n  const sessions = JSON.parse(localStorage.getItem(SESSIONS_KEY) || '[]');\r\n  \r\n  if (sessions.length === 0) return 0;\r\n  \r\n  const bounced = sessions.filter(s => s.pageViews <= 1).length;\r\n  return (bounced / sessions.length) * 100;\r\n}\r\n\r\n/**\r\n * Get average session duration\r\n */\r\nexport function getAverageSessionDuration() {\r\n  const sessions = JSON.parse(localStorage.getItem(SESSIONS_KEY) || '[]');\r\n  \r\n  if (sessions.length === 0) return 0;\r\n  \r\n  const totalDuration = sessions.reduce((sum, s) => sum + s.duration, 0);\r\n  return totalDuration / sessions.length;\r\n}\r\n\r\n/**\r\n * Get peak usage times\r\n */\r\nexport function getPeakUsageTimes() {\r\n  const events = JSON.parse(localStorage.getItem(EVENTS_KEY) || '[]');\r\n  \r\n  const hourly = {};\r\n  events.forEach(e => {\r\n    const date = new Date(e.timestamp);\r\n    const hour = date.getHours();\r\n    hourly[hour] = (hourly[hour] || 0) + 1;\r\n  });\r\n  \r\n  return Object.entries(hourly)\r\n    .map(([hour, count]) => ({ hour: parseInt(hour), count }))\r\n    .sort((a, b) => b.count - a.count);\r\n}\r\n\r\n/**\r\n * Get user retention rate\r\n */\r\nexport function getRetentionRate(days = 7) {\r\n  const sessions = JSON.parse(localStorage.getItem(SESSIONS_KEY) || '[]');\r\n  \r\n  if (sessions.length === 0) return 0;\r\n  \r\n  const userLastSeen = {};\r\n  sessions.forEach(s => {\r\n    const date = new Date(s.startTime).toDateString();\r\n    if (!userLastSeen[s.userId] || userLastSeen[s.userId] < date) {\r\n      userLastSeen[s.userId] = date;\r\n    }\r\n  });\r\n  \r\n  const now = new Date();\r\n  const cutoff = new Date(now.getTime() - days * 24 * 60 * 60 * 1000).toDateString();\r\n  \r\n  const retained = Object.values(userLastSeen).filter(date => date >= cutoff).length;\r\n  return (retained / Object.keys(userLastSeen).length) * 100;\r\n}\r\n\r\n/**\r\n * Export usage data as CSV\r\n */\r\nexport function exportUsageAsCSV() {\r\n  const events = JSON.parse(localStorage.getItem(EVENTS_KEY) || '[]');\r\n  \r\n  if (events.length === 0) return '';\r\n  \r\n  const headers = ['ID', 'Timestamp', 'Session ID', 'Type', 'Page/Feature', 'Action', 'Metadata'];\r\n  \r\n  const rows = events.map(e => [\r\n    e.id,\r\n    e.timestamp,\r\n    e.sessionId,\r\n    e.type,\r\n    e.page || e.feature || e.action || '',\r\n    e.action || '',\r\n    JSON.stringify(e.metadata || {})\r\n  ]);\r\n  \r\n  const csv = [\r\n    headers.join(','),\r\n    ...rows.map(r => r.map(v => `\"${String(v).replace(/\"/g, '\"\"')}\"`).join(','))\r\n  ].join('\\n');\r\n  \r\n  return csv;\r\n}\r\n\r\n/**\r\n * Clear usage data\r\n */\r\nexport function clearUsageData() {\r\n  localStorage.removeItem(SESSIONS_KEY);\r\n  localStorage.removeItem(EVENTS_KEY);\r\n  localStorage.removeItem(FEATURES_KEY);\r\n  currentSession = null;\r\n  sessionStartTime = null;\r\n}\r\n\r\nexport default {\r\n  startSession,\r\n  endSession,\r\n  trackPageView,\r\n  trackFeatureUsage,\r\n  trackConversion,\r\n  trackAction,\r\n  getUsageStats,\r\n  getFeatureAdoption,\r\n  getUserJourney,\r\n  getConversionFunnel,\r\n  getTopPages,\r\n  getBounceRate,\r\n  getAverageSessionDuration,\r\n  getPeakUsageTimes,\r\n  getRetentionRate,\r\n  exportUsageAsCSV,\r\n  clearUsageData\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useUser } from '../context/UserContext.jsx';\r\nimport { getDownloadStats, getTopDownloadCountries, getDeviceBreakdown } from '../utils/downloadTracker.js';\r\nimport { getUsageStats, getFeatureAdoption, getConversionFunnel, getTopPages } from '../utils/usageAnalytics.js';\r\n\r\nexport default function Analytics() {\r\n  const { user: _user } = useUser(); // _user reserved for future personalization of analytics\r\n  const [stats, setStats] = useState({\r\n    totalTrips: 0,\r\n    totalSpent: 0,\r\n    favoriteDestination: 'None',\r\n    upcomingTrips: 0,\r\n    completedTrips: 0\r\n  });\r\n  \r\n  const [downloadStats, setDownloadStats] = useState(null);\r\n  const [usageStats, setUsageStats] = useState(null);\r\n  const [featureAdoption, setFeatureAdoption] = useState([]);\r\n  const [conversionFunnel, setConversionFunnel] = useState([]);\r\n  const [topPages, setTopPages] = useState([]);\r\n  const [topCountries, setTopCountries] = useState([]);\r\n  const [deviceBreakdown, setDeviceBreakdown] = useState(null);\r\n  const [timeRange, setTimeRange] = useState('all');\r\n  const [activeTab, setActiveTab] = useState('user'); // 'user', 'downloads', 'usage'\r\n\r\n  useEffect(() => {\r\n    // Load analytics data from localStorage\r\n    const bookings = JSON.parse(localStorage.getItem('colleco.bookings') || '[]');\r\n    const travelHistory = JSON.parse(localStorage.getItem('colleco.travel.history') || '[]');\r\n    \r\n    const completed = travelHistory.length;\r\n    const upcoming = bookings.filter(b => b.status === 'confirmed' || b.status === 'pending').length;\r\n    const totalSpent = travelHistory.reduce((sum, trip) => sum + (trip.amount || 0), 0);\r\n    \r\n    // Find most visited destination\r\n    const destinations = {};\r\n    travelHistory.forEach(trip => {\r\n      const dest = trip.destination || 'Unknown';\r\n      destinations[dest] = (destinations[dest] || 0) + 1;\r\n    });\r\n    const favoriteDestination = Object.keys(destinations).length > 0\r\n      ? Object.keys(destinations).reduce((a, b) => destinations[a] > destinations[b] ? a : b)\r\n      : 'None';\r\n\r\n    setStats({\r\n      totalTrips: completed + upcoming,\r\n      totalSpent,\r\n      favoriteDestination,\r\n      upcomingTrips: upcoming,\r\n      completedTrips: completed\r\n    });\r\n    \r\n    // Load download tracking stats\r\n    const downloads = getDownloadStats();\r\n    setDownloadStats(downloads);\r\n    setTopCountries(getTopDownloadCountries(10));\r\n    setDeviceBreakdown(getDeviceBreakdown());\r\n    \r\n    // Load usage analytics\r\n    const usage = getUsageStats(timeRange);\r\n    setUsageStats(usage);\r\n    setFeatureAdoption(getFeatureAdoption(timeRange));\r\n    setConversionFunnel(getConversionFunnel());\r\n    setTopPages(getTopPages(10));\r\n  }, [timeRange]);\r\n\r\n  return (\r\n    <div className=\"overflow-x-hidden bg-cream min-h-screen\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 py-8\">\r\n        {/* Header */}\r\n        <div className=\"mb-6\">\r\n          <h1 className=\"text-3xl font-bold text-brand-brown\">CollEco Analytics Dashboard</h1>\r\n          <p className=\"text-brand-russty mt-2\">Track app performance, user engagement, and travel insights</p>\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"flex gap-4 mb-6 border-b border-gray-300\">\r\n          <button\r\n            onClick={() => setActiveTab('user')}\r\n            className={`px-4 py-2 font-medium ${activeTab === 'user' ? 'text-brand-orange border-b-2 border-brand-orange' : 'text-gray-600'}`}\r\n          >\r\n            User Travel\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveTab('downloads')}\r\n            className={`px-4 py-2 font-medium ${activeTab === 'downloads' ? 'text-brand-orange border-b-2 border-brand-orange' : 'text-gray-600'}`}\r\n          >\r\n            üì• Downloads\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveTab('usage')}\r\n            className={`px-4 py-2 font-medium ${activeTab === 'usage' ? 'text-brand-orange border-b-2 border-brand-orange' : 'text-gray-600'}`}\r\n          >\r\n            üìä Usage\r\n          </button>\r\n        </div>\r\n\r\n        {/* Time Range Selector */}\r\n        {(activeTab === 'downloads' || activeTab === 'usage') && (\r\n          <div className=\"mb-6 flex gap-2\">\r\n            <button onClick={() => setTimeRange('24h')} className={`px-3 py-1 rounded ${timeRange === '24h' ? 'bg-brand-orange text-white' : 'bg-white text-gray-700'}`}>24h</button>\r\n            <button onClick={() => setTimeRange('7d')} className={`px-3 py-1 rounded ${timeRange === '7d' ? 'bg-brand-orange text-white' : 'bg-white text-gray-700'}`}>7d</button>\r\n            <button onClick={() => setTimeRange('30d')} className={`px-3 py-1 rounded ${timeRange === '30d' ? 'bg-brand-orange text-white' : 'bg-white text-gray-700'}`}>30d</button>\r\n            <button onClick={() => setTimeRange('all')} className={`px-3 py-1 rounded ${timeRange === 'all' ? 'bg-brand-orange text-white' : 'bg-white text-gray-700'}`}>All</button>\r\n          </div>\r\n        )}\r\n\r\n        {/* USER TRAVEL TAB */}\r\n        {activeTab === 'user' && (\r\n          <>\r\n            {/* Stats Grid */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\r\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-600\">Total Trips</p>\r\n                    <p className=\"text-3xl font-bold text-brand-orange\">{stats.totalTrips}</p>\r\n                  </div>\r\n                  <div className=\"text-4xl\">‚úàÔ∏è</div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-600\">Total Spent</p>\r\n                    <p className=\"text-3xl font-bold text-brand-orange\">R {stats.totalSpent.toFixed(2)}</p>\r\n                  </div>\r\n                  <div className=\"text-4xl\">üí∞</div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-600\">Upcoming Trips</p>\r\n                    <p className=\"text-3xl font-bold text-brand-orange\">{stats.upcomingTrips}</p>\r\n                  </div>\r\n                  <div className=\"text-4xl\">üìÖ</div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-600\">Completed</p>\r\n                    <p className=\"text-3xl font-bold text-brand-russty\">{stats.completedTrips}</p>\r\n                  </div>\r\n                  <div className=\"text-4xl\">‚úÖ</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-gradient-to-r from-brand-orange to-brand-gold rounded-lg shadow-md p-6 mb-8 text-white\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p className=\"text-sm opacity-90\">Favorite Destination</p>\r\n                  <p className=\"text-4xl font-bold mt-2\">{stats.favoriteDestination}</p>\r\n                </div>\r\n                <div className=\"text-6xl\">üèñÔ∏è</div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {/* DOWNLOADS TAB */}\r\n        {activeTab === 'downloads' && downloadStats && (\r\n          <>\r\n            {/* Download Stats */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                <p className=\"text-sm text-gray-600\">Total Downloads</p>\r\n                <p className=\"text-3xl font-bold text-brand-orange\">{downloadStats.totalDownloads}</p>\r\n              </div>\r\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                <p className=\"text-sm text-gray-600\">Unique Countries</p>\r\n                <p className=\"text-3xl font-bold text-brand-orange\">{downloadStats.uniqueCountries}</p>\r\n              </div>\r\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                <p className=\"text-sm text-gray-600\">Unique Devices</p>\r\n                <p className=\"text-3xl font-bold text-brand-orange\">{downloadStats.uniqueDevices}</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Device & OS Breakdown */}\r\n            {deviceBreakdown && (\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n                {/* By OS */}\r\n                <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                  <h3 className=\"text-lg font-bold text-brand-brown mb-4\">Downloads by OS</h3>\r\n                  <div className=\"space-y-2\">\r\n                    {Object.entries(deviceBreakdown.byOS).map(([os, count]) => (\r\n                      <div key={os} className=\"flex justify-between items-center\">\r\n                        <span className=\"text-gray-700\">{os}</span>\r\n                        <span className=\"font-bold text-brand-orange\">{count}</span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* By Device */}\r\n                <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                  <h3 className=\"text-lg font-bold text-brand-brown mb-4\">Downloads by Device</h3>\r\n                  <div className=\"space-y-2\">\r\n                    {Object.entries(deviceBreakdown.byDevice).map(([device, count]) => (\r\n                      <div key={device} className=\"flex justify-between items-center\">\r\n                        <span className=\"text-gray-700\">{device}</span>\r\n                        <span className=\"font-bold text-brand-orange\">{count}</span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* By Browser */}\r\n                <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                  <h3 className=\"text-lg font-bold text-brand-brown mb-4\">Downloads by Browser</h3>\r\n                  <div className=\"space-y-2\">\r\n                    {Object.entries(deviceBreakdown.byBrowser).map(([browser, count]) => (\r\n                      <div key={browser} className=\"flex justify-between items-center\">\r\n                        <span className=\"text-gray-700\">{browser}</span>\r\n                        <span className=\"font-bold text-brand-orange\">{count}</span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* By Source */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\">\r\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                <h3 className=\"text-lg font-bold text-brand-brown mb-4\">Downloads by Source</h3>\r\n                <div className=\"space-y-2\">\r\n                  {Object.entries(downloadStats.bySource).map(([source, count]) => (\r\n                    <div key={source} className=\"flex justify-between items-center\">\r\n                      <span className=\"text-gray-700\">{source}</span>\r\n                      <span className=\"font-bold text-brand-orange\">{count}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Top Countries */}\r\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                <h3 className=\"text-lg font-bold text-brand-brown mb-4\">Top 10 Countries</h3>\r\n                <div className=\"space-y-2\">\r\n                  {topCountries.map(({ country, count }, idx) => (\r\n                    <div key={idx} className=\"flex justify-between items-center\">\r\n                      <span className=\"text-gray-700\">{country}</span>\r\n                      <span className=\"font-bold text-brand-orange\">{count}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {/* USAGE TAB */}\r\n        {activeTab === 'usage' && usageStats && (\r\n          <>\r\n            {/* Usage Stats */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\r\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                <p className=\"text-sm text-gray-600\">Sessions</p>\r\n                <p className=\"text-3xl font-bold text-brand-orange\">{usageStats.totalSessions}</p>\r\n              </div>\r\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                <p className=\"text-sm text-gray-600\">Page Views</p>\r\n                <p className=\"text-3xl font-bold text-brand-orange\">{usageStats.totalPageViews}</p>\r\n              </div>\r\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                <p className=\"text-sm text-gray-600\">Conversions</p>\r\n                <p className=\"text-3xl font-bold text-brand-orange\">{usageStats.totalConversions}</p>\r\n              </div>\r\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                <p className=\"text-sm text-gray-600\">Conversion Rate</p>\r\n                <p className=\"text-3xl font-bold text-brand-orange\">{(usageStats.conversionRate * 100).toFixed(1)}%</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Feature Adoption & Funnel */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\">\r\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                <h3 className=\"text-lg font-bold text-brand-brown mb-4\">Top Features by Adoption</h3>\r\n                <div className=\"space-y-2\">\r\n                  {featureAdoption.slice(0, 5).map((f, idx) => (\r\n                    <div key={idx} className=\"flex justify-between items-center\">\r\n                      <span className=\"text-gray-700\">{f.feature}</span>\r\n                      <span className=\"font-bold text-brand-orange\">{f.adoptionRate}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                <h3 className=\"text-lg font-bold text-brand-brown mb-4\">Conversion Funnel</h3>\r\n                <div className=\"space-y-2\">\r\n                  {conversionFunnel.slice(0, 5).map((c, idx) => (\r\n                    <div key={idx} className=\"flex justify-between items-center\">\r\n                      <span className=\"text-gray-700\">{c.conversionType}</span>\r\n                      <span className=\"font-bold text-brand-orange\">{c.count}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Top Pages */}\r\n            <div className=\"bg-white rounded-lg shadow-md p-6 mb-8\">\r\n              <h3 className=\"text-lg font-bold text-brand-brown mb-4\">Most Visited Pages</h3>\r\n              <div className=\"space-y-2\">\r\n                {topPages.map((p, idx) => (\r\n                  <div key={idx} className=\"flex justify-between items-center pb-2 border-b border-gray-200\">\r\n                    <span className=\"text-gray-700\">{p.page}</span>\r\n                    <span className=\"font-bold text-brand-orange\">{p.views} views</span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["useState","useEffect","jsxs","jsx","Fragment"],"mappings":"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"}