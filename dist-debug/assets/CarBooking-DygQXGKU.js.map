{"version":3,"file":"CarBooking-DygQXGKU.js","sources":["../../src/components/CarHireSelector.jsx","../../src/pages/CarBooking.jsx"],"sourcesContent":["/* eslint-disable no-unused-vars, react/no-unescaped-entities */\r\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { \r\n  Star, \r\n  DollarSign, \r\n  TrendingUp, \r\n  Car,\r\n  Shield, \r\n  Award,\r\n  Heart,\r\n  CheckCircle2,\r\n  Filter,\r\n  ArrowUpDown,\r\n  Fuel,\r\n  Gauge,\r\n  Users,\r\n  Luggage,\r\n  Snowflake,\r\n  Radio,\r\n  ChevronLeft,\r\n  ChevronRight\r\n} from 'lucide-react';\r\n\r\nexport default function CarHireSelector({ \r\n  pickupLocation,\r\n  dropoffLocation,\r\n  pickupDate,\r\n  dropoffDate,\r\n  onSelectCar,\r\n  onSkip,\r\n  onCancel \r\n}) {\r\n  // Local debug logger â€” enabled in dev or when `VITE_DEBUG_CARHIRE=1`\r\n  const _log = (level, ...args) => {\r\n    if (!(import.meta.env.DEV || import.meta?.env?.VITE_DEBUG_CARHIRE === '1')) return;\r\n    // eslint-disable-next-line no-console\r\n    if (level === 'error') console.error(...args);\r\n    // eslint-disable-next-line no-console\r\n    else if (level === 'warn') console.warn(...args);\r\n    // eslint-disable-next-line no-console\r\n    else console.log(...args);\r\n  };\r\n  const [cars, setCars] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  const [filterBy, setFilterBy] = useState('all'); // all, economy, compact, suv, luxury\r\n  const [sortBy, setSortBy] = useState('recommended'); // recommended, price_low, price_high, rating\r\n  const [favoriteCars, setFavoriteCars] = useState([]);\r\n  const [selectedCar, setSelectedCar] = useState(null);\r\n  const [preferredTransmission, setPreferredTransmission] = useState(''); // automatic, manual\r\n  const [preferredFuelType, setPreferredFuelType] = useState(''); // petrol, diesel, electric, hybrid\r\n  const [minSeats, setMinSeats] = useState(0);\r\n  const [requiredFeatures, setRequiredFeatures] = useState([]);\r\n  const [canScrollLeft, setCanScrollLeft] = useState(false);\r\n  const [canScrollRight, setCanScrollRight] = useState(false);\r\n  const scrollContainerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    fetchAvailableCars();\r\n    loadFavoriteCars();\r\n  }, [fetchAvailableCars, loadFavoriteCars]);\r\n\r\n  const fetchAvailableCars = useCallback(async () => {\r\n    setLoading(true);\r\n    const useDemo = (import.meta?.env?.VITE_DEMO_CARHIRE ?? '1') === '1';\r\n    setErrorMsg('');\r\n\r\n    const generateMockCars = () => {\r\n      const carData = [\r\n        { make: 'Toyota', model: 'Corolla', year: 2023, category: 'Compact', seats: 5, luggage: 2, transmission: 'Automatic', fuelType: 'Petrol' },\r\n        { make: 'VW', model: 'Polo', year: 2024, category: 'Economy', seats: 5, luggage: 2, transmission: 'Manual', fuelType: 'Petrol' },\r\n        { make: 'Nissan', model: 'X-Trail', year: 2023, category: 'SUV', seats: 7, luggage: 4, transmission: 'Automatic', fuelType: 'Diesel' },\r\n        { make: 'Hyundai', model: 'i20', year: 2024, category: 'Economy', seats: 5, luggage: 2, transmission: 'Manual', fuelType: 'Petrol' },\r\n        { make: 'Toyota', model: 'Fortuner', year: 2023, category: 'SUV', seats: 7, luggage: 5, transmission: 'Automatic', fuelType: 'Diesel' },\r\n        { make: 'BMW', model: '3 Series', year: 2024, category: 'Luxury', seats: 5, luggage: 3, transmission: 'Automatic', fuelType: 'Petrol' },\r\n        { make: 'Mercedes', model: 'C-Class', year: 2023, category: 'Luxury', seats: 5, luggage: 3, transmission: 'Automatic', fuelType: 'Petrol' },\r\n        { make: 'Renault', model: 'Kwid', year: 2024, category: 'Economy', seats: 4, luggage: 1, transmission: 'Manual', fuelType: 'Petrol' },\r\n        { make: 'Kia', model: 'Sportage', year: 2023, category: 'SUV', seats: 5, luggage: 4, transmission: 'Automatic', fuelType: 'Diesel' },\r\n        { make: 'Honda', model: 'Civic', year: 2024, category: 'Compact', seats: 5, luggage: 2, transmission: 'Automatic', fuelType: 'Petrol' },\r\n        { make: 'Tesla', model: 'Model 3', year: 2024, category: 'Luxury', seats: 5, luggage: 2, transmission: 'Automatic', fuelType: 'Electric' },\r\n        { make: 'Toyota', model: 'Prius', year: 2023, category: 'Compact', seats: 5, luggage: 2, transmission: 'Automatic', fuelType: 'Hybrid' }\r\n      ];\r\n      const featuresList = [\r\n        ['AC', 'GPS', 'Bluetooth', 'USB'],\r\n        ['AC', 'Bluetooth', 'USB'],\r\n        ['AC', 'GPS', 'Bluetooth', 'USB', 'Cruise Control'],\r\n        ['AC', 'USB'],\r\n        ['AC', 'GPS', 'Bluetooth', 'USB', 'Leather Seats', '4x4'],\r\n        ['AC', 'GPS', 'Bluetooth', 'USB', 'Leather Seats', 'Sunroof'],\r\n        ['AC', 'GPS', 'Bluetooth', 'USB', 'Leather Seats', 'Premium Sound'],\r\n        ['AC'],\r\n        ['AC', 'GPS', 'Bluetooth', 'USB', 'Parking Sensors'],\r\n        ['AC', 'Bluetooth', 'USB', 'Apple CarPlay'],\r\n        ['AC', 'GPS', 'Bluetooth', 'USB', 'Autopilot', 'Premium Sound'],\r\n        ['AC', 'GPS', 'Bluetooth', 'USB', 'Eco Mode']\r\n      ];\r\n      const basePrice = 350;\r\n      const pickupDt = new Date(pickupDate);\r\n      const dropoffDt = new Date(dropoffDate);\r\n      const days = Math.max(1, Math.ceil((dropoffDt - pickupDt) / (1000 * 60 * 60 * 24)));\r\n      return carData.map((car, index) => {\r\n        const features = featuresList[index % featuresList.length];\r\n        let priceMultiplier = 1.0;\r\n        if (car.category === 'Luxury') priceMultiplier = 2.5;\r\n        else if (car.category === 'SUV') priceMultiplier = 1.8;\r\n        else if (car.category === 'Compact') priceMultiplier = 1.2;\r\n        else if (car.category === 'Economy') priceMultiplier = 0.8;\r\n        if (car.transmission === 'Automatic') priceMultiplier += 0.2;\r\n        if (car.fuelType === 'Electric') priceMultiplier += 0.4;\r\n        if (car.fuelType === 'Hybrid') priceMultiplier += 0.3;\r\n        if (car.year >= 2024) priceMultiplier += 0.15;\r\n        priceMultiplier += (Math.random() * 0.2 - 0.1);\r\n        const pricePerDay = Math.round(basePrice * priceMultiplier / 10) * 10;\r\n        const totalPrice = pricePerDay * days;\r\n        const rating = 3.8 + Math.random() * 1.2;\r\n        const reviewCount = 30 + Math.floor(Math.random() * 470);\r\n        const safetyRating = 4 + Math.floor(Math.random() * 2);\r\n        const isPremium = car.category === 'Luxury' && car.year >= 2023;\r\n        const insuranceIncluded = Math.random() > 0.5;\r\n        const isPopular = reviewCount > 300 && rating >= 4.5;\r\n        return {\r\n          id: `CAR-${Date.now()}-${index}`,\r\n          ...car,\r\n          features,\r\n          pricePerDay,\r\n          totalPrice,\r\n          days,\r\n          rating: Number(rating.toFixed(1)),\r\n          reviewCount,\r\n          safetyRating,\r\n          isPremium,\r\n          insuranceIncluded,\r\n          isPopular,\r\n          imageUrl: null\r\n        };\r\n      });\r\n    };\r\n\r\n    try {\r\n      _log('log', '[CarHireSelector] Fetching cars for:', { pickupLocation, dropoffLocation, pickupDate, dropoffDate });\r\n      const response = await fetch('/api/carhire/available-cars', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          pickupLocation,\r\n          dropoffLocation,\r\n          pickupDate,\r\n          dropoffDate\r\n        })\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        const list = data.cars || [];\r\n        setCars(list.length ? list : (useDemo ? generateMockCars() : []));\r\n        if (!list.length && useDemo) {\r\n          setErrorMsg('Live car hire providers unavailable. Showing demo cars.');\r\n        }\r\n      } else {\r\n        _log('error', '[CarHireSelector] Failed to fetch cars');\r\n        setCars(useDemo ? generateMockCars() : []);\r\n        setErrorMsg('Unable to load live cars. Showing demo cars.');\r\n      }\r\n    } catch (error) {\r\n      _log('error', '[CarHireSelector] Error fetching cars:', error);\r\n      setCars(useDemo ? generateMockCars() : []);\r\n      setErrorMsg('Network error. Showing demo cars.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [pickupLocation, dropoffLocation, pickupDate, dropoffDate]);\r\n\r\n  const loadFavoriteCars = useCallback(() => {\r\n    try {\r\n      const saved = localStorage.getItem('colleco.favoriteCars');\r\n      if (saved) {\r\n        setFavoriteCars(JSON.parse(saved));\r\n      }\r\n    } catch (error) {\r\n      _log('error', '[CarHireSelector] Error loading favorites:', error);\r\n    }\r\n  }, []);\r\n\r\n  const checkScrollButtons = () => {\r\n    const container = scrollContainerRef.current;\r\n    if (!container) return;\r\n    \r\n    setCanScrollLeft(container.scrollTop > 0);\r\n    setCanScrollRight(\r\n      container.scrollTop < container.scrollHeight - container.clientHeight - 10\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    checkScrollButtons();\r\n    const container = scrollContainerRef.current;\r\n    if (container) {\r\n      container.addEventListener('scroll', checkScrollButtons);\r\n      \r\n      // Add keyboard arrow support\r\n      const handleKeyDown = (e) => {\r\n        if (e.key === 'ArrowUp') {\r\n          e.preventDefault();\r\n          scrollUp();\r\n        } else if (e.key === 'ArrowDown') {\r\n          e.preventDefault();\r\n          scrollDown();\r\n        }\r\n      };\r\n      \r\n      window.addEventListener('keydown', handleKeyDown);\r\n      return () => {\r\n        container.removeEventListener('scroll', checkScrollButtons);\r\n        window.removeEventListener('keydown', handleKeyDown);\r\n      };\r\n    }\r\n  }, [cars]);\r\n\r\n  const scrollUp = () => {\r\n    const container = scrollContainerRef.current;\r\n    if (container) {\r\n      container.scrollBy({ top: -300, behavior: 'smooth' });\r\n    }\r\n  };\r\n\r\n  const scrollDown = () => {\r\n    const container = scrollContainerRef.current;\r\n    if (container) {\r\n      container.scrollBy({ top: 300, behavior: 'smooth' });\r\n    }\r\n  };\r\n\r\n  const toggleFavorite = (carId) => {\r\n    const newFavorites = favoriteCars.includes(carId)\r\n      ? favoriteCars.filter(id => id !== carId)\r\n      : [...favoriteCars, carId];\r\n    \r\n    setFavoriteCars(newFavorites);\r\n    localStorage.setItem('colleco.favoriteCars', JSON.stringify(newFavorites));\r\n  };\r\n\r\n  // Auto Smart Scoring System\r\n  const scoreCar = (car) => {\r\n    let score = 0;\r\n    \r\n    // Safety & Reliability (40% weight)\r\n    const safetyScore = (car.safetyRating / 5) * 20 + (car.rating / 5) * 20;\r\n    score += safetyScore;\r\n    \r\n    // Value for Money (35% weight)\r\n    const avgPrice = cars.reduce((sum, c) => sum + c.pricePerDay, 0) / cars.length;\r\n    const priceScore = (1 - (car.pricePerDay / (avgPrice * 1.5))) * 35;\r\n    score += Math.max(0, priceScore);\r\n    \r\n    // Customer Satisfaction (25% weight)\r\n    const reviewScore = (car.reviewCount / 500) * 5;\r\n    const ratingScore = (car.rating / 5) * 20;\r\n    score += Math.min(25, reviewScore + ratingScore);\r\n    \r\n    // Bonus points\r\n    if (car.transmission === 'Automatic') score += 3;\r\n    if (car.fuelType === 'Electric' || car.fuelType === 'Hybrid') score += 5;\r\n    if (car.features.includes('GPS')) score += 2;\r\n    if (car.features.includes('AC')) score += 2;\r\n    if (car.insuranceIncluded) score += 3;\r\n    if (car.isPremium) score += 5;\r\n    \r\n    return Math.round(score);\r\n  };\r\n\r\n  const autoPickBestCar = () => {\r\n    if (cars.length === 0) return;\r\n    \r\n    const scoredCars = cars.map(car => ({\r\n      ...car,\r\n      smartScore: scoreCar(car)\r\n    }));\r\n    \r\n    const best = scoredCars.reduce((max, car) => \r\n      car.smartScore > max.smartScore ? car : max\r\n    );\r\n    \r\n    setSelectedCar(best);\r\n    onSelectCar(best);\r\n  };\r\n\r\n  const getFilteredAndSortedCars = () => {\r\n    let filtered = [...cars];\r\n    \r\n    // Apply transmission filter (case-insensitive partial match)\r\n    if (preferredTransmission) {\r\n      filtered = filtered.filter(c => \r\n        c.transmission && c.transmission.toLowerCase().includes(preferredTransmission.toLowerCase())\r\n      );\r\n    }\r\n    \r\n    // Apply fuel type filter (case-insensitive partial match)\r\n    if (preferredFuelType) {\r\n      filtered = filtered.filter(c => \r\n        c.fuelType && c.fuelType.toLowerCase().includes(preferredFuelType.toLowerCase())\r\n      );\r\n    }\r\n    \r\n    // Apply seats filter\r\n    if (minSeats > 0) {\r\n      filtered = filtered.filter(c => c.seats >= minSeats);\r\n    }\r\n    \r\n    // Apply features filter (case-insensitive partial match)\r\n    if (requiredFeatures.length > 0) {\r\n      filtered = filtered.filter(c => \r\n        c.features && requiredFeatures.every(feature => \r\n          c.features.some(f => f.toLowerCase().includes(feature.toLowerCase()))\r\n        )\r\n      );\r\n    }\r\n    \r\n    // Apply category filter\r\n    if (filterBy !== 'all') {\r\n      if (filterBy === 'favorites') {\r\n        filtered = filtered.filter(c => favoriteCars.includes(c.id));\r\n      } else if (filterBy === 'premium') {\r\n        filtered = filtered.filter(c => c.isPremium);\r\n      } else {\r\n        filtered = filtered.filter(c => c.category.toLowerCase() === filterBy);\r\n      }\r\n    }\r\n    \r\n    // Apply sorting\r\n    filtered.sort((a, b) => {\r\n      switch (sortBy) {\r\n        case 'price_low':\r\n          return a.pricePerDay - b.pricePerDay;\r\n        case 'price_high':\r\n          return b.pricePerDay - a.pricePerDay;\r\n        case 'rating':\r\n          return b.rating - a.rating;\r\n        case 'recommended':\r\n        default:\r\n          return scoreCar(b) - scoreCar(a);\r\n      }\r\n    });\r\n    \r\n    return filtered;\r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    return `R${amount.toLocaleString()}`;\r\n  };\r\n\r\n  const filteredCars = getFilteredAndSortedCars();\r\n\r\n  // Calculate rental duration in days\r\n  const calculateRentalDays = () => {\r\n    if (!pickupDate || !dropoffDate) return 1;\r\n    const pickup = new Date(pickupDate);\r\n    const dropoff = new Date(dropoffDate);\r\n    const diffTime = Math.abs(dropoff - pickup);\r\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n    return Math.max(1, diffDays);\r\n  };\r\n\r\n  const rentalDays = calculateRentalDays();\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 z-modal flex items-center justify-center p-4\">\r\n      <div className=\"bg-white rounded-xl shadow-2xl max-w-6xl w-full max-h-[90vh] flex flex-col\">\r\n        {/* Header */}\r\n        <div className=\"p-3 sm:p-6 border-b bg-gradient-to-r from-brand-orange to-orange-600\">\r\n          <h2 className=\"text-2xl font-bold text-white mb-2\">Pick My Car</h2>\r\n          <p className=\"text-white/90 text-sm\">\r\n            {pickupLocation} â€¢ {pickupDate} to {dropoffDate} â€¢ <span className=\"font-semibold\">{rentalDays} day{rentalDays !== 1 ? 's' : ''}</span>\r\n          </p>\r\n        </div>\r\n\r\n        {/* Filters & Controls */}\r\n        <div className=\"p-4 border-b bg-gray-50 space-y-4\">\r\n          {/* Smart Actions */}\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            <button\r\n              onClick={autoPickBestCar}\r\n              className=\"px-4 py-2 bg-brand-orange text-white rounded-lg hover:bg-orange-600 transition-colors flex items-center gap-2 text-sm font-medium\"\r\n            >\r\n              <Award className=\"h-4 w-4\" />\r\n              Auto Smart Pick\r\n            </button>\r\n          </div>\r\n\r\n          {/* Preference Filters */}\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-4 gap-3\">\r\n            <div>\r\n              <label className=\"block text-xs font-medium text-gray-700 mb-1\">\r\n                Transmission\r\n              </label>\r\n              <select\r\n                value={preferredTransmission}\r\n                onChange={(e) => setPreferredTransmission(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:border-brand-orange focus:outline-none\"\r\n              >\r\n                <option value=\"\">Any</option>\r\n                <option value=\"Automatic\">Automatic</option>\r\n                <option value=\"Manual\">Manual</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-xs font-medium text-gray-700 mb-1\">\r\n                Fuel Type\r\n              </label>\r\n              <select\r\n                value={preferredFuelType}\r\n                onChange={(e) => setPreferredFuelType(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:border-brand-orange focus:outline-none\"\r\n              >\r\n                <option value=\"\">Any</option>\r\n                <option value=\"Petrol\">Petrol</option>\r\n                <option value=\"Diesel\">Diesel</option>\r\n                <option value=\"Electric\">Electric</option>\r\n                <option value=\"Hybrid\">Hybrid</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-xs font-medium text-gray-700 mb-1\">\r\n                Minimum Seats\r\n              </label>\r\n              <select\r\n                value={minSeats}\r\n                onChange={(e) => setMinSeats(Number(e.target.value))}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:border-brand-orange focus:outline-none\"\r\n              >\r\n                <option value=\"0\">Any</option>\r\n                <option value=\"4\">4+ Seats</option>\r\n                <option value=\"5\">5+ Seats</option>\r\n                <option value=\"7\">7+ Seats</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-xs font-medium text-gray-700 mb-1\">\r\n                Required Features\r\n              </label>\r\n              <select\r\n                multiple\r\n                value={requiredFeatures}\r\n                onChange={(e) => setRequiredFeatures(Array.from(e.target.selectedOptions, option => option.value))}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:border-brand-orange focus:outline-none\"\r\n                size={3}\r\n              >\r\n                <option value=\"AC\">Air Conditioning</option>\r\n                <option value=\"GPS\">GPS Navigation</option>\r\n                <option value=\"Bluetooth\">Bluetooth</option>\r\n                <option value=\"USB\">USB Charging</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Filter & Sort */}\r\n          <div className=\"flex flex-wrap gap-3 items-center\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <Filter className=\"h-4 w-4 text-gray-500\" />\r\n              <select\r\n                value={filterBy}\r\n                onChange={(e) => setFilterBy(e.target.value)}\r\n                className=\"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:border-brand-orange focus:outline-none\"\r\n              >\r\n                <option value=\"all\">All Cars</option>\r\n                <option value=\"favorites\">Favorites</option>\r\n                <option value=\"economy\">Economy</option>\r\n                <option value=\"compact\">Compact</option>\r\n                <option value=\"suv\">SUV</option>\r\n                <option value=\"luxury\">Luxury</option>\r\n                <option value=\"premium\">Premium Only</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-2\">\r\n              <ArrowUpDown className=\"h-4 w-4 text-gray-500\" />\r\n              <select\r\n                value={sortBy}\r\n                onChange={(e) => setSortBy(e.target.value)}\r\n                className=\"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:border-brand-orange focus:outline-none\"\r\n              >\r\n                <option value=\"recommended\">Recommended</option>\r\n                <option value=\"price_low\">Price: Low to High</option>\r\n                <option value=\"price_high\">Price: High to Low</option>\r\n                <option value=\"rating\">Highest Rated</option>\r\n              </select>\r\n            </div>\r\n\r\n            <span className=\"text-sm text-gray-600 ml-auto\">\r\n              {filteredCars.length} car{filteredCars.length !== 1 ? 's' : ''} available\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Cars List */}\r\n        <div className=\"flex-1 overflow-y-auto p-4 relative\" ref={scrollContainerRef}>\r\n          {errorMsg && (\r\n            <div className=\"mb-3 p-3 bg-brand-orange/10 border-l-4 border-brand-orange rounded\">\r\n              <strong className=\"text-brand-orange\">Notice:</strong>\r\n              <span className=\"ml-2 text-sm text-brand-brown\">{errorMsg}</span>\r\n            </div>\r\n          )}\r\n          {/* Scroll Up Button */}\r\n          {canScrollLeft && (\r\n            <button\r\n              onClick={scrollUp}\r\n              className=\"fixed top-1/2 left-4 -translate-y-1/2 z-10 bg-white shadow-lg rounded-full p-3 hover:bg-gray-50 transition-colors border-2 border-gray-200\"\r\n              aria-label=\"Scroll up\"\r\n            >\r\n              <ChevronLeft className=\"h-6 w-6 text-brand-orange rotate-90\" />\r\n            </button>\r\n          )}\r\n\r\n          {/* Scroll Down Button */}\r\n          {canScrollRight && (\r\n            <button\r\n              onClick={scrollDown}\r\n              className=\"fixed bottom-32 left-4 z-10 bg-white shadow-lg rounded-full p-3 hover:bg-gray-50 transition-colors border-2 border-gray-200\"\r\n              aria-label=\"Scroll down\"\r\n            >\r\n              <ChevronRight className=\"h-6 w-6 text-brand-orange rotate-90\" />\r\n            </button>\r\n          )}\r\n\r\n          {loading ? (\r\n            <div className=\"flex items-center justify-center py-12\">\r\n              <div className=\"animate-spin rounded-full h-12 w-12 border-4 border-brand-orange border-t-transparent\"></div>\r\n            </div>\r\n          ) : filteredCars.length === 0 ? (\r\n            <div className=\"text-center py-12\">\r\n              <Car className=\"h-16 w-16 text-gray-300 mx-auto mb-4\" />\r\n              <p className=\"text-gray-500\">No cars match your criteria</p>\r\n              <button\r\n                onClick={() => {\r\n                  setFilterBy('all');\r\n                  setPreferredTransmission('');\r\n                  setPreferredFuelType('');\r\n                  setMinSeats(0);\r\n                  setRequiredFeatures([]);\r\n                }}\r\n                className=\"mt-4 text-brand-orange hover:underline text-sm\"\r\n              >\r\n                Clear all filters\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            filteredCars.map((car) => (\r\n              <div\r\n                key={car.id}\r\n                onClick={() => setSelectedCar(car)}\r\n                className={`mb-4 border-2 rounded-lg p-4 cursor-pointer transition-all hover:shadow-lg ${\r\n                  selectedCar?.id === car.id\r\n                    ? 'border-brand-orange bg-orange-50'\r\n                    : 'border-gray-200 hover:border-brand-orange/50'\r\n                }`}\r\n              >\r\n                <div className=\"flex gap-2 sm:gap-4\">\r\n                  {/* Car Image */}\r\n                  <div className=\"w-24 sm:w-40 h-20 sm:h-28 flex-shrink-0 bg-gray-200 rounded-lg overflow-hidden\">\r\n                    {car.imageUrl ? (\r\n                      <img \r\n                        src={car.imageUrl} \r\n                        alt={`${car.make} ${car.model}`}\r\n                        className=\"w-full h-full object-cover\"\r\n                      />\r\n                    ) : (\r\n                      <div className=\"w-full h-full flex items-center justify-center\">\r\n                        <Car className=\"h-12 w-12 text-gray-400\" />\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Car Details */}\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-start justify-between mb-2\">\r\n                      <div>\r\n                        <h3 className=\"font-bold text-lg text-brand-brown\">\r\n                          {car.make} {car.model}\r\n                        </h3>\r\n                        <p className=\"text-sm text-gray-600\">{car.year} â€¢ {car.category}</p>\r\n                      </div>\r\n                      <button\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          toggleFavorite(car.id);\r\n                        }}\r\n                        className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\r\n                      >\r\n                        <Heart\r\n                          className={`h-5 w-5 ${\r\n                            favoriteCars.includes(car.id)\r\n                              ? 'fill-red-500 text-red-500'\r\n                              : 'text-gray-400'\r\n                          }`}\r\n                        />\r\n                      </button>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-3 mb-3\">\r\n                      <div className=\"flex items-center gap-1\">\r\n                        <Star className=\"h-4 w-4 text-brand-gold\" />\r\n                        <span className=\"font-semibold\">{car.rating.toFixed(1)}</span>\r\n                        <span className=\"text-xs text-gray-500\">({car.reviewCount} reviews)</span>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Specs */}\r\n                    <div className=\"flex flex-wrap gap-3 mb-3 text-sm text-gray-700\">\r\n                      <div className=\"flex items-center gap-1\">\r\n                        <Users className=\"h-4 w-4\" />\r\n                        <span>{car.seats} seats</span>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-1\">\r\n                        <Luggage className=\"h-4 w-4\" />\r\n                        <span>{car.luggage} bags</span>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-1\">\r\n                        <Gauge className=\"h-4 w-4\" />\r\n                        <span>{car.transmission}</span>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-1\">\r\n                        <Fuel className=\"h-4 w-4\" />\r\n                        <span>{car.fuelType}</span>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Features */}\r\n                    <div className=\"flex flex-wrap gap-2 mb-3\">\r\n                      {car.features.map((feature, idx) => (\r\n                        <span\r\n                          key={idx}\r\n                          className=\"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full flex items-center gap-1\"\r\n                        >\r\n                          {feature === 'AC' && <Snowflake className=\"h-3 w-3\" />}\r\n                          {feature === 'Bluetooth' && <Radio className=\"h-3 w-3\" />}\r\n                          {feature}\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n\r\n                    {/* Badges */}\r\n                    <div className=\"flex flex-wrap gap-2 mb-2\">\r\n                      {car.isPremium && (\r\n                        <span className=\"px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded-full flex items-center gap-1\">\r\n                          <Award className=\"h-3 w-3\" />\r\n                          Premium Vehicle\r\n                        </span>\r\n                      )}\r\n                      {car.insuranceIncluded && (\r\n                        <span className=\"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full flex items-center gap-1\">\r\n                          <Shield className=\"h-3 w-3\" />\r\n                          Insurance Included\r\n                        </span>\r\n                      )}\r\n                      {car.isPopular && (\r\n                        <span className=\"px-2 py-1 bg-orange-100 text-brand-orange text-xs rounded-full flex items-center gap-1\">\r\n                          <TrendingUp className=\"h-3 w-3\" />\r\n                          Popular Choice\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n\r\n                    {/* Price */}\r\n                    <div className=\"flex items-baseline gap-2\">\r\n                      <span className=\"text-2xl font-bold text-brand-orange\">\r\n                        {formatCurrency(car.pricePerDay)}\r\n                      </span>\r\n                      <span className=\"text-sm text-gray-600\">per day</span>\r\n                      {car.totalPrice && (\r\n                        <span className=\"text-xs text-gray-500 ml-auto\">\r\n                          Total: {formatCurrency(car.totalPrice)}\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer Actions */}\r\n        <div className=\"p-4 border-t bg-gray-50 flex flex-wrap justify-between items-center gap-3\">\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              onClick={onCancel}\r\n              className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors text-sm\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            \r\n            {onSkip && (\r\n              <button\r\n                onClick={() => onSkip(cars)}\r\n                className=\"px-4 py-2 border border-brand-orange text-brand-orange rounded-lg hover:bg-orange-50 transition-colors text-sm\"\r\n              >\r\n                Skip for now\r\n              </button>\r\n            )}\r\n          </div>\r\n          \r\n          <button\r\n            onClick={() => selectedCar && onSelectCar(selectedCar)}\r\n            disabled={!selectedCar}\r\n            className=\"px-3 sm:px-6 py-2 bg-brand-orange text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 text-sm sm:text-base\"\r\n          >\r\n            <CheckCircle2 className=\"h-4 w-4\" />\r\n            Confirm Car {selectedCar && `- ${formatCurrency(selectedCar.pricePerDay)}/day`}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport BookingNav from '../components/BookingNav';\r\nimport CarHireSelector from '../components/CarHireSelector';\r\nimport Button from '../components/ui/Button.jsx';\r\nimport { Car, Clock, DollarSign } from 'lucide-react';\r\nimport { processBookingRewards } from '../utils/bookingIntegration';\r\n\r\nexport default function CarBooking(){\r\n  const [pickupLocation, setPickupLocation] = useState('');\r\n  const [dropoffLocation, setDropoffLocation] = useState('');\r\n  const [pickupDate, setPickupDate] = useState('');\r\n  const [pickupTime, setPickupTime] = useState('09:00');\r\n  const [dropoffDate, setDropoffDate] = useState('');\r\n  const [dropoffTime, setDropoffTime] = useState('17:00');\r\n  const [driverAge, setDriverAge] = useState(25);\r\n  const [insuranceLevel, setInsuranceLevel] = useState('basic'); // basic, premium, full\r\n  const [additionalDrivers, setAdditionalDrivers] = useState(0);\r\n  const [showCarSelector, setShowCarSelector] = useState(false);\r\n  const [selectedCar, setSelectedCar] = useState(null);\r\n  const [carPending, setCarPending] = useState(false);\r\n  const [availableCars, setAvailableCars] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [formErrors, setFormErrors] = useState({});\r\n  \r\n  React.useEffect(() => {\r\n    if (typeof window !== 'undefined' && typeof window.scrollTo === 'function') {\r\n      window.scrollTo({ top: 0, behavior: 'smooth' });\r\n    }\r\n  }, []);\r\n\r\n  const today = new Date().toISOString().split('T')[0];\r\n  const minDropoff = pickupDate || today;\r\n\r\n  function handleSkipCarSelection(cars) {\r\n    setAvailableCars(cars);\r\n    setShowCarSelector(false);\r\n    setCarPending(true);\r\n    setSelectedCar(null);\r\n  }\r\n\r\n  async function autoAssignCheapestCar() {\r\n    if (!availableCars || availableCars.length === 0) {\r\n      alert('No available cars to assign. Please try again.');\r\n      return;\r\n    }\r\n\r\n    const cheapestCar = availableCars.reduce((min, car) => \r\n      car.pricePerDay < min.pricePerDay ? car : min\r\n    );\r\n\r\n    await confirmCarSelection(cheapestCar);\r\n  }\r\n\r\n  function reopenCarSelector() {\r\n    setCarPending(false);\r\n    setShowCarSelector(true);\r\n  }\r\n\r\n  async function confirmCarSelection(car) {\r\n    setSelectedCar(car);\r\n    setShowCarSelector(false);\r\n    setCarPending(false);\r\n    setLoading(true);\r\n\r\n    try {\r\n      await new Promise(resolve => setTimeout(resolve, 1000));\r\n      \r\n      // Calculate booking details\r\n      const pickupDateObj = new Date(pickupDate);\r\n      const dropoffDateObj = new Date(dropoffDate);\r\n      const days = Math.ceil((dropoffDateObj - pickupDateObj) / (1000 * 60 * 60 * 24));\r\n      const totalPrice = car.pricePerDay * days;\r\n      \r\n      // Create booking object for loyalty integration\r\n      const booking = {\r\n        id: `CAR_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n        type: 'car_hire',\r\n        amount: totalPrice,\r\n        userId: localStorage.getItem('colleco.user.id') || 'guest_' + Date.now(),\r\n        checkInDate: pickupDateObj,\r\n        carId: car.id,\r\n        make: car.make,\r\n        model: car.model,\r\n        pickupLocation,\r\n        dropoffLocation,\r\n        days,\r\n        insuranceLevel,\r\n        additionalDrivers\r\n      };\r\n      \r\n      // Process loyalty rewards and track booking\r\n      const result = processBookingRewards(booking);\r\n      \r\n      alert(`Car \"${car.make} ${car.model}\" booked successfully! You earned ${result.pointsEarned} loyalty points! ðŸŽ‰`);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Booking failed:', error);\r\n      alert('Booking failed. Please try again.');\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    \r\n    const errors = {};\r\n    if (!pickupLocation || pickupLocation.length < 3) errors.pickupLocation = 'Please enter a valid pickup location';\r\n    if (!dropoffLocation || dropoffLocation.length < 3) errors.dropoffLocation = 'Please enter a valid dropoff location';\r\n    if (!pickupDate) errors.pickupDate = 'Please select pickup date';\r\n    if (!dropoffDate) errors.dropoffDate = 'Please select dropoff date';\r\n    if (dropoffDate && pickupDate && new Date(dropoffDate) <= new Date(pickupDate)) {\r\n      errors.dropoffDate = 'Dropoff must be after pickup';\r\n    }\r\n    if (driverAge < 18 || driverAge > 99) errors.driverAge = 'Driver must be between 18 and 99 years old';\r\n    \r\n    if (Object.keys(errors).length > 0) {\r\n      setFormErrors(errors);\r\n      return;\r\n    }\r\n    \r\n    setFormErrors({});\r\n    setShowCarSelector(true);\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-cream min-h-screen overflow-x-hidden\">\r\n      <div className=\"max-w-6xl mx-auto px-4 sm:px-6 py-8\">\r\n        <BookingNav />\r\n        \r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl sm:text-4xl font-bold tracking-tight text-brand-brown\">Car Hire</h1>\r\n          <p className=\"mt-2 text-sm sm:text-base text-brand-russty max-w-prose\">\r\n            Choose from our wide selection of vehicles with flexible pickup and dropoff options.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-xl shadow-sm border border-cream-border p-6 mb-6\">\r\n          <h2 className=\"text-lg font-bold text-brand-brown mb-4\">Search Available Cars</h2>\r\n          \r\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block mb-2 text-sm font-semibold text-brand-brown\">Pickup Location *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={pickupLocation}\r\n                  onChange={e => setPickupLocation(e.target.value)}\r\n                  required\r\n                  className=\"w-full border-2 border-cream-border rounded-lg px-3 py-2 focus:border-brand-orange focus:outline-none transition-colors\"\r\n                  placeholder=\"e.g., King Shaka Airport\"\r\n                />\r\n                {formErrors.pickupLocation && <p className=\"text-red-500 text-xs mt-1\">{formErrors.pickupLocation}</p>}\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block mb-2 text-sm font-semibold text-brand-brown\">Dropoff Location *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={dropoffLocation}\r\n                  onChange={e => setDropoffLocation(e.target.value)}\r\n                  required\r\n                  className=\"w-full border-2 border-cream-border rounded-lg px-3 py-2 focus:border-brand-orange focus:outline-none transition-colors\"\r\n                  placeholder=\"e.g., Durban City Centre\"\r\n                />\r\n                {formErrors.dropoffLocation && <p className=\"text-red-500 text-xs mt-1\">{formErrors.dropoffLocation}</p>}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block mb-2 text-sm font-semibold text-brand-brown\">Pickup Date *</label>\r\n                <input\r\n                  type=\"date\"\r\n                  value={pickupDate}\r\n                  onChange={e => setPickupDate(e.target.value)}\r\n                  min={today}\r\n                  required\r\n                  className=\"w-full border-2 border-cream-border rounded-lg px-3 py-2 focus:border-brand-orange focus:outline-none transition-colors\"\r\n                />\r\n                {formErrors.pickupDate && <p className=\"text-red-500 text-xs mt-1\">{formErrors.pickupDate}</p>}\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block mb-2 text-sm font-semibold text-brand-brown\">Pickup Time</label>\r\n                <input\r\n                  type=\"time\"\r\n                  value={pickupTime}\r\n                  onChange={e => setPickupTime(e.target.value)}\r\n                  className=\"w-full border-2 border-cream-border rounded-lg px-3 py-2 focus:border-brand-orange focus:outline-none transition-colors\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block mb-2 text-sm font-semibold text-brand-brown\">Dropoff Date *</label>\r\n                <input\r\n                  type=\"date\"\r\n                  value={dropoffDate}\r\n                  onChange={e => setDropoffDate(e.target.value)}\r\n                  min={minDropoff}\r\n                  required\r\n                  className=\"w-full border-2 border-cream-border rounded-lg px-3 py-2 focus:border-brand-orange focus:outline-none transition-colors\"\r\n                />\r\n                {formErrors.dropoffDate && <p className=\"text-red-500 text-xs mt-1\">{formErrors.dropoffDate}</p>}\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block mb-2 text-sm font-semibold text-brand-brown\">Dropoff Time</label>\r\n                <input\r\n                  type=\"time\"\r\n                  value={dropoffTime}\r\n                  onChange={e => setDropoffTime(e.target.value)}\r\n                  className=\"w-full border-2 border-cream-border rounded-lg px-3 py-2 focus:border-brand-orange focus:outline-none transition-colors\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\r\n              <div>\r\n                <label htmlFor=\"driverAge\" className=\"block mb-2 text-sm font-semibold text-brand-brown\">Driver Age *</label>\r\n                <input\r\n                  id=\"driverAge\"\r\n                  type=\"number\"\r\n                  min={18}\r\n                  max={99}\r\n                  value={driverAge}\r\n                  onChange={e => setDriverAge(Number(e.target.value))}\r\n                  required\r\n                  className=\"w-full border-2 border-cream-border rounded-lg px-3 py-2 focus:border-brand-orange focus:outline-none transition-colors\"\r\n                />\r\n                {formErrors.driverAge && <p className=\"text-red-500 text-xs mt-1\">{formErrors.driverAge}</p>}\r\n              </div>\r\n\r\n              <div>\r\n                <label htmlFor=\"insuranceLevel\" className=\"block mb-2 text-sm font-semibold text-brand-brown\">Insurance Level</label>\r\n                <select\r\n                  id=\"insuranceLevel\"\r\n                  value={insuranceLevel}\r\n                  onChange={e => setInsuranceLevel(e.target.value)}\r\n                  className=\"w-full border-2 border-cream-border rounded-lg px-3 py-2 focus:border-brand-orange focus:outline-none transition-colors\"\r\n                >\r\n                  <option value=\"basic\">Basic</option>\r\n                  <option value=\"premium\">Premium</option>\r\n                  <option value=\"full\">Full Cover</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label htmlFor=\"additionalDrivers\" className=\"block mb-2 text-sm font-semibold text-brand-brown\">Additional Drivers</label>\r\n                <input\r\n                  id=\"additionalDrivers\"\r\n                  type=\"number\"\r\n                  min={0}\r\n                  max={3}\r\n                  value={additionalDrivers}\r\n                  onChange={e => setAdditionalDrivers(Number(e.target.value))}\r\n                  className=\"w-full border-2 border-cream-border rounded-lg px-3 py-2 focus:border-brand-orange focus:outline-none transition-colors\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <Button type=\"submit\" fullWidth disabled={loading}>\r\n              {loading ? 'Processing...' : 'Search Available Cars'}\r\n            </Button>\r\n          </form>\r\n        </div>\r\n\r\n        {carPending && !loading && (\r\n          <div className=\"p-6 border-2 border-brand-orange rounded-lg bg-orange-50 shadow-sm\">\r\n            <div className=\"flex items-start gap-3 mb-4\">\r\n              <div className=\"w-10 h-10 rounded-full bg-brand-orange flex items-center justify-center flex-shrink-0\">\r\n                <Clock className=\"h-5 w-5 text-white\" />\r\n              </div>\r\n              <div className=\"flex-1\">\r\n                <h2 className=\"font-bold text-lg text-brand-brown mb-1\">Booking Pending - Choose Your Car</h2>\r\n                <p className=\"text-sm text-brand-russty\">Your search details are saved. Select your preferred vehicle to proceed.</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-lg p-4 mb-4 border border-cream-border\">\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm\">\r\n                <div>\r\n                  <p className=\"text-xs text-gray-500 mb-1\">Pickup</p>\r\n                  <p className=\"font-semibold text-brand-brown\">{pickupLocation}</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-xs text-gray-500 mb-1\">Dropoff</p>\r\n                  <p className=\"font-semibold text-brand-brown\">{dropoffLocation}</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-xs text-gray-500 mb-1\">Dates</p>\r\n                  <p className=\"font-semibold text-brand-brown\">{pickupDate} to {dropoffDate}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n              <Button fullWidth onClick={reopenCarSelector} className=\"flex items-center justify-center gap-2\">\r\n                <Car className=\"h-4 w-4\" />\r\n                Pick My Car\r\n              </Button>\r\n              \r\n              <Button\r\n                fullWidth\r\n                variant=\"outline\"\r\n                onClick={autoAssignCheapestCar}\r\n                className=\"flex items-center justify-center gap-2 border-brand-orange text-brand-orange hover:bg-orange-50\"\r\n              >\r\n                <DollarSign className=\"h-4 w-4\" />\r\n                Auto-assign Cheapest Car\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {selectedCar && !loading && (\r\n          <div className=\"space-y-6\">\r\n            {/* Booking Confirmation Card */}\r\n            <div className=\"bg-white rounded-xl shadow-sm border border-cream-border p-6\">\r\n              <h2 className=\"text-lg font-bold text-brand-brown mb-4\">Booking Confirmed</h2>\r\n              <div className=\"space-y-2\">\r\n                <p><span className=\"font-semibold\">Vehicle:</span> {selectedCar.make} {selectedCar.model}</p>\r\n                <p><span className=\"font-semibold\">Category:</span> {selectedCar.category}</p>\r\n                <p><span className=\"font-semibold\">Price per Day:</span> R{selectedCar.pricePerDay}</p>\r\n                <p><span className=\"font-semibold\">Total:</span> R{selectedCar.totalPrice}</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Terms & Conditions - Rental Policies */}\r\n            <div className=\"bg-white rounded-xl shadow-sm border border-cream-border p-6\">\r\n              <h2 className=\"text-lg font-bold text-brand-brown mb-4\">Rental Terms & Conditions</h2>\r\n              <div className=\"space-y-4\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <p className=\"font-semibold text-brand-brown mb-1\">Cancellation Policy</p>\r\n                    <ul className=\"list-disc list-inside space-y-1 text-xs\">\r\n                      <li>Free cancellation up to 48 hours before pickup</li>\r\n                      <li>50% refund for cancellations 24-48 hours before pickup</li>\r\n                      <li>No refund for cancellations within 24 hours of pickup</li>\r\n                    </ul>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"font-semibold text-brand-brown mb-1\">Payment Terms</p>\r\n                    <ul className=\"list-disc list-inside space-y-1 text-xs\">\r\n                      <li>Full rental amount charged at booking</li>\r\n                      <li>Security deposit required at pickup (refunded after return)</li>\r\n                      <li>Fuel and damage waiver options available</li>\r\n                    </ul>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"font-semibold text-brand-brown mb-1\">Rental Company Policies</p>\r\n                    <ul className=\"list-disc list-inside space-y-1 text-xs\">\r\n                      <li>Valid driver&apos;s license required (minimum 21 years old)</li>\r\n                      <li>International license or IDP may be required</li>\r\n                      <li>Vehicle inspection at pickup and return is mandatory</li>\r\n                      <li>Insurance coverage included; excess may apply</li>\r\n                    </ul>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"font-semibold text-brand-brown mb-1\">Important Information</p>\r\n                    <ul className=\"list-disc list-inside space-y-1 text-xs\">\r\n                      <li>Pickup timing: Arrive 15 minutes before booked time</li>\r\n                      <li>Return vehicle with full fuel tank to avoid surcharge</li>\r\n                      <li>Report any damage immediately to rental company</li>\r\n                      <li>Child car seats available upon request</li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Contact Information - Separated by Purpose */}\r\n              <div className=\"border-t pt-6\">\r\n                <h3 className=\"text-lg font-bold text-brand-brown mb-3\">Need Assistance?</h3>\r\n                \r\n                {/* Rental Company Contact - For Vehicle-Specific Issues */}\r\n                <div className=\"mb-4 bg-green-50 border border-green-200 rounded-lg p-4\">\r\n                  <div className=\"flex items-center gap-2 mb-2\">\r\n                    <svg className=\"h-5 w-5 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" />\r\n                    </svg>\r\n                    <h4 className=\"font-semibold text-green-900\">During Your Rental - Contact Company Directly</h4>\r\n                  </div>\r\n                  <p className=\"text-sm text-green-800 mb-3\">For pickup, vehicle issues, roadside assistance, or extensions:</p>\r\n                  <div className=\"text-sm\">\r\n                    <p className=\"text-green-700 font-medium\">Rental Company Contact Info</p>\r\n                    <p className=\"text-green-600\">Available at pickup location or in your confirmation email</p>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Zola - Primary Support */}\r\n                <div className=\"bg-orange-50 border-2 border-brand-orange rounded-lg p-4 mb-4\">\r\n                  <div className=\"flex items-center gap-2 mb-2\">\r\n                    <svg className=\"h-6 w-6 text-brand-orange\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n                    </svg>\r\n                    <h4 className=\"font-semibold text-brand-brown text-lg\">Zola - 24/7 Instant Help</h4>\r\n                  </div>\r\n                  <p className=\"text-sm text-brand-brown mb-3\">\r\n                    Get instant answers about your booking, changes, cancellations, refunds, payment issues, and recommendations. \r\n                    Zola handles most requests immediately and routes complex issues to the right specialist.\r\n                  </p>\r\n                  <button \r\n                    onClick={() => {\r\n                      // Trigger AIAgent to open via custom event\r\n                      window.dispatchEvent(new CustomEvent('openAIAgent'));\r\n                      // Smooth scroll to bottom-right where AIAgent is positioned\r\n                      window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });\r\n                    }}\r\n                    className=\"w-full bg-brand-orange text-white font-semibold py-3 px-4 rounded-lg hover:bg-orange-600 transition-colors flex items-center justify-center gap-2\"\r\n                  >\r\n                    <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\r\n                    </svg>\r\n                    Chat with Zola Now\r\n                  </button>\r\n                  <p className=\"text-xs text-gray-600 mt-2 text-center\">\r\n                    Available 24/7 â€¢ Instant responses â€¢ Handles booking changes, queries & recommendations\r\n                  </p>\r\n                </div>\r\n\r\n                {/* Human Support - Backup */}\r\n                <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\r\n                  <div className=\"flex items-center gap-2 mb-2\">\r\n                    <svg className=\"h-5 w-5 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z\" />\r\n                    </svg>\r\n                    <h4 className=\"font-medium text-gray-700 text-sm\">Need to Speak to a Specialist?</h4>\r\n                  </div>\r\n                  <p className=\"text-xs text-gray-600 mb-3\">If Zola can&apos;t resolve your issue, you&apos;ll be connected to our team:</p>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 text-xs\">\r\n                    <div>\r\n                      <p className=\"text-gray-500\">Email Support</p>\r\n                      <p className=\"font-semibold text-gray-700\">support@colleco.co.za</p>\r\n                      <p className=\"text-xs text-gray-400\">Zola routes to specialist</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-gray-500\">Phone (Escalations)</p>\r\n                      <p className=\"font-semibold text-gray-700\">+27 31 123 4567</p>\r\n                      <p className=\"text-xs text-gray-400\">Mon-Fri: 9AM-5PM</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Additional Support Section if no booking yet */}\r\n        {!selectedCar && (\r\n          <div className=\"bg-white rounded-xl shadow-sm border border-cream-border p-6 mt-6\">\r\n            <h2 className=\"text-xl font-bold text-brand-brown mb-4\">Need Assistance?</h2>\r\n            \r\n            {/* Rental Company Contact - For Vehicle-Specific Issues */}\r\n            <div className=\"mb-4 bg-green-50 border border-green-200 rounded-lg p-4\">\r\n              <div className=\"flex items-center gap-2 mb-2\">\r\n                <svg className=\"h-5 w-5 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                </svg>\r\n                <h4 className=\"font-semibold text-green-900\">During Rental - Contact Company Directly</h4>\r\n              </div>\r\n              <p className=\"text-sm text-green-800 mb-3\">For pickup, vehicle issues, roadside assistance, or extensions:</p>\r\n              <div className=\"text-sm\">\r\n                <p className=\"text-green-700 font-medium\">Rental Company Contact Info</p>\r\n                <p className=\"text-green-600\">Available at pickup location or in your confirmation email</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* CollEco AI Agent - Primary Support */}\r\n            <div className=\"bg-orange-50 border-2 border-brand-orange rounded-lg p-4 mb-4\">\r\n              <div className=\"flex items-center gap-2 mb-2\">\r\n                <svg className=\"h-6 w-6 text-brand-orange\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n                </svg>\r\n                <h4 className=\"font-semibold text-brand-brown text-lg\">Zola - Your AI Travel Assistant (24/7)</h4>\r\n              </div>\r\n              <p className=\"text-sm text-brand-brown mb-3\">\r\n                Get instant answers from Zola about your booking, changes, cancellations, refunds, payment issues, and recommendations.\r\n              </p>\r\n              <button \r\n                onClick={() => {\r\n                  // Trigger AIAgent to open via custom event\r\n                  window.dispatchEvent(new CustomEvent('openAIAgent'));\r\n                  // Smooth scroll to bottom-right where AIAgent is positioned\r\n                  window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });\r\n                }}\r\n                className=\"w-full bg-brand-orange text-white font-semibold py-3 px-4 rounded-lg hover:bg-orange-600 transition-colors flex items-center justify-center gap-2\"\r\n              >\r\n                <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\r\n                </svg>\r\n                Chat with Zola Now\r\n              </button>\r\n              <p className=\"text-xs text-gray-600 mt-2 text-center\">\r\n                Available 24/7 â€¢ Instant responses â€¢ Handles booking changes & queries\r\n              </p>\r\n            </div>\r\n\r\n            {/* Specialist Support Fallback */}\r\n            <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\r\n              <div className=\"flex items-center gap-2 mb-2\">\r\n                <svg className=\"h-5 w-5 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z\" />\r\n                </svg>\r\n                <h4 className=\"font-medium text-gray-700 text-sm\">Need to Speak to a Specialist?</h4>\r\n              </div>\r\n              <p className=\"text-xs text-gray-600 mb-3\">If Zola can&apos;t resolve your issue:</p>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 text-xs\">\r\n                <div>\r\n                  <p className=\"text-gray-500\">Email Support</p>\r\n                  <p className=\"font-semibold text-gray-700\">support@colleco.co.za</p>\r\n                  <p className=\"text-xs text-gray-400\">Zola routes to specialist</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-gray-500\">Phone (Escalations)</p>\r\n                  <p className=\"font-semibold text-gray-700\">+27 31 123 4567</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {showCarSelector && (\r\n        <CarHireSelector\r\n          pickupLocation={pickupLocation}\r\n          dropoffLocation={dropoffLocation}\r\n          pickupDate={pickupDate}\r\n          dropoffDate={dropoffDate}\r\n          onSelectCar={confirmCarSelection}\r\n          onSkip={handleSkipCarSelection}\r\n          onCancel={() => setShowCarSelector(false)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["useState","useRef","useEffect","useCallback","jsxs","jsx"],"mappings":"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"}