{"version":3,"file":"FlightBooking-ByBMVx1c.js","sources":["../../src/components/FlightSelector.jsx","../../src/pages/FlightBooking.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { Star, TrendingUp, Plane, Shield, Award, Heart, CheckCircle2, Filter, ArrowUpDown, Clock, Briefcase, Coffee, Wifi, MonitorPlay, ChevronLeft, ChevronRight } from 'lucide-react';\r\n\r\nexport default function FlightSelector({ \r\n  from,\r\n  to,\r\n  departDate,\r\n  returnDate,\r\n  passengers,\r\n  onSelectFlight,\r\n  onSkip,\r\n  onCancel \r\n}) {\r\n  // Local debug logger â€” enabled in dev or when `VITE_DEBUG_FLIGHTS=1`\r\n  const _log = (level, ...args) => {\r\n    if (!(import.meta.env.DEV || import.meta?.env?.VITE_DEBUG_FLIGHTS === '1')) return;\r\n    // eslint-disable-next-line no-console\r\n    if (level === 'error') console.error(...args);\r\n    // eslint-disable-next-line no-console\r\n    else if (level === 'warn') console.warn(...args);\r\n    // eslint-disable-next-line no-console\r\n    else console.log(...args);\r\n  };\r\n  const [flights, setFlights] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filterBy, setFilterBy] = useState('all'); // all, direct, 1stop, 2stops\r\n  const [sortBy, setSortBy] = useState('recommended'); // recommended, price_low, price_high, duration, departure\r\n  const [favoriteFlights, setFavoriteFlights] = useState([]);\r\n  const [selectedFlight, setSelectedFlight] = useState(null);\r\n  const [preferredAirline, setPreferredAirline] = useState('');\r\n  const [preferredCabin, setPreferredCabin] = useState(''); // economy, premium_economy, business, first\r\n  const [maxStops, setMaxStops] = useState(3);\r\n  const [requiredAmenities, setRequiredAmenities] = useState([]);\r\n  const [canScrollLeft, setCanScrollLeft] = useState(false);\r\n  const [canScrollRight, setCanScrollRight] = useState(false);\r\n  const scrollContainerRef = useRef(null);\r\n\r\n  const fetchAvailableFlights = useCallback(async () => {\r\n    setLoading(true);\r\n    const useDemo = (import.meta?.env?.VITE_DEMO_FLIGHTS ?? '1') === '1';\r\n\r\n    const generateMockFlights = () => {\r\n      const airlines = ['South African', 'Lift', 'FlySafair', 'CemAir', 'British Airways', 'Ethiopian', 'Qatar'];\r\n      const cabins = ['economy', 'premium_economy', 'business'];\r\n      const basePrice = 1200;\r\n      const amenitiesPool = ['WiFi', 'Meals', 'Entertainment', 'Power Outlets', 'Checked Baggage'];\r\n\r\n      const mkLeg = (legFrom, legTo, dayOffset = 0, depHour = 6) => {\r\n        const dep = new Date(departDate);\r\n        dep.setDate(dep.getDate() + dayOffset);\r\n        dep.setHours(depHour);\r\n        const durationMinutes = 60 + Math.floor(Math.random() * 180);\r\n        const arr = new Date(dep.getTime() + durationMinutes * 60000);\r\n        return { departureTime: dep.toISOString(), arrivalTime: arr.toISOString(), durationMinutes };\r\n      };\r\n\r\n      const out = [];\r\n      for (let i = 0; i < 12; i++) {\r\n        const name = airlines[i % airlines.length];\r\n        const stops = i % 3; // 0,1,2\r\n        const cabin = cabins[i % cabins.length];\r\n        const leg = mkLeg(from, to, 0, 6 + (i % 10));\r\n        const priceMult = (1 + stops * 0.15) * (cabin === 'business' ? 2.2 : cabin === 'premium_economy' ? 1.35 : 1);\r\n        const price = Math.round(basePrice * priceMult / 10) * 10;\r\n        const amenities = amenitiesPool.filter((_, idx) => (i + idx) % 2 === 0).slice(0, 4);\r\n        const rating = 3.6 + Math.random() * 1.3;\r\n        const reviewCount = 400 + Math.floor(Math.random() * 3600);\r\n        out.push({\r\n          id: `FL-${Date.now()}-${i}`,\r\n          airline: { name, rating, reviewCount },\r\n          flightNumber: `${name.slice(0,2).toUpperCase()}${100 + i}`,\r\n          from,\r\n          to,\r\n          ...leg,\r\n          stops,\r\n          cabin,\r\n          amenities,\r\n          baggageIncluded: amenities.includes('Checked Baggage'),\r\n          refundable: Math.random() > 0.5,\r\n          isPremium: cabin !== 'economy',\r\n          price,\r\n          pricePerPerson: Math.round(price / Math.max(1, passengers)),\r\n        });\r\n      }\r\n      return out;\r\n    };\r\n\r\n    try {\r\n      _log('log', '[FlightSelector] Fetching flights for:', { from, to, departDate, returnDate, passengers });\r\n      const response = await fetch('/api/flights/search', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          from,\r\n          to,\r\n          departDate,\r\n          returnDate,\r\n          passengers\r\n        })\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        const list = data.flights || [];\r\n        setFlights(list.length ? list : (useDemo ? generateMockFlights() : []));\r\n      } else {\r\n        _log('error', '[FlightSelector] Failed to fetch flights');\r\n        setFlights(useDemo ? generateMockFlights() : []);\r\n      }\r\n    } catch (error) {\r\n      _log('error', '[FlightSelector] Error fetching flights:', error);\r\n      setFlights(useDemo ? generateMockFlights() : []);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [from, to, departDate, returnDate, passengers]);\r\n\r\n  const loadFavoriteFlights = useCallback(() => {\r\n    try {\r\n      const saved = localStorage.getItem('colleco.favoriteFlights');\r\n      if (saved) {\r\n        setFavoriteFlights(JSON.parse(saved));\r\n      }\r\n    } catch (error) {\r\n      _log('error', '[FlightSelector] Error loading favorites:', error);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchAvailableFlights();\r\n    loadFavoriteFlights();\r\n  }, [fetchAvailableFlights, loadFavoriteFlights]);\r\n\r\n\r\n  // scroll button checks are handled in the effect below\r\n\r\n  useEffect(() => {\r\n    const checkScrollButtons = () => {\r\n      const container = scrollContainerRef.current;\r\n      if (!container) return;\r\n      setCanScrollLeft(container.scrollTop > 0);\r\n      setCanScrollRight(\r\n        container.scrollTop < container.scrollHeight - container.clientHeight - 10\r\n      );\r\n    };\r\n\r\n    checkScrollButtons();\r\n    const container = scrollContainerRef.current;\r\n    if (container) {\r\n      container.addEventListener('scroll', checkScrollButtons);\r\n\r\n      // Add keyboard arrow support\r\n      const handleKeyDown = (e) => {\r\n        const c = scrollContainerRef.current;\r\n        if (!c) return;\r\n        if (e.key === 'ArrowUp') {\r\n          e.preventDefault();\r\n          c.scrollBy({ top: -300, behavior: 'smooth' });\r\n        } else if (e.key === 'ArrowDown') {\r\n          e.preventDefault();\r\n          c.scrollBy({ top: 300, behavior: 'smooth' });\r\n        }\r\n      };\r\n\r\n      window.addEventListener('keydown', handleKeyDown);\r\n      return () => {\r\n        container.removeEventListener('scroll', checkScrollButtons);\r\n        window.removeEventListener('keydown', handleKeyDown);\r\n      };\r\n    }\r\n  }, [flights]);\r\n\r\n  const scrollUp = () => {\r\n    const container = scrollContainerRef.current;\r\n    if (container) {\r\n      container.scrollBy({ top: -300, behavior: 'smooth' });\r\n    }\r\n  };\r\n\r\n  const scrollDown = () => {\r\n    const container = scrollContainerRef.current;\r\n    if (container) {\r\n      container.scrollBy({ top: 300, behavior: 'smooth' });\r\n    }\r\n  };\r\n\r\n  const toggleFavorite = (flightId) => {\r\n    const newFavorites = favoriteFlights.includes(flightId)\r\n      ? favoriteFlights.filter(id => id !== flightId)\r\n      : [...favoriteFlights, flightId];\r\n    \r\n    setFavoriteFlights(newFavorites);\r\n    localStorage.setItem('colleco.favoriteFlights', JSON.stringify(newFavorites));\r\n  };\r\n\r\n  // Auto Smart Scoring System\r\n  const scoreFlight = (flight) => {\r\n    let score = 0;\r\n    \r\n    // Convenience (40% weight) - fewer stops and shorter duration\r\n    const stopsScore = (3 - flight.stops) * 10; // Direct = 30, 1 stop = 20, etc\r\n    const durationScore = Math.max(0, 20 - (flight.durationMinutes / 60)); // Faster is better\r\n    score += stopsScore + durationScore;\r\n    \r\n    // Value for Money (35% weight)\r\n    const avgPrice = flights.reduce((sum, f) => sum + f.price, 0) / flights.length;\r\n    const priceScore = (1 - (flight.price / (avgPrice * 1.5))) * 35;\r\n    score += Math.max(0, priceScore);\r\n    \r\n    // Service Quality (25% weight)\r\n    const ratingScore = (flight.airline.rating / 5) * 15;\r\n    const reviewScore = Math.min(10, (flight.airline.reviewCount / 5000) * 10);\r\n    score += ratingScore + reviewScore;\r\n    \r\n    // Bonus points\r\n    if (flight.stops === 0) score += 5; // Direct flight bonus\r\n    if (flight.amenities.includes('WiFi')) score += 2;\r\n    if (flight.amenities.includes('Meals')) score += 2;\r\n    if (flight.baggageIncluded) score += 3;\r\n    if (flight.refundable) score += 3;\r\n    if (flight.isPremium) score += 5;\r\n    \r\n    return Math.round(score);\r\n  };\r\n\r\n  const autoPickBestFlight = () => {\r\n    if (flights.length === 0) return;\r\n    \r\n    const scoredFlights = flights.map(flight => ({\r\n      ...flight,\r\n      smartScore: scoreFlight(flight)\r\n    }));\r\n    \r\n    const best = scoredFlights.reduce((max, flight) => \r\n      flight.smartScore > max.smartScore ? flight : max\r\n    );\r\n    \r\n    setSelectedFlight(best);\r\n    onSelectFlight(best);\r\n  };\r\n\r\n  const getFilteredAndSortedFlights = () => {\r\n    let filtered = [...flights];\r\n    \r\n    // Apply airline filter (case-insensitive partial match)\r\n    if (preferredAirline) {\r\n      filtered = filtered.filter(f => \r\n        f.airline && f.airline.name && f.airline.name.toLowerCase().includes(preferredAirline.toLowerCase())\r\n      );\r\n    }\r\n    \r\n    // Apply cabin filter (case-insensitive partial match)\r\n    if (preferredCabin) {\r\n      filtered = filtered.filter(f => \r\n        f.cabin && f.cabin.toLowerCase().includes(preferredCabin.toLowerCase())\r\n      );\r\n    }\r\n    \r\n    // Apply stops filter\r\n    if (maxStops < 3) {\r\n      filtered = filtered.filter(f => f.stops <= maxStops);\r\n    }\r\n    \r\n    // Apply amenities filter (case-insensitive partial match)\r\n    if (requiredAmenities.length > 0) {\r\n      filtered = filtered.filter(f => \r\n        f.amenities && requiredAmenities.every(amenity => \r\n          f.amenities.some(a => a.toLowerCase().includes(amenity.toLowerCase()))\r\n        )\r\n      );\r\n    }\r\n    \r\n    // Apply category filter\r\n    if (filterBy !== 'all') {\r\n      if (filterBy === 'favorites') {\r\n        filtered = filtered.filter(f => favoriteFlights.includes(f.id));\r\n      } else if (filterBy === 'direct') {\r\n        filtered = filtered.filter(f => f.stops === 0);\r\n      } else if (filterBy === '1stop') {\r\n        filtered = filtered.filter(f => f.stops === 1);\r\n      } else if (filterBy === '2stops') {\r\n        filtered = filtered.filter(f => f.stops === 2);\r\n      } else if (filterBy === 'premium') {\r\n        filtered = filtered.filter(f => f.isPremium);\r\n      }\r\n    }\r\n    \r\n    // Apply sorting\r\n    filtered.sort((a, b) => {\r\n      switch (sortBy) {\r\n        case 'price_low':\r\n          return a.price - b.price;\r\n        case 'price_high':\r\n          return b.price - a.price;\r\n        case 'duration':\r\n          return a.durationMinutes - b.durationMinutes;\r\n        case 'departure':\r\n          return new Date(a.departureTime) - new Date(b.departureTime);\r\n        case 'recommended':\r\n        default:\r\n          return scoreFlight(b) - scoreFlight(a);\r\n      }\r\n    });\r\n    \r\n    return filtered;\r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    return `R${amount.toLocaleString()}`;\r\n  };\r\n\r\n  const formatDuration = (minutes) => {\r\n    const hours = Math.floor(minutes / 60);\r\n    const mins = minutes % 60;\r\n    return `${hours}h ${mins}m`;\r\n  };\r\n\r\n  const formatTime = (dateTimeString) => {\r\n    const date = new Date(dateTimeString);\r\n    return date.toLocaleTimeString('en-ZA', { hour: '2-digit', minute: '2-digit' });\r\n  };\r\n\r\n  const filteredFlights = getFilteredAndSortedFlights();\r\n\r\n  // Get unique airlines for filter\r\n  const airlines = [...new Set(flights.map(f => f.airline.name))];\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 z-modal flex items-center justify-center p-4\">\r\n      <div className=\"bg-white rounded-xl shadow-2xl max-w-6xl w-full max-h-[90vh] flex flex-col\">\r\n        {/* Header */}\r\n        <div className=\"p-3 sm:p-6 border-b bg-gradient-to-r from-brand-orange to-orange-600\">\r\n          <h2 className=\"text-2xl font-bold text-white mb-2\">Pick My Flight</h2>\r\n          <p className=\"text-white/90 text-sm\">\r\n            {from} â†’ {to} â€¢ {passengers} passenger{passengers !== 1 ? 's' : ''} â€¢ {departDate}\r\n            {returnDate && ` - ${returnDate}`}\r\n          </p>\r\n        </div>\r\n\r\n        {/* Filters & Controls */}\r\n        <div className=\"p-4 border-b bg-gray-50 space-y-4\">\r\n          {/* Smart Actions */}\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            <button\r\n              onClick={autoPickBestFlight}\r\n              className=\"px-4 py-2 bg-brand-orange text-white rounded-lg hover:bg-orange-600 transition-colors flex items-center gap-2 text-sm font-medium\"\r\n            >\r\n              <Award className=\"h-4 w-4\" />\r\n              Auto Smart Pick\r\n            </button>\r\n          </div>\r\n\r\n          {/* Preference Filters */}\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-4 gap-3\">\r\n            <div>\r\n              <label className=\"block text-xs font-medium text-gray-700 mb-1\">\r\n                Airline\r\n              </label>\r\n              <select\r\n                value={preferredAirline}\r\n                onChange={(e) => setPreferredAirline(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:border-brand-orange focus:outline-none\"\r\n              >\r\n                <option value=\"\">Any Airline</option>\r\n                {airlines.map(airline => (\r\n                  <option key={airline} value={airline}>{airline}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-xs font-medium text-gray-700 mb-1\">\r\n                Cabin Class\r\n              </label>\r\n              <select\r\n                value={preferredCabin}\r\n                onChange={(e) => setPreferredCabin(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:border-brand-orange focus:outline-none\"\r\n              >\r\n                <option value=\"\">Any Class</option>\r\n                <option value=\"economy\">Economy</option>\r\n                <option value=\"premium_economy\">Premium Economy</option>\r\n                <option value=\"business\">Business</option>\r\n                <option value=\"first\">First Class</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-xs font-medium text-gray-700 mb-1\">\r\n                Maximum Stops\r\n              </label>\r\n              <select\r\n                value={maxStops}\r\n                onChange={(e) => setMaxStops(Number(e.target.value))}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:border-brand-orange focus:outline-none\"\r\n              >\r\n                <option value=\"3\">Any</option>\r\n                <option value=\"0\">Direct Only</option>\r\n                <option value=\"1\">Max 1 Stop</option>\r\n                <option value=\"2\">Max 2 Stops</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-xs font-medium text-gray-700 mb-1\">\r\n                Required Amenities\r\n              </label>\r\n              <select\r\n                multiple\r\n                value={requiredAmenities}\r\n                onChange={(e) => setRequiredAmenities(Array.from(e.target.selectedOptions, option => option.value))}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:border-brand-orange focus:outline-none\"\r\n                size={3}\r\n              >\r\n                <option value=\"WiFi\">WiFi</option>\r\n                <option value=\"Meals\">Meals Included</option>\r\n                <option value=\"Entertainment\">Entertainment</option>\r\n                <option value=\"Power Outlets\">Power Outlets</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Filter & Sort */}\r\n          <div className=\"flex flex-wrap gap-3 items-center\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <Filter className=\"h-4 w-4 text-gray-500\" />\r\n              <select\r\n                value={filterBy}\r\n                onChange={(e) => setFilterBy(e.target.value)}\r\n                className=\"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:border-brand-orange focus:outline-none\"\r\n              >\r\n                <option value=\"all\">All Flights</option>\r\n                <option value=\"favorites\">Favorites</option>\r\n                <option value=\"direct\">Direct Only</option>\r\n                <option value=\"1stop\">1 Stop</option>\r\n                <option value=\"2stops\">2 Stops</option>\r\n                <option value=\"premium\">Premium Only</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-2\">\r\n              <ArrowUpDown className=\"h-4 w-4 text-gray-500\" />\r\n              <select\r\n                value={sortBy}\r\n                onChange={(e) => setSortBy(e.target.value)}\r\n                className=\"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:border-brand-orange focus:outline-none\"\r\n              >\r\n                <option value=\"recommended\">Recommended</option>\r\n                <option value=\"price_low\">Price: Low to High</option>\r\n                <option value=\"price_high\">Price: High to Low</option>\r\n                <option value=\"duration\">Shortest Duration</option>\r\n                <option value=\"departure\">Earliest Departure</option>\r\n              </select>\r\n            </div>\r\n\r\n            <span className=\"text-sm text-gray-600 ml-auto\">\r\n              {filteredFlights.length} flight{filteredFlights.length !== 1 ? 's' : ''} available\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Flights List */}\r\n        <div className=\"flex-1 overflow-y-auto p-4 relative\" ref={scrollContainerRef}>\r\n          {/* Scroll Up Button */}\r\n          {canScrollLeft && (\r\n            <button\r\n              onClick={scrollUp}\r\n              className=\"fixed top-1/2 left-4 -translate-y-1/2 z-10 bg-white shadow-lg rounded-full p-3 hover:bg-gray-50 transition-colors border-2 border-gray-200\"\r\n              aria-label=\"Scroll up\"\r\n            >\r\n              <ChevronLeft className=\"h-6 w-6 text-brand-orange rotate-90\" />\r\n            </button>\r\n          )}\r\n\r\n          {/* Scroll Down Button */}\r\n          {canScrollRight && (\r\n            <button\r\n              onClick={scrollDown}\r\n              className=\"fixed bottom-32 left-4 z-10 bg-white shadow-lg rounded-full p-3 hover:bg-gray-50 transition-colors border-2 border-gray-200\"\r\n              aria-label=\"Scroll down\"\r\n            >\r\n              <ChevronRight className=\"h-6 w-6 text-brand-orange rotate-90\" />\r\n            </button>\r\n          )}\r\n\r\n          {loading ? (\r\n            <div className=\"flex items-center justify-center py-12\">\r\n              <div className=\"animate-spin rounded-full h-12 w-12 border-4 border-brand-orange border-t-transparent\"></div>\r\n            </div>\r\n          ) : filteredFlights.length === 0 ? (\r\n            <div className=\"text-center py-12\">\r\n              <Plane className=\"h-16 w-16 text-gray-300 mx-auto mb-4\" />\r\n              <p className=\"text-gray-500\">No flights match your criteria</p>\r\n              <button\r\n                onClick={() => {\r\n                  setFilterBy('all');\r\n                  setPreferredAirline('');\r\n                  setPreferredCabin('');\r\n                  setMaxStops(3);\r\n                  setRequiredAmenities([]);\r\n                }}\r\n                className=\"mt-4 text-brand-orange hover:underline text-sm\"\r\n              >\r\n                Clear all filters\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            filteredFlights.map((flight) => (\r\n              <div\r\n                key={flight.id}\r\n                onClick={() => setSelectedFlight(flight)}\r\n                className={`mb-4 border-2 rounded-lg p-4 cursor-pointer transition-all hover:shadow-lg ${\r\n                  selectedFlight?.id === flight.id\r\n                    ? 'border-brand-orange bg-orange-50'\r\n                    : 'border-gray-200 hover:border-brand-orange/50'\r\n                }`}\r\n              >\r\n                <div className=\"flex items-start justify-between mb-3\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <div className=\"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center\">\r\n                      <Plane className=\"h-6 w-6 text-gray-600\" />\r\n                    </div>\r\n                    <div>\r\n                      <h3 className=\"font-bold text-lg text-brand-brown\">{flight.airline.name}</h3>\r\n                      <p className=\"text-sm text-gray-600\">Flight {flight.flightNumber}</p>\r\n                    </div>\r\n                  </div>\r\n                  <button\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      toggleFavorite(flight.id);\r\n                    }}\r\n                    className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\r\n                  >\r\n                    <Heart\r\n                      className={`h-5 w-5 ${\r\n                        favoriteFlights.includes(flight.id)\r\n                          ? 'fill-red-500 text-red-500'\r\n                          : 'text-gray-400'\r\n                      }`}\r\n                    />\r\n                  </button>\r\n                </div>\r\n\r\n                {/* Flight Route */}\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mb-3\">\r\n                  <div>\r\n                    <p className=\"text-xl sm:text-2xl font-bold text-brand-brown\">{formatTime(flight.departureTime)}</p>\r\n                    <p className=\"text-sm text-gray-600\">{flight.from}</p>\r\n                  </div>\r\n                  <div className=\"flex flex-col items-center justify-center\">\r\n                    <div className=\"flex items-center gap-2 text-sm text-gray-600\">\r\n                      <div className=\"h-px bg-gray-300 flex-1\"></div>\r\n                      <div className=\"flex flex-col items-center\">\r\n                        <Clock className=\"h-4 w-4\" />\r\n                        <span className=\"text-xs\">{formatDuration(flight.durationMinutes)}</span>\r\n                      </div>\r\n                      <div className=\"h-px bg-gray-300 flex-1\"></div>\r\n                    </div>\r\n                    <p className=\"text-xs text-gray-500 mt-1\">\r\n                      {flight.stops === 0 ? 'Direct' : `${flight.stops} stop${flight.stops > 1 ? 's' : ''}`}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <p className=\"text-2xl font-bold text-brand-brown\">{formatTime(flight.arrivalTime)}</p>\r\n                    <p className=\"text-sm text-gray-600\">{flight.to}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Cabin & Rating */}\r\n                <div className=\"flex items-center gap-4 mb-3 text-sm\">\r\n                  <span className=\"px-2 py-1 bg-gray-100 rounded capitalize\">{flight.cabin.replace('_', ' ')}</span>\r\n                  <div className=\"flex items-center gap-1\">\r\n                    <Star className=\"h-4 w-4 text-brand-gold\" />\r\n                    <span className=\"font-semibold\">{flight.airline.rating.toFixed(1)}</span>\r\n                    <span className=\"text-xs text-gray-500\">({flight.airline.reviewCount} reviews)</span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Amenities */}\r\n                <div className=\"flex flex-wrap gap-2 mb-3\">\r\n                  {flight.amenities.map((amenity, idx) => (\r\n                    <span\r\n                      key={idx}\r\n                      className=\"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full flex items-center gap-1\"\r\n                    >\r\n                      {amenity === 'WiFi' && <Wifi className=\"h-3 w-3\" />}\r\n                      {amenity === 'Meals' && <Coffee className=\"h-3 w-3\" />}\r\n                      {amenity === 'Entertainment' && <MonitorPlay className=\"h-3 w-3\" />}\r\n                      {amenity === 'Checked Baggage' && <Briefcase className=\"h-3 w-3\" />}\r\n                      {amenity}\r\n                    </span>\r\n                  ))}\r\n                </div>\r\n\r\n                {/* Badges */}\r\n                <div className=\"flex flex-wrap gap-2 mb-3\">\r\n                  {flight.isPremium && (\r\n                    <span className=\"px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded-full flex items-center gap-1\">\r\n                      <Award className=\"h-3 w-3\" />\r\n                      Premium Service\r\n                    </span>\r\n                  )}\r\n                  {flight.baggageIncluded && (\r\n                    <span className=\"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full flex items-center gap-1\">\r\n                      <Briefcase className=\"h-3 w-3\" />\r\n                      Baggage Included\r\n                    </span>\r\n                  )}\r\n                  {flight.refundable && (\r\n                    <span className=\"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full flex items-center gap-1\">\r\n                      <Shield className=\"h-3 w-3\" />\r\n                      Refundable\r\n                    </span>\r\n                  )}\r\n                  {flight.stops === 0 && (\r\n                    <span className=\"px-2 py-1 bg-orange-100 text-brand-orange text-xs rounded-full flex items-center gap-1\">\r\n                      <TrendingUp className=\"h-3 w-3\" />\r\n                      Direct Flight\r\n                    </span>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Price */}\r\n                <div className=\"flex items-baseline justify-between pt-3 border-t\">\r\n                  <div>\r\n                    <span className=\"text-2xl font-bold text-brand-orange\">\r\n                      {formatCurrency(flight.price)}\r\n                    </span>\r\n                    <span className=\"text-sm text-gray-600 ml-2\">total</span>\r\n                  </div>\r\n                  {flight.pricePerPerson && (\r\n                    <span className=\"text-xs text-gray-500\">\r\n                      {formatCurrency(flight.pricePerPerson)} per person\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer Actions */}\r\n        <div className=\"p-4 border-t bg-gray-50 flex flex-wrap justify-between items-center gap-3\">\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              onClick={onCancel}\r\n              className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors text-sm\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            \r\n            {onSkip && (\r\n              <button\r\n                onClick={() => onSkip(flights)}\r\n                className=\"px-4 py-2 border border-brand-orange text-brand-orange rounded-lg hover:bg-orange-50 transition-colors text-sm\"\r\n              >\r\n                Skip for now\r\n              </button>\r\n            )}\r\n          </div>\r\n          \r\n          <button\r\n            onClick={() => selectedFlight && onSelectFlight(selectedFlight)}\r\n            disabled={!selectedFlight}\r\n            className=\"px-3 sm:px-6 py-2 bg-brand-orange text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 text-sm sm:text-base\"\r\n          >\r\n            <CheckCircle2 className=\"h-4 w-4\" />\r\n            Confirm Flight {selectedFlight && `- ${formatCurrency(selectedFlight.price)}`}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport BookingNav from '../components/BookingNav';\r\nimport FlightSelector from '../components/FlightSelector';\r\nimport Button from '../components/ui/Button.jsx';\r\nimport { Plane, Clock, DollarSign } from 'lucide-react';\r\nimport { processBookingRewards } from '../utils/bookingIntegration';\r\n\r\nexport default function FlightBooking(){\r\n  const [from, setFrom] = useState('');\r\n  const [to, setTo] = useState('');\r\n  const [departDate, setDepartDate] = useState('');\r\n  const [returnDate, setReturnDate] = useState('');\r\n  const [isRoundTrip, setIsRoundTrip] = useState(false);\r\n  const [passengers, setPassengers] = useState(1);\r\n  const [cabinClass, setCabinClass] = useState('economy');\r\n  const [showFlightSelector, setShowFlightSelector] = useState(false);\r\n  const [selectedFlight, setSelectedFlight] = useState(null);\r\n  const [flightPending, setFlightPending] = useState(false);\r\n  const [availableFlights, setAvailableFlights] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [formErrors, setFormErrors] = useState({});\r\n  \r\n  React.useEffect(() => {\r\n    if (typeof window !== 'undefined' && typeof window.scrollTo === 'function') {\r\n      window.scrollTo({ top: 0, behavior: 'smooth' });\r\n    }\r\n  }, []);\r\n\r\n  const today = new Date().toISOString().split('T')[0];\r\n  const minReturn = departDate || today;\r\n\r\n  function handleSkipFlightSelection(flights) {\r\n    setAvailableFlights(flights);\r\n    setShowFlightSelector(false);\r\n    setFlightPending(true);\r\n    setSelectedFlight(null);\r\n  }\r\n\r\n  async function autoAssignCheapestFlight() {\r\n    if (!availableFlights || availableFlights.length === 0) {\r\n      alert('No available flights to assign. Please try again.');\r\n      return;\r\n    }\r\n\r\n    const cheapestFlight = availableFlights.reduce((min, flight) => \r\n      flight.price < min.price ? flight : min\r\n    );\r\n\r\n    await confirmFlightSelection(cheapestFlight);\r\n  }\r\n\r\n  function reopenFlightSelector() {\r\n    setFlightPending(false);\r\n    setShowFlightSelector(true);\r\n  }\r\n\r\n  async function confirmFlightSelection(flight) {\r\n    setSelectedFlight(flight);\r\n    setShowFlightSelector(false);\r\n    setFlightPending(false);\r\n    setLoading(true);\r\n\r\n    try {\r\n      await new Promise(resolve => setTimeout(resolve, 1000));\r\n      \r\n      // Create booking object for loyalty integration\r\n      const booking = {\r\n        id: `FLT_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n        type: 'flight',\r\n        amount: flight.price * passengers,\r\n        userId: localStorage.getItem('colleco.user.id') || 'guest_' + Date.now(),\r\n        checkInDate: new Date(departDate),\r\n        flightNumber: flight.flightNumber,\r\n        from,\r\n        to,\r\n        passengers,\r\n        cabinClass\r\n      };\r\n      \r\n      // Process loyalty rewards and track booking\r\n      const result = processBookingRewards(booking);\r\n      \r\n      alert(`Flight ${flight.flightNumber} booked successfully! You earned ${result.pointsEarned} loyalty points! ðŸŽ‰`);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Booking failed:', error);\r\n      alert('Booking failed. Please try again.');\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    \r\n    const errors = {};\r\n    if (!from || from.length < 3) errors.from = 'Please enter a valid departure city';\r\n    if (!to || to.length < 3) errors.to = 'Please enter a valid destination';\r\n    if (!departDate) errors.departDate = 'Please select departure date';\r\n    if (isRoundTrip && !returnDate) errors.returnDate = 'Please select return date';\r\n    if (isRoundTrip && returnDate && departDate && new Date(returnDate) <= new Date(departDate)) {\r\n      errors.returnDate = 'Return date must be after departure';\r\n    }\r\n    if (passengers < 1 || passengers > 9) errors.passengers = 'Passengers must be between 1 and 9';\r\n    \r\n    if (Object.keys(errors).length > 0) {\r\n      setFormErrors(errors);\r\n      return;\r\n    }\r\n    \r\n    setFormErrors({});\r\n    setShowFlightSelector(true);\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-cream min-h-screen overflow-x-hidden\">\r\n      <div className=\"max-w-6xl mx-auto px-4 sm:px-6 py-8\">\r\n        <BookingNav />\r\n        \r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl sm:text-4xl font-bold tracking-tight text-brand-brown\">Flight Booking</h1>\r\n          <p className=\"mt-2 text-sm sm:text-base text-brand-russty max-w-prose\">\r\n            Compare flights from multiple airlines and find the best deals for your journey.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-xl shadow-sm border border-cream-border p-6 mb-6\">\r\n          <h2 className=\"text-lg font-bold text-brand-brown mb-4\">Search Flights</h2>\r\n          \r\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n            {/* Trip Type */}\r\n            <div className=\"flex gap-4\">\r\n              <label className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"radio\"\r\n                  checked={!isRoundTrip}\r\n                  onChange={() => setIsRoundTrip(false)}\r\n                  className=\"accent-brand-orange\"\r\n                />\r\n                <span className=\"text-sm font-medium\">One-way</span>\r\n              </label>\r\n              <label className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"radio\"\r\n                  checked={isRoundTrip}\r\n                  onChange={() => setIsRoundTrip(true)}\r\n                  className=\"accent-brand-orange\"\r\n                />\r\n                <span className=\"text-sm font-medium\">Round-trip</span>\r\n              </label>\r\n            </div>\r\n\r\n            {/* From / To */}\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block mb-2 text-sm font-semibold text-brand-brown\">From (City/Airport) *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={from}\r\n                  onChange={e => setFrom(e.target.value)}\r\n                  required\r\n                  className=\"w-full border-2 border-cream-border rounded-lg px-3 py-2 focus:border-brand-orange focus:outline-none transition-colors\"\r\n                  placeholder=\"e.g., Durban (DUR)\"\r\n                />\r\n                {formErrors.from && <p className=\"text-red-500 text-xs mt-1\">{formErrors.from}</p>}\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block mb-2 text-sm font-semibold text-brand-brown\">To (City/Airport) *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={to}\r\n                  onChange={e => setTo(e.target.value)}\r\n                  required\r\n                  className=\"w-full border-2 border-cream-border rounded-lg px-3 py-2 focus:border-brand-orange focus:outline-none transition-colors\"\r\n                  placeholder=\"e.g., Cape Town (CPT)\"\r\n                />\r\n                {formErrors.to && <p className=\"text-red-500 text-xs mt-1\">{formErrors.to}</p>}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Dates */}\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block mb-2 text-sm font-semibold text-brand-brown\">Departure Date *</label>\r\n                <input\r\n                  type=\"date\"\r\n                  value={departDate}\r\n                  onChange={e => setDepartDate(e.target.value)}\r\n                  min={today}\r\n                  required\r\n                  className=\"w-full border-2 border-cream-border rounded-lg px-3 py-2 focus:border-brand-orange focus:outline-none transition-colors\"\r\n                />\r\n                {formErrors.departDate && <p className=\"text-red-500 text-xs mt-1\">{formErrors.departDate}</p>}\r\n              </div>\r\n\r\n              {isRoundTrip && (\r\n                <div>\r\n                  <label className=\"block mb-2 text-sm font-semibold text-brand-brown\">Return Date *</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={returnDate}\r\n                    onChange={e => setReturnDate(e.target.value)}\r\n                    min={minReturn}\r\n                    required={isRoundTrip}\r\n                    className=\"w-full border-2 border-cream-border rounded-lg px-3 py-2 focus:border-brand-orange focus:outline-none transition-colors\"\r\n                  />\r\n                  {formErrors.returnDate && <p className=\"text-red-500 text-xs mt-1\">{formErrors.returnDate}</p>}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Passengers & Cabin */}\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label htmlFor=\"passengers\" className=\"block mb-2 text-sm font-semibold text-brand-brown\">Passengers *</label>\r\n                <input\r\n                  id=\"passengers\"\r\n                  type=\"number\"\r\n                  min={1}\r\n                  max={9}\r\n                  value={passengers}\r\n                  onChange={e => setPassengers(Number(e.target.value))}\r\n                  required\r\n                  className=\"w-full border-2 border-cream-border rounded-lg px-3 py-2 focus:border-brand-orange focus:outline-none transition-colors\"\r\n                />\r\n                {formErrors.passengers && <p className=\"text-red-500 text-xs mt-1\">{formErrors.passengers}</p>}\r\n              </div>\r\n\r\n              <div>\r\n                <label htmlFor=\"cabinClass\" className=\"block mb-2 text-sm font-semibold text-brand-brown\">Cabin Class</label>\r\n                <select\r\n                  id=\"cabinClass\"\r\n                  value={cabinClass}\r\n                  onChange={e => setCabinClass(e.target.value)}\r\n                  className=\"w-full border-2 border-cream-border rounded-lg px-3 py-2 focus:border-brand-orange focus:outline-none transition-colors\"\r\n                >\r\n                  <option value=\"economy\">Economy</option>\r\n                  <option value=\"premium_economy\">Premium Economy</option>\r\n                  <option value=\"business\">Business</option>\r\n                  <option value=\"first\">First Class</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <Button type=\"submit\" fullWidth disabled={loading}>\r\n              {loading ? 'Processing...' : 'Search Flights'}\r\n            </Button>\r\n          </form>\r\n        </div>\r\n\r\n        {flightPending && !loading && (\r\n          <div className=\"p-6 border-2 border-brand-orange rounded-lg bg-orange-50 shadow-sm\">\r\n            <div className=\"flex items-start gap-3 mb-4\">\r\n              <div className=\"w-10 h-10 rounded-full bg-brand-orange flex items-center justify-center flex-shrink-0\">\r\n                <Clock className=\"h-5 w-5 text-white\" />\r\n              </div>\r\n              <div className=\"flex-1\">\r\n                <h2 className=\"font-bold text-lg text-brand-brown mb-1\">Booking Pending - Choose Your Flight</h2>\r\n                <p className=\"text-sm text-brand-russty\">Your search details are saved. Select your preferred flight to proceed.</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-lg p-4 mb-4 border border-cream-border\">\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm\">\r\n                <div>\r\n                  <p className=\"text-xs text-gray-500 mb-1\">Route</p>\r\n                  <p className=\"font-semibold text-brand-brown\">{from} â†’ {to}</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-xs text-gray-500 mb-1\">Passengers</p>\r\n                  <p className=\"font-semibold text-brand-brown\">{passengers} passenger{passengers !== 1 ? 's' : ''}</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-xs text-gray-500 mb-1\">Departure</p>\r\n                  <p className=\"font-semibold text-brand-brown\">{departDate}</p>\r\n                </div>\r\n                {isRoundTrip && (\r\n                  <div>\r\n                    <p className=\"text-xs text-gray-500 mb-1\">Return</p>\r\n                    <p className=\"font-semibold text-brand-brown\">{returnDate}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n              <Button fullWidth onClick={reopenFlightSelector} className=\"flex items-center justify-center gap-2\">\r\n                <Plane className=\"h-4 w-4\" />\r\n                Pick My Flight\r\n              </Button>\r\n              \r\n              <Button\r\n                fullWidth\r\n                variant=\"outline\"\r\n                onClick={autoAssignCheapestFlight}\r\n                className=\"flex items-center justify-center gap-2 border-brand-orange text-brand-orange hover:bg-orange-50\"\r\n              >\r\n                <DollarSign className=\"h-4 w-4\" />\r\n                Auto-assign Cheapest Flight\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {selectedFlight && !loading && (\r\n          <div className=\"space-y-6\">\r\n            {/* Booking Confirmation Card */}\r\n            <div className=\"bg-white rounded-xl shadow-sm border border-cream-border p-6\">\r\n              <h2 className=\"text-lg font-bold text-brand-brown mb-4\">Booking Confirmed</h2>\r\n              <div className=\"space-y-2\">\r\n                <p><span className=\"font-semibold\">Flight:</span> {selectedFlight.airline.name} {selectedFlight.flightNumber}</p>\r\n                <p><span className=\"font-semibold\">Route:</span> {selectedFlight.from} â†’ {selectedFlight.to}</p>\r\n                <p><span className=\"font-semibold\">Cabin:</span> {selectedFlight.cabin.replace('_', ' ')}</p>\r\n                <p><span className=\"font-semibold\">Total Price:</span> R{selectedFlight.price.toLocaleString()}</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Terms & Conditions - Flight Policies */}\r\n            <div className=\"bg-white rounded-xl shadow-sm border border-cream-border p-6\">\r\n              <h2 className=\"text-lg font-bold text-brand-brown mb-4\">Flight Terms & Conditions</h2>\r\n              <div className=\"space-y-4\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <p className=\"font-semibold text-brand-brown mb-1\">Cancellation Policy</p>\r\n                    <ul className=\"list-disc list-inside space-y-1 text-xs\">\r\n                      <li>Free cancellation up to 7 days before departure</li>\r\n                      <li>50% refund for cancellations 3-7 days before departure</li>\r\n                      <li>No refund for cancellations within 72 hours of departure</li>\r\n                    </ul>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"font-semibold text-brand-brown mb-1\">Payment Terms</p>\r\n                    <ul className=\"list-disc list-inside space-y-1 text-xs\">\r\n                      <li>Full payment required at time of booking</li>\r\n                      <li>Tickets are issued immediately upon payment</li>\r\n                      <li>Changes may incur additional fees</li>\r\n                    </ul>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"font-semibold text-brand-brown mb-1\">Airline Policies</p>\r\n                    <ul className=\"list-disc list-inside space-y-1 text-xs\">\r\n                      <li>Valid passport required for international flights</li>\r\n                      <li>Baggage allowance depends on fare and airline</li>\r\n                      <li>Check-in closes 2 hours before departure (domestic), 3 hours (international)</li>\r\n                      <li>Travel insurance highly recommended</li>\r\n                    </ul>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"font-semibold text-brand-brown mb-1\">Important Information</p>\r\n                    <ul className=\"list-disc list-inside space-y-1 text-xs\">\r\n                      <li>Arrive at airport 2-3 hours before departure</li>\r\n                      <li>Confirmation email includes your booking reference</li>\r\n                      <li>Seat selection and meal preferences handled directly with airline</li>\r\n                      <li>Delays/cancellations: Check with airline for rebooking options</li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Contact Information - Separated by Purpose */}\r\n              <div className=\"border-t pt-6\">\r\n                <h3 className=\"text-lg font-bold text-brand-brown mb-3\">Need Assistance?</h3>\r\n                \r\n                {/* Airline Contact - For Flight-Specific Issues */}\r\n                <div className=\"mb-4 bg-green-50 border border-green-200 rounded-lg p-4\">\r\n                  <div className=\"flex items-center gap-2 mb-2\">\r\n                    <svg className=\"h-5 w-5 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" />\r\n                    </svg>\r\n                    <h4 className=\"font-semibold text-green-900\">Flight Changes & Check-in - Contact Airline Directly</h4>\r\n                  </div>\r\n                  <p className=\"text-sm text-green-800 mb-3\">For seat selection, baggage, check-in, or flight status updates:</p>\r\n                  <div className=\"text-sm\">\r\n                    <p className=\"text-green-700 font-medium\">Airline: {selectedFlight.airline.name}</p>\r\n                    <p className=\"text-green-600\">Visit airline website or call their customer service</p>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Zola - Primary Support */}\r\n                <div className=\"bg-orange-50 border-2 border-brand-orange rounded-lg p-4 mb-4\">\r\n                  <div className=\"flex items-center gap-2 mb-2\">\r\n                    <svg className=\"h-6 w-6 text-brand-orange\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n                    </svg>\r\n                    <h4 className=\"font-semibold text-brand-brown text-lg\">Zola - 24/7 Instant Help</h4>\r\n                  </div>\r\n                  <p className=\"text-sm text-brand-brown mb-3\">\r\n                    Get instant answers about your booking, changes, cancellations, refunds, payment issues, and recommendations. \r\n                    Zola handles most requests immediately and routes complex issues to the right specialist.\r\n                  </p>\r\n                  <button \r\n                    onClick={() => {\r\n                      // Trigger AIAgent to open via custom event\r\n                      window.dispatchEvent(new CustomEvent('openAIAgent'));\r\n                      // Smooth scroll to bottom-right where AIAgent is positioned\r\n                      window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });\r\n                    }}\r\n                    className=\"w-full bg-brand-orange text-white font-semibold py-3 px-4 rounded-lg hover:bg-orange-600 transition-colors flex items-center justify-center gap-2\"\r\n                  >\r\n                    <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\r\n                    </svg>\r\n                    Chat with Zola Now\r\n                  </button>\r\n                  <p className=\"text-xs text-gray-600 mt-2 text-center\">\r\n                    Available 24/7 â€¢ Instant responses â€¢ Handles booking changes, queries & recommendations\r\n                  </p>\r\n                </div>\r\n\r\n                {/* Human Support - Backup */}\r\n                <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\r\n                  <div className=\"flex items-center gap-2 mb-2\">\r\n                    <svg className=\"h-5 w-5 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z\" />\r\n                    </svg>\r\n                    <h4 className=\"font-medium text-gray-700 text-sm\">Need to Speak to a Specialist?</h4>\r\n                  </div>\r\n                  <p className=\"text-xs text-gray-600 mb-3\">If Zola can&apos;t resolve your issue, you&apos;ll be connected to our team:</p>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 text-xs\">\r\n                    <div>\r\n                      <p className=\"text-gray-500\">Email Support</p>\r\n                      <p className=\"font-semibold text-gray-700\">support@colleco.co.za</p>\r\n                      <p className=\"text-xs text-gray-400\">Zola routes to specialist</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-gray-500\">Phone (Escalations)</p>\r\n                      <p className=\"font-semibold text-gray-700\">+27 31 123 4567</p>\r\n                      <p className=\"text-xs text-gray-400\">Mon-Fri: 9AM-5PM</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {showFlightSelector && (\r\n        <FlightSelector\r\n          from={from}\r\n          to={to}\r\n          departDate={departDate}\r\n          returnDate={isRoundTrip ? returnDate : null}\r\n          passengers={passengers}\r\n          onSelectFlight={confirmFlightSelection}\r\n          onSkip={handleSkipFlightSelection}\r\n          onCancel={() => setShowFlightSelector(false)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["useState","useRef","useCallback","airlines","useEffect","container","jsxs","jsx"],"mappings":"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"}