{"version":3,"file":"Login-Di12DA54.js","sources":["../../src/components/LegalConsentModal.jsx","../../src/pages/Login.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Shield, FileText, Lock, Check, X, AlertTriangle } from 'lucide-react';\r\n\r\n/**\r\n * LegalConsentModal\r\n * Comprehensive legal agreement and consent collection for CollEco Travel\r\n * Handles Terms & Conditions, SLA, Privacy Policy, and POPI Act compliance\r\n */\r\nexport default function LegalConsentModal({ \r\n  userId, \r\n  userType = 'client', \r\n  onAccept, \r\n  onDecline,\r\n  isRegistration = true \r\n}) {\r\n  const [consents, setConsents] = useState({\r\n    termsAndConditions: false,\r\n    privacyPolicy: false,\r\n    dataProcessing: false,\r\n    sla: false,\r\n    marketingCommunications: false,\r\n    thirdPartySharing: false,\r\n  });\r\n\r\n  const [showDetails, setShowDetails] = useState({\r\n    terms: false,\r\n    privacy: false,\r\n    sla: false,\r\n  });\r\n\r\n  const [agreedAt, setAgreedAt] = useState(null);\r\n  const [hasScrolledTerms, setHasScrolledTerms] = useState(false);\r\n  const [hasScrolledPrivacy, setHasScrolledPrivacy] = useState(false);\r\n\r\n  // Check if user has already accepted legal terms\r\n  useEffect(() => {\r\n    const existingConsent = localStorage.getItem(`colleco.legal.consent.${userId}`);\r\n    if (existingConsent) {\r\n      const parsed = JSON.parse(existingConsent);\r\n      setAgreedAt(parsed.agreedAt);\r\n      setConsents(parsed.consents);\r\n    }\r\n  }, [userId]);\r\n\r\n  const handleScroll = (type, e) => {\r\n    const { scrollTop, scrollHeight, clientHeight } = e.target;\r\n    const scrolledToBottom = scrollTop + clientHeight >= scrollHeight - 10;\r\n    \r\n    if (scrolledToBottom) {\r\n      if (type === 'terms') setHasScrolledTerms(true);\r\n      if (type === 'privacy') setHasScrolledPrivacy(true);\r\n    }\r\n  };\r\n\r\n  const toggleConsent = (key) => {\r\n    setConsents(prev => ({ ...prev, [key]: !prev[key] }));\r\n  };\r\n\r\n  const canSubmit = () => {\r\n    // Required consents for all users\r\n    const requiredConsents = [\r\n      'termsAndConditions',\r\n      'privacyPolicy',\r\n      'dataProcessing',\r\n    ];\r\n\r\n    // Partners must also accept SLA\r\n    if (userType === 'partner') {\r\n      requiredConsents.push('sla');\r\n    }\r\n\r\n    return requiredConsents.every(key => consents[key]);\r\n  };\r\n\r\n  const handleAccept = () => {\r\n    if (!canSubmit()) return;\r\n\r\n    const consentRecord = {\r\n      userId,\r\n      userType,\r\n      consents,\r\n      agreedAt: new Date().toISOString(),\r\n      version: '1.0',\r\n      ipAddress: 'client-side', // In production, get from server\r\n      userAgent: navigator.userAgent.substring(0, 100),\r\n    };\r\n\r\n    // Store consent record\r\n    localStorage.setItem(`colleco.legal.consent.${userId}`, JSON.stringify(consentRecord));\r\n\r\n    if (onAccept) onAccept(consentRecord);\r\n  };\r\n\r\n  const handleDecline = () => {\r\n    if (onDecline) onDecline();\r\n  };\r\n\r\n  // If already accepted and not forcing re-acceptance, don't show modal\r\n  if (agreedAt && !isRegistration) {\r\n    return null;\r\n  }\r\n\r\n  const requiredIndicator = <span className=\"text-red-500 ml-1\">*</span>;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4\">\r\n      <div className=\"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col\">\r\n        {/* Header */}\r\n        <div className=\"bg-gradient-to-r from-brand-orange to-brand-gold p-6 text-white\">\r\n          <div className=\"flex items-center gap-3 mb-2\">\r\n            <Shield className=\"w-8 h-8\" />\r\n            <h2 className=\"text-2xl font-bold\">Legal Agreements & Consents</h2>\r\n          </div>\r\n          <p className=\"text-sm opacity-90\">\r\n            Please review and accept the following terms to continue using CollEco Travel\r\n          </p>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"flex-1 overflow-y-auto p-6 space-y-6\">\r\n          {/* Warning Banner */}\r\n          <div className=\"bg-amber-50 border-l-4 border-amber-500 p-4 rounded\">\r\n            <div className=\"flex items-start gap-3\">\r\n              <AlertTriangle className=\"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5\" />\r\n              <div>\r\n                <h3 className=\"font-semibold text-amber-900 mb-1\">Important Legal Notice</h3>\r\n                <p className=\"text-sm text-amber-800\">\r\n                  By using CollEco Travel, you agree to these legally binding terms. \r\n                  Please read them carefully before proceeding.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Terms & Conditions */}\r\n          <div className=\"border border-gray-300 rounded-lg overflow-hidden\">\r\n            <button\r\n              onClick={() => setShowDetails(prev => ({ ...prev, terms: !prev.terms }))}\r\n              className=\"w-full flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 transition-colors\"\r\n            >\r\n              <div className=\"flex items-center gap-3\">\r\n                <FileText className=\"w-5 h-5 text-brand-orange\" />\r\n                <span className=\"font-semibold text-brand-brown\">Terms & Conditions</span>\r\n                {requiredIndicator}\r\n              </div>\r\n              <span className=\"text-gray-500\">{showDetails.terms ? '‚ñº' : '‚ñ∂'}</span>\r\n            </button>\r\n            \r\n            {showDetails.terms && (\r\n              <div \r\n                className=\"p-4 max-h-64 overflow-y-auto bg-white text-sm text-gray-700 space-y-3\"\r\n                onScroll={(e) => handleScroll('terms', e)}\r\n              >\r\n                <h4 className=\"font-bold text-brand-brown\">CollEco Travel - Terms & Conditions</h4>\r\n                <p className=\"text-xs text-gray-500\">Effective Date: December 8, 2025 | Version 1.0</p>\r\n                \r\n                <div className=\"space-y-2\">\r\n                  <h5 className=\"font-semibold\">1. Acceptance of Terms</h5>\r\n                  <p>By accessing or using CollEco Travel services, you agree to be bound by these Terms and Conditions.</p>\r\n\r\n                  <h5 className=\"font-semibold\">2. Service Description</h5>\r\n                  <p>CollEco Travel is a platform connecting travelers with accommodation, experiences, and travel services in South Africa and internationally.</p>\r\n\r\n                  <h5 className=\"font-semibold\">3. User Responsibilities</h5>\r\n                  <ul className=\"list-disc list-inside space-y-1 pl-2\">\r\n                    <li>Provide accurate and complete information</li>\r\n                    <li>Maintain the confidentiality of your account credentials</li>\r\n                    <li>Use the platform in compliance with applicable laws</li>\r\n                    <li>Honor all confirmed bookings</li>\r\n                  </ul>\r\n\r\n                  <h5 className=\"font-semibold\">4. Booking & Payment Terms</h5>\r\n                  <p>All bookings are subject to availability and confirmation. Payment is required at the time of booking unless otherwise specified. Cancellation policies vary by service provider.</p>\r\n\r\n                  <h5 className=\"font-semibold\">5. Cancellation & Refund Policy</h5>\r\n                  <ul className=\"list-disc list-inside space-y-1 pl-2\">\r\n                    <li>Free cancellation: 48+ hours before service date (unless specified otherwise)</li>\r\n                    <li>50% refund: 24-48 hours before service date</li>\r\n                    <li>No refund: Less than 24 hours or no-show</li>\r\n                    <li>Partner-specific policies may apply</li>\r\n                  </ul>\r\n\r\n                  <h5 className=\"font-semibold\">6. Limitation of Liability</h5>\r\n                  <p>CollEco Travel acts as an intermediary. We are not liable for service provider actions, travel disruptions, or indirect damages. Maximum liability is limited to the booking value.</p>\r\n\r\n                  <h5 className=\"font-semibold\">7. Intellectual Property</h5>\r\n                  <p>All content, logos, and trademarks are property of CollEco Travel or licensed partners. Unauthorized use is prohibited.</p>\r\n\r\n                  <h5 className=\"font-semibold\">8. Dispute Resolution</h5>\r\n                  <p>Disputes shall be resolved through good faith negotiation. If unresolved, matters will be subject to South African law and jurisdiction.</p>\r\n\r\n                  <h5 className=\"font-semibold\">9. Modifications</h5>\r\n                  <p>We reserve the right to modify these terms. Users will be notified of material changes.</p>\r\n                </div>\r\n\r\n                {!hasScrolledTerms && (\r\n                  <p className=\"text-xs text-amber-600 italic mt-4\">\r\n                    ‚ö†Ô∏è Please scroll to the bottom to review all terms\r\n                  </p>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Privacy Policy */}\r\n          <div className=\"border border-gray-300 rounded-lg overflow-hidden\">\r\n            <button\r\n              onClick={() => setShowDetails(prev => ({ ...prev, privacy: !prev.privacy }))}\r\n              className=\"w-full flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 transition-colors\"\r\n            >\r\n              <div className=\"flex items-center gap-3\">\r\n                <Lock className=\"w-5 h-5 text-brand-orange\" />\r\n                <span className=\"font-semibold text-brand-brown\">Privacy Policy & POPI Act Compliance</span>\r\n                {requiredIndicator}\r\n              </div>\r\n              <span className=\"text-gray-500\">{showDetails.privacy ? '‚ñº' : '‚ñ∂'}</span>\r\n            </button>\r\n            \r\n            {showDetails.privacy && (\r\n              <div \r\n                className=\"p-4 max-h-64 overflow-y-auto bg-white text-sm text-gray-700 space-y-3\"\r\n                onScroll={(e) => handleScroll('privacy', e)}\r\n              >\r\n                <h4 className=\"font-bold text-brand-brown\">Privacy Policy</h4>\r\n                <p className=\"text-xs text-gray-500\">In compliance with the Protection of Personal Information Act (POPI Act, 2013)</p>\r\n                \r\n                <div className=\"space-y-2\">\r\n                  <h5 className=\"font-semibold\">1. Information We Collect</h5>\r\n                  <ul className=\"list-disc list-inside space-y-1 pl-2\">\r\n                    <li><strong>Personal Information:</strong> Name, email, phone, ID number (as required)</li>\r\n                    <li><strong>Business Information:</strong> Company name, registration number, tax details</li>\r\n                    <li><strong>Booking Data:</strong> Travel preferences, payment details, booking history</li>\r\n                    <li><strong>Technical Data:</strong> IP address, browser type, device information</li>\r\n                  </ul>\r\n\r\n                  <h5 className=\"font-semibold\">2. How We Use Your Information</h5>\r\n                  <ul className=\"list-disc list-inside space-y-1 pl-2\">\r\n                    <li>Process bookings and payments</li>\r\n                    <li>Provide customer support</li>\r\n                    <li>Send service-related communications</li>\r\n                    <li>Improve platform functionality (with consent)</li>\r\n                    <li>Comply with legal obligations</li>\r\n                  </ul>\r\n\r\n                  <h5 className=\"font-semibold\">3. Data Sharing & Disclosure</h5>\r\n                  <p>We share data only with:</p>\r\n                  <ul className=\"list-disc list-inside space-y-1 pl-2\">\r\n                    <li>Service providers (hotels, tour operators) to fulfill bookings</li>\r\n                    <li>Payment processors for secure transactions</li>\r\n                    <li>Legal authorities when required by law</li>\r\n                  </ul>\r\n\r\n                  <h5 className=\"font-semibold\">4. Your POPI Act Rights</h5>\r\n                  <ul className=\"list-disc list-inside space-y-1 pl-2\">\r\n                    <li><strong>Access:</strong> Request copies of your personal data</li>\r\n                    <li><strong>Correction:</strong> Update inaccurate information</li>\r\n                    <li><strong>Deletion:</strong> Request data erasure (subject to legal retention)</li>\r\n                    <li><strong>Objection:</strong> Object to specific data processing activities</li>\r\n                    <li><strong>Portability:</strong> Receive data in structured format</li>\r\n                  </ul>\r\n\r\n                  <h5 className=\"font-semibold\">5. Data Security</h5>\r\n                  <p>We implement industry-standard security measures including encryption (HTTPS/TLS), access controls, and regular security audits.</p>\r\n\r\n                  <h5 className=\"font-semibold\">6. Data Retention</h5>\r\n                  <p>Personal data is retained for 7 years for tax/legal compliance, then securely deleted unless consent is renewed.</p>\r\n\r\n                  <h5 className=\"font-semibold\">7. Cookies & Tracking</h5>\r\n                  <p>We use essential cookies for functionality and optional cookies for analytics (with your consent).</p>\r\n\r\n                  <h5 className=\"font-semibold\">8. Contact Information</h5>\r\n                  <p>Information Officer: privacy@collecotravel.co.za | Response time: 30 days</p>\r\n                </div>\r\n\r\n                {!hasScrolledPrivacy && (\r\n                  <p className=\"text-xs text-amber-600 italic mt-4\">\r\n                    ‚ö†Ô∏è Please scroll to the bottom to review the complete policy\r\n                  </p>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* SLA (for Partners only) */}\r\n          {userType === 'partner' && (\r\n            <div className=\"border border-gray-300 rounded-lg overflow-hidden\">\r\n              <button\r\n                onClick={() => setShowDetails(prev => ({ ...prev, sla: !prev.sla }))}\r\n                className=\"w-full flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 transition-colors\"\r\n              >\r\n                <div className=\"flex items-center gap-3\">\r\n                  <FileText className=\"w-5 h-5 text-brand-orange\" />\r\n                  <span className=\"font-semibold text-brand-brown\">Service Level Agreement (SLA)</span>\r\n                  {requiredIndicator}\r\n                </div>\r\n                <span className=\"text-gray-500\">{showDetails.sla ? '‚ñº' : '‚ñ∂'}</span>\r\n              </button>\r\n              \r\n              {showDetails.sla && (\r\n                <div className=\"p-4 max-h-64 overflow-y-auto bg-white text-sm text-gray-700 space-y-3\">\r\n                  <h4 className=\"font-bold text-brand-brown\">Partner Service Level Agreement</h4>\r\n                  \r\n                  <div className=\"space-y-2\">\r\n                    <h5 className=\"font-semibold\">1. Response Times</h5>\r\n                    <ul className=\"list-disc list-inside space-y-1 pl-2\">\r\n                      <li>Booking requests: Respond within 4 hours</li>\r\n                      <li>Customer inquiries: Respond within 2 hours during business hours</li>\r\n                      <li>Cancellations: Process within 1 hour</li>\r\n                    </ul>\r\n\r\n                    <h5 className=\"font-semibold\">2. Availability Standards</h5>\r\n                    <p>Maintain 99% platform uptime. Update availability calendars in real-time.</p>\r\n\r\n                    <h5 className=\"font-semibold\">3. Quality Standards</h5>\r\n                    <ul className=\"list-disc list-inside space-y-1 pl-2\">\r\n                      <li>Maintain minimum 4.0/5.0 average rating</li>\r\n                      <li>Accurate service descriptions and photos</li>\r\n                      <li>Honor confirmed bookings</li>\r\n                    </ul>\r\n\r\n                    <h5 className=\"font-semibold\">4. Payment Terms</h5>\r\n                    <p>Commission deducted from bookings. Payouts processed within 7 business days of service completion.</p>\r\n\r\n                    <h5 className=\"font-semibold\">5. Termination</h5>\r\n                    <p>Either party may terminate with 30 days notice. Immediate termination for breach of terms.</p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Consent Checkboxes */}\r\n          <div className=\"bg-gray-50 p-6 rounded-lg space-y-4\">\r\n            <h3 className=\"font-bold text-brand-brown mb-4\">Required Consents</h3>\r\n\r\n            <label className=\"flex items-start gap-3 cursor-pointer\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={consents.termsAndConditions}\r\n                onChange={() => toggleConsent('termsAndConditions')}\r\n                className=\"mt-1 w-4 h-4 text-brand-orange focus:ring-brand-orange\"\r\n              />\r\n              <span className=\"text-sm\">\r\n                I have read and agree to the <strong>Terms & Conditions</strong> {requiredIndicator}\r\n              </span>\r\n            </label>\r\n\r\n            <label className=\"flex items-start gap-3 cursor-pointer\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={consents.privacyPolicy}\r\n                onChange={() => toggleConsent('privacyPolicy')}\r\n                className=\"mt-1 w-4 h-4 text-brand-orange focus:ring-brand-orange\"\r\n              />\r\n              <span className=\"text-sm\">\r\n                I have read and agree to the <strong>Privacy Policy</strong> {requiredIndicator}\r\n              </span>\r\n            </label>\r\n\r\n            <label className=\"flex items-start gap-3 cursor-pointer\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={consents.dataProcessing}\r\n                onChange={() => toggleConsent('dataProcessing')}\r\n                className=\"mt-1 w-4 h-4 text-brand-orange focus:ring-brand-orange\"\r\n              />\r\n              <span className=\"text-sm\">\r\n                I consent to the processing of my personal data as described in the Privacy Policy (POPI Act compliance) {requiredIndicator}\r\n              </span>\r\n            </label>\r\n\r\n            {userType === 'partner' && (\r\n              <label className=\"flex items-start gap-3 cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={consents.sla}\r\n                  onChange={() => toggleConsent('sla')}\r\n                  className=\"mt-1 w-4 h-4 text-brand-orange focus:ring-brand-orange\"\r\n                />\r\n                <span className=\"text-sm\">\r\n                  I agree to the <strong>Service Level Agreement</strong> and commit to meeting service standards {requiredIndicator}\r\n                </span>\r\n              </label>\r\n            )}\r\n\r\n            <div className=\"pt-4 border-t border-gray-300\">\r\n              <h4 className=\"font-semibold text-gray-700 mb-3\">Optional Preferences</h4>\r\n\r\n              <label className=\"flex items-start gap-3 cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={consents.marketingCommunications}\r\n                  onChange={() => toggleConsent('marketingCommunications')}\r\n                  className=\"mt-1 w-4 h-4 text-brand-orange focus:ring-brand-orange\"\r\n                />\r\n                <span className=\"text-sm text-gray-600\">\r\n                  I would like to receive promotional offers, travel tips, and updates from CollEco Travel\r\n                </span>\r\n              </label>\r\n\r\n              <label className=\"flex items-start gap-3 cursor-pointer mt-3\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={consents.thirdPartySharing}\r\n                  onChange={() => toggleConsent('thirdPartySharing')}\r\n                  className=\"mt-1 w-4 h-4 text-brand-orange focus:ring-brand-orange\"\r\n                />\r\n                <span className=\"text-sm text-gray-600\">\r\n                  I consent to sharing my data with trusted partners for enhanced service offerings\r\n                </span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Legal Information */}\r\n          <div className=\"bg-blue-50 border border-blue-200 p-4 rounded-lg text-sm\">\r\n            <h4 className=\"font-semibold text-blue-900 mb-2\">üìã Legal Information</h4>\r\n            <ul className=\"text-blue-800 space-y-1\">\r\n              <li>‚Ä¢ CollEco Travel (Pty) Ltd - Registration: [To be completed]</li>\r\n              <li>‚Ä¢ Registered Address: [To be completed]</li>\r\n              <li>‚Ä¢ Information Officer: privacy@collecotravel.co.za</li>\r\n              <li>‚Ä¢ Governed by South African law</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer Actions */}\r\n        <div className=\"border-t p-6 bg-gray-50 flex gap-4\">\r\n          <button\r\n            onClick={handleDecline}\r\n            className=\"flex-1 px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors flex items-center justify-center gap-2\"\r\n          >\r\n            <X className=\"w-5 h-5\" />\r\n            Decline\r\n          </button>\r\n          <button\r\n            onClick={handleAccept}\r\n            disabled={!canSubmit()}\r\n            className={`flex-1 px-6 py-3 rounded-lg font-semibold transition-colors flex items-center justify-center gap-2 ${\r\n              canSubmit()\r\n                ? 'bg-brand-orange text-white hover:bg-brand-gold'\r\n                : 'bg-gray-300 text-gray-500 cursor-not-allowed'\r\n            }`}\r\n          >\r\n            <Check className=\"w-5 h-5\" />\r\n            Accept & Continue\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","\r\nimport React, { useState } from \"react\";\r\nimport Button from \"../components/ui/Button.jsx\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useUser } from \"../context/UserContext.jsx\";\r\nimport LegalConsentModal from \"../components/LegalConsentModal.jsx\";\r\n\r\nfunction Login() {\r\n  const [tab, setTab] = useState(\"login\");\r\n  const [userType, setUserType] = useState(\"client\"); // client or partner\r\n  const [loginIdentifier, setLoginIdentifier] = useState(\"\"); // email or phone for login\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [country, setCountry] = useState(\"\");\r\n  const [dateOfBirth, setDateOfBirth] = useState(\"\");\r\n  const [businessName, setBusinessName] = useState(\"\");\r\n  const [businessType, setBusinessType] = useState(\"\");\r\n  const [businessAddress, setBusinessAddress] = useState(\"\");\r\n  const [registrationNumber, setRegistrationNumber] = useState(\"\");\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [showLegalConsent, setShowLegalConsent] = useState(false);\r\n  const [pendingUserData, setPendingUserData] = useState(null);\r\n  const [keepLoggedIn, setKeepLoggedIn] = useState(() => {\r\n    try { return (localStorage.getItem('user:persistence') || 'local') === 'local'; } catch { return true; }\r\n  });\r\n  const [useBiometrics, setUseBiometrics] = useState(() => {\r\n    try { return localStorage.getItem('user:biometrics') === '1'; } catch { return false; }\r\n  });\r\n  const navigate = useNavigate();\r\n  const { user: currentUser, setUser } = useUser();\r\n\r\n  // E2E override: during tests we often want the login/register form visible\r\n  // regardless of persisted session state to avoid flakiness caused by\r\n  // storage reads that happen before tests can clear or inject state.\r\n  const e2eForceShowForm = typeof window !== 'undefined' && window.__E2E__;\r\n  const effectiveUser = e2eForceShowForm ? null : currentUser;\r\n\r\n  function validateEmail(email) {\r\n    return /\\S+@\\S+\\.\\S+/.test(email);\r\n  }\r\n\r\n  async function handleBiometricLogin() {\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n    \r\n    // Check if biometrics are enabled for this device\r\n    const biometricEnabled = localStorage.getItem('user:biometrics') === '1';\r\n    const lastUser = localStorage.getItem('user:lastIdentifier');\r\n    \r\n    if (!biometricEnabled || !lastUser) {\r\n      setError(\"Biometric login not set up. Please login with password first and enable biometrics.\");\r\n      return;\r\n    }\r\n    \r\n    // Use Web Authentication API if available\r\n    if (window.PublicKeyCredential) {\r\n      try {\r\n        // Simulate biometric authentication (in production, use WebAuthn API)\r\n        const user = JSON.parse(localStorage.getItem(\"user:\" + lastUser));\r\n        if (user) {\r\n          setSuccess(\"Biometric login successful! Welcome, \" + user.name + \".\");\r\n          setUser(user);\r\n          setTimeout(() => navigate(\"/\"), 800);\r\n        } else {\r\n          setError(\"Biometric authentication failed. Please use password.\");\r\n        }\r\n      } catch (err) {\r\n        setError(\"Biometric authentication not available or failed.\");\r\n      }\r\n    } else {\r\n      setError(\"Biometric authentication not supported on this device.\");\r\n    }\r\n  }\r\n\r\n  function handleLogin(e) {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n    \r\n    if (!loginIdentifier || loginIdentifier.trim().length === 0) {\r\n      setError(\"Please enter your email or phone number.\");\r\n      return;\r\n    }\r\n    if (!password) {\r\n      setError(\"Please enter your password.\");\r\n      return;\r\n    }\r\n    \r\n    // Try to find user by email or phone\r\n    let user = JSON.parse(localStorage.getItem(\"user:\" + loginIdentifier));\r\n    \r\n    // If not found, search all users for matching email or phone\r\n    if (!user) {\r\n      const allKeys = Object.keys(localStorage).filter(key => key.startsWith('user:'));\r\n      for (const key of allKeys) {\r\n        try {\r\n          const userData = JSON.parse(localStorage.getItem(key));\r\n          if (userData.email === loginIdentifier || userData.phone === loginIdentifier) {\r\n            user = userData;\r\n            break;\r\n          }\r\n        } catch (e) {}\r\n      }\r\n    }\r\n    \r\n    if (!user || user.password !== password) {\r\n      setError(\"Invalid credentials. Please check your email/phone and password.\");\r\n      return;\r\n    }\r\n    \r\n    // Store last login identifier for biometric auth\r\n    localStorage.setItem('user:lastIdentifier', loginIdentifier);\r\n    setSuccess(\"Login successful! Welcome, \" + user.name + \".\");\r\n    // E2E trace: record login attempt and user into window.__E2E_LOGS__ for CI debugging\r\n    try {\r\n      if (typeof window !== 'undefined' && window.__E2E__) {\r\n        window.__E2E_LOGS__ = window.__E2E_LOGS__ || [];\r\n        window.__E2E_LOGS__.push({ ts: Date.now(), msg: 'handleLogin: setUser', email: user.email });\r\n      }\r\n    } catch (e) {}\r\n    // persist the user's persistence preference for UserContext to honor\r\n    try { localStorage.setItem('user:persistence', keepLoggedIn ? 'local' : 'session'); } catch (e) {}\r\n    try { localStorage.setItem('user:biometrics', useBiometrics ? '1' : '0'); } catch (e) {}\r\n    // E2E helper: expose the user synchronously so tests and UserContext\r\n    // can observe the logged-in user without waiting for React state to settle.\r\n    try {\r\n      if (typeof window !== 'undefined' && window.__E2E__) {\r\n        window.__E2E_USER__ = user;\r\n        window.__E2E_LOGS__ = window.__E2E_LOGS__ || [];\r\n        window.__E2E_LOGS__.push({ ts: Date.now(), msg: 'handleLogin: set __E2E_USER__ (pre-setUser)', email: user.email });\r\n        // Persist according to chosen preference synchronously so that the\r\n        // UserContext (which may read from storage) sees the same state.\r\n        try {\r\n          if (keepLoggedIn) {\r\n            localStorage.setItem('user', JSON.stringify(user));\r\n            sessionStorage.removeItem('user');\r\n          } else {\r\n            sessionStorage.setItem('user', JSON.stringify(user));\r\n            localStorage.removeItem('user');\r\n          }\r\n          localStorage.setItem('user:persistence', keepLoggedIn ? 'local' : 'session');\r\n          localStorage.setItem('user:biometrics', useBiometrics ? '1' : '0');\r\n        } catch (err) {\r\n          window.__E2E_LOGS__.push({ ts: Date.now(), msg: 'handleLogin: storage write failed', err: String(err) });\r\n        }\r\n        // Immediately set a deterministic readiness flag for tests.\r\n        try { window.__E2E_PROFILE_LOADED__ = true; } catch (err) {}\r\n        // add a DOM marker with the user name so tests can inspect DOM\r\n        try {\r\n          if (typeof document !== 'undefined' && document.body) {\r\n            document.body.setAttribute('data-e2e-login-success', (user && user.name) || '');\r\n          }\r\n        } catch (err) {}\r\n        window.__E2E_LOGS__.push({ ts: Date.now(), msg: 'handleLogin: set PROFILE_LOADED and marker' });\r\n        // call setUser synchronously then navigate immediately in E2E mode\r\n        setUser(user);\r\n        window.__E2E_LOGS__.push({ ts: Date.now(), msg: 'handleLogin: setUser called (E2E)'});\r\n        try {\r\n          // Navigate synchronously in E2E to avoid tick-based races in CI.\r\n          navigate('/');\r\n          window.__E2E_LOGS__.push({ ts: Date.now(), msg: 'handleLogin: navigated synchronously (E2E)'});\r\n        } catch (err) {\r\n          window.__E2E_LOGS__.push({ ts: Date.now(), msg: 'handleLogin: navigate failed', err: String(err) });\r\n        }\r\n        return;\r\n      }\r\n    } catch (e) {\r\n      try { window.__E2E_LOGS__ = window.__E2E_LOGS__ || []; window.__E2E_LOGS__.push({ ts: Date.now(), msg: 'handleLogin: e2e wrapper failure', err: String(e) }); } catch(e){}\r\n    }\r\n\r\n    setUser(user); // context handles local/session storage based on preference\r\n    try {\r\n      if (typeof window !== 'undefined' && window.__E2E__) {\r\n        // For E2E runs: set an authoritative readiness flag and a short\r\n        // DOM marker (data-e2e) then navigate after a tiny tick. Increasing\r\n        // the tick in CI improves the chance transient messages render and\r\n        // makes the spec more deterministic. Production behavior is\r\n        // unchanged when not running under E2E.\r\n        window.__E2E_LOGS__ = window.__E2E_LOGS__ || [];\r\n        try { window.__E2E_PROFILE_LOADED__ = true; } catch (err) {}\r\n        // add a DOM marker with the user name so tests can inspect DOM\r\n        try {\r\n          if (typeof document !== 'undefined' && document.body) {\r\n            document.body.setAttribute('data-e2e-login-success', (user && user.name) || '');\r\n          }\r\n        } catch (err) {}\r\n        window.__E2E_LOGS__.push({ ts: Date.now(), msg: 'handleLogin: e2e-flag-set-and-marker' });\r\n        // Give a slightly larger tick to let success UI render in CI, then navigate.\r\n        setTimeout(() => {\r\n          try { window.__E2E_PROFILE_LOADED__ = true; } catch (err) {}\r\n          window.__E2E_LOGS__.push({ ts: Date.now(), msg: 'handleLogin: e2e-navigating-after-tick' });\r\n          navigate(\"/\");\r\n        }, 300);\r\n        return;\r\n      }\r\n    } catch (e) {}\r\n    setTimeout(() => navigate(\"/\"), 800); // Redirect to home after success message\r\n  }\r\n\r\n  function handleRegister(e) {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n    \r\n    if (!name || name.trim().length < 2) {\r\n      setError(\"Please enter your name.\");\r\n      return;\r\n    }\r\n    if (!password || password.length < 6) {\r\n      setError(\"Password must be at least 6 characters.\");\r\n      return;\r\n    }\r\n    if (!email || !validateEmail(email)) {\r\n      setError(\"Please enter a valid email address.\");\r\n      return;\r\n    }\r\n    if (!phone || phone.trim().length < 5) {\r\n      setError(\"Please enter a valid phone number.\");\r\n      return;\r\n    }\r\n    if (!country || country.trim().length < 2) {\r\n      setError(\"Please select your country for security and emergency contact purposes.\");\r\n      return;\r\n    }\r\n    \r\n    // Partner-specific validation\r\n    if (userType === \"partner\") {\r\n      if (!businessName || businessName.trim().length < 2) {\r\n        setError(\"Please enter your business name.\");\r\n        return;\r\n      }\r\n      if (!businessType) {\r\n        setError(\"Please select your business type.\");\r\n        return;\r\n      }\r\n      if (!businessAddress || businessAddress.trim().length < 5) {\r\n        setError(\"Please enter your business address.\");\r\n        return;\r\n      }\r\n    }\r\n    \r\n    if (email && localStorage.getItem(\"user:\" + email)) {\r\n      setError(\"An account with this email already exists.\");\r\n      return;\r\n    }\r\n    \r\n    // Use email or phone as unique identifier\r\n    const identifier = email || phone;\r\n    \r\n    const newUser = { \r\n      email: email || '', \r\n      password, \r\n      name: name.trim(),\r\n      phone: phone.trim() || '',\r\n      country: country.trim(),\r\n      dateOfBirth: dateOfBirth || '',\r\n      role: userType, // 'client' or 'partner'\r\n      createdAt: new Date().toISOString()\r\n    };\r\n    \r\n    // Add partner-specific fields\r\n    if (userType === \"partner\") {\r\n      newUser.businessName = businessName.trim();\r\n      newUser.businessType = businessType;\r\n      newUser.businessAddress = businessAddress.trim();\r\n      newUser.registrationNumber = registrationNumber.trim() || '';\r\n    }\r\n    \r\n    // Store pending user data and show legal consent modal\r\n    setPendingUserData({ user: newUser, identifier });\r\n    setShowLegalConsent(true);\r\n  }\r\n\r\n  function handleLegalConsentAccept(consentRecord) {\r\n    if (!pendingUserData) return;\r\n\r\n    const { user, identifier } = pendingUserData;\r\n    \r\n    // Add consent record to user data\r\n    user.legalConsent = consentRecord;\r\n    \r\n    localStorage.setItem(\"user:\" + identifier, JSON.stringify(user));\r\n    \r\n    // remember chosen persistence and biometrics for subsequent login\r\n    try { localStorage.setItem('user:persistence', keepLoggedIn ? 'local' : 'session'); } catch (e) {}\r\n    try { localStorage.setItem('user:biometrics', useBiometrics ? '1' : '0'); } catch (e) {}\r\n    \r\n    setShowLegalConsent(false);\r\n    setPendingUserData(null);\r\n    setSuccess(\"Registration successful! Redirecting to home...\");\r\n    \r\n    // Auto-login after registration\r\n    setUser(user);\r\n    \r\n    // E2E support\r\n    try {\r\n      if (typeof window !== 'undefined' && window.__E2E__) {\r\n        window.__E2E_USER__ = user;\r\n        window.__E2E_PROFILE_LOADED__ = true;\r\n        if (keepLoggedIn) {\r\n          localStorage.setItem('user', JSON.stringify(user));\r\n        } else {\r\n          sessionStorage.setItem('user', JSON.stringify(user));\r\n        }\r\n      }\r\n    } catch (e) {}\r\n    \r\n    setTimeout(() => navigate(\"/\"), 800);\r\n  }\r\n\r\n  function handleLegalConsentDecline() {\r\n    setShowLegalConsent(false);\r\n    setPendingUserData(null);\r\n    setError(\"You must accept the Terms & Conditions to create an account.\");\r\n  }\r\n\r\n  function handleLogout() {\r\n    setUser(null);\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n  }\r\n\r\n  if (effectiveUser) {\r\n    return (\r\n      <div className=\"min-h-screen bg-cream flex items-center justify-center px-4 py-8\">\r\n        <div className=\"max-w-md w-full bg-white rounded-2xl shadow-sm p-8 border border-cream-border\">\r\n          <div className=\"text-center mb-6\">\r\n            <div className=\"w-24 h-24 mx-auto mb-4\">\r\n              <picture>\r\n                <source srcSet=\"/assets/Globeicon-128.webp\" type=\"image/webp\" />\r\n                <img \r\n                  src=\"/assets/Globeicon.png\" \r\n                  alt=\"CollEco Travel Globe\" \r\n                  className=\"w-full h-full object-contain\"\r\n                  width=\"96\" height=\"96\" loading=\"lazy\" decoding=\"async\"\r\n                />\r\n              </picture>\r\n            </div>\r\n            <h2 className=\"text-2xl font-bold text-brand-brown mb-2\">Welcome to your world of travel</h2>\r\n            <p className=\"text-xl text-brand-russty\">{effectiveUser.name}</p>\r\n          </div>\r\n          <div className=\"bg-cream-sand p-6 border border-cream-border rounded-lg mb-4\">\r\n            <p className=\"text-brand-russty mb-4\">You are logged in and ready to explore the world.</p>\r\n            <div className=\"w-full\"><Button fullWidth variant=\"primary\" size=\"md\" onClick={handleLogout}>Logout</Button></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-cream flex items-center justify-center px-4 py-8\">\r\n      <div className=\"max-w-md w-full\">\r\n        {/* Header with integrated globe design */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"bg-white rounded-2xl px-6 pt-10 pb-6 text-center\">\r\n            {/* Globe icon */}\r\n            <div className=\"inline-block mb-4\">\r\n              <picture>\r\n                <source srcSet=\"/assets/Globeicon-128.webp\" type=\"image/webp\" />\r\n                <img\r\n                  src=\"/assets/Globeicon.png\"\r\n                  alt=\"CollEco Travel\"\r\n                  className=\"w-24 h-24 object-contain\"\r\n                  width=\"96\" height=\"96\" loading=\"lazy\" decoding=\"async\"\r\n                />\r\n              </picture>\r\n            </div>\r\n            <h1 className=\"text-3xl font-bold text-brand-brown mb-2\">CollEco Travel</h1>\r\n            <p className=\"text-brand-russty\">Start your journey with us</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"flex mb-6 gap-3 bg-white p-2 rounded-xl shadow-sm border border-cream-border\">\r\n          <button\r\n            data-e2e=\"login-tab\"\r\n            className={`flex-1 px-6 py-3 rounded-lg font-semibold transition-colors ${\r\n              tab === \"login\" \r\n                ? \"bg-brand-orange text-white\" \r\n                : \"text-brand-brown bg-white border border-cream-border hover:border-brand-orange\"\r\n            }`}\r\n            onClick={() => { \r\n              setTab(\"login\"); \r\n              setError(\"\"); \r\n              setSuccess(\"\"); \r\n              setName(\"\"); \r\n              setPhone(\"\"); \r\n              setCountry(\"\"); \r\n              setDateOfBirth(\"\"); \r\n              setUserType(\"client\");\r\n              setBusinessName(\"\");\r\n              setBusinessType(\"\");\r\n              setBusinessAddress(\"\");\r\n              setRegistrationNumber(\"\");\r\n            }}\r\n          >\r\n            Login\r\n          </button>\r\n          <button\r\n            data-e2e=\"register-tab\"\r\n            className={`flex-1 px-6 py-3 rounded-lg font-semibold transition-colors ${\r\n              tab === \"register\" \r\n                ? \"bg-brand-orange text-white\" \r\n                : \"text-brand-brown bg-white border border-cream-border hover:border-brand-orange\"\r\n            }`}\r\n            onClick={() => { \r\n              setTab(\"register\"); \r\n              setError(\"\"); \r\n              setSuccess(\"\"); \r\n              setUserType(\"client\");\r\n              setBusinessName(\"\");\r\n              setBusinessType(\"\");\r\n              setBusinessAddress(\"\");\r\n              setRegistrationNumber(\"\");\r\n            }}\r\n          >\r\n            Register\r\n          </button>\r\n        </div>\r\n\r\n        {/* Form */}\r\n        <form \r\n          data-e2e=\"login-form\" \r\n          className=\"bg-white rounded-2xl shadow-sm p-8 border border-cream-border max-h-[80vh] overflow-y-auto\" \r\n          onSubmit={tab === \"login\" ? handleLogin : handleRegister}\r\n        >\r\n          <div className=\"mb-5\">\r\n            <h2 className=\"text-2xl font-bold text-brand-brown mb-2\">\r\n              {tab === \"login\" ? \"Welcome Back\" : \"Create Your Account\"}\r\n            </h2>\r\n            <p className=\"text-sm text-brand-russty\">\r\n              {tab === \"login\" \r\n                ? \"Sign in to continue your adventure\" \r\n                : \"Complete your profile to start your journey\"}\r\n            </p>\r\n          </div>\r\n\r\n          {/* Registration fields */}\r\n          {tab === \"register\" && (\r\n            <>\r\n              {/* User Type Selector */}\r\n              <div className=\"mb-6\">\r\n                <label className=\"block mb-3 text-brand-brown font-semibold text-sm\">I&apos;m registering as a: *</label>\r\n                <div className=\"flex gap-3\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className={`flex-1 px-4 py-3 rounded-lg font-semibold border-2 transition-colors ${\r\n                      userType === \"client\"\r\n                        ? \"bg-brand-orange text-white border-brand-orange\"\r\n                        : \"bg-white text-brand-brown border-cream-border hover:border-brand-orange\"\r\n                    }`}\r\n                    onClick={() => setUserType(\"client\")}\r\n                  >\r\n                    ‚úàÔ∏è Traveler\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className={`flex-1 px-4 py-3 rounded-lg font-semibold border-2 transition-colors ${\r\n                      userType === \"partner\"\r\n                        ? \"bg-brand-orange text-white border-brand-orange\"\r\n                        : \"bg-white text-brand-brown border-cream-border hover:border-brand-orange\"\r\n                    }`}\r\n                    onClick={() => setUserType(\"partner\")}\r\n                  >\r\n                    üè¢ Business Partner\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mb-4\">\r\n                <label className=\"block mb-2 text-brand-brown font-semibold text-sm\">\r\n                  {userType === \"partner\" ? \"Contact Name *\" : \"Name *\"}\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"w-full px-4 py-3 border-2 border-cream-border rounded-lg focus:border-brand-orange focus:outline-none transition-colors\"\r\n                  value={name}\r\n                  onChange={e => setName(e.target.value)}\r\n                  placeholder=\"e.g., Bika Collin Mkhize\"\r\n                  required\r\n                />\r\n                <p className=\"text-xs text-brand-russty mt-1\">\r\n                  {userType === \"partner\" ? \"Primary contact person's name\" : \"How you'd like to be addressed\"}\r\n                </p>\r\n              </div>\r\n\r\n              {/* Partner-specific fields */}\r\n              {userType === \"partner\" && (\r\n                <>\r\n                  <div className=\"mb-4\">\r\n                    <label className=\"block mb-2 text-brand-brown font-semibold text-sm\">Business Name *</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"w-full px-4 py-3 border-2 border-cream-border rounded-lg focus:border-brand-orange focus:outline-none transition-colors\"\r\n                      value={businessName}\r\n                      onChange={e => setBusinessName(e.target.value)}\r\n                      placeholder=\"e.g., Safari Adventures Ltd\"\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"mb-4\">\r\n                    <label className=\"block mb-2 text-brand-brown font-semibold text-sm\">Business Type *</label>\r\n                    <select\r\n                      className=\"w-full px-4 py-3 border-2 border-cream-border rounded-lg focus:border-brand-orange focus:outline-none transition-colors\"\r\n                      value={businessType}\r\n                      onChange={e => setBusinessType(e.target.value)}\r\n                      required\r\n                    >\r\n                      <option value=\"\">Select business type</option>\r\n                      <option value=\"Hotel\">Hotel / Accommodation</option>\r\n                      <option value=\"Tour Operator\">Tour Operator</option>\r\n                      <option value=\"Transport\">Transport Services</option>\r\n                      <option value=\"Restaurant\">Restaurant / Catering</option>\r\n                      <option value=\"Activity Provider\">Activity Provider</option>\r\n                      <option value=\"Travel Agency\">Travel Agency</option>\r\n                      <option value=\"Other\">Other</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div className=\"mb-4\">\r\n                    <label className=\"block mb-2 text-brand-brown font-semibold text-sm\">Business Address *</label>\r\n                    <textarea\r\n                      className=\"w-full px-4 py-3 border-2 border-cream-border rounded-lg focus:border-brand-orange focus:outline-none transition-colors\"\r\n                      value={businessAddress}\r\n                      onChange={e => setBusinessAddress(e.target.value)}\r\n                      placeholder=\"Full business address including city and postal code\"\r\n                      rows=\"2\"\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"mb-4\">\r\n                    <label className=\"block mb-2 text-brand-brown font-semibold text-sm\">Registration Number</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"w-full px-4 py-3 border-2 border-cream-border rounded-lg focus:border-brand-orange focus:outline-none transition-colors\"\r\n                      value={registrationNumber}\r\n                      onChange={e => setRegistrationNumber(e.target.value)}\r\n                      placeholder=\"Business/Tax registration number (optional)\"\r\n                    />\r\n                    <p className=\"text-xs text-brand-russty mt-1\">Optional - helps verify your business</p>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              <div className=\"mb-4\">\r\n                <label className=\"block mb-2 text-brand-brown font-semibold text-sm\">Email Address *</label>\r\n                <input\r\n                  type=\"email\"\r\n                  className=\"w-full px-4 py-3 border-2 border-cream-border rounded-lg focus:border-brand-orange focus:outline-none transition-colors\"\r\n                  value={email}\r\n                  onChange={e => setEmail(e.target.value)}\r\n                  placeholder=\"you@example.com\"\r\n                  required\r\n                />\r\n                <p className=\"text-xs text-brand-russty mt-1\">Required for account verification and communication</p>\r\n              </div>\r\n\r\n              <div className=\"mb-4\">\r\n                <label className=\"block mb-2 text-brand-brown font-semibold text-sm\">Phone Number *</label>\r\n                <input\r\n                  type=\"tel\"\r\n                  className=\"w-full px-4 py-3 border-2 border-cream-border rounded-lg focus:border-brand-orange focus:outline-none transition-colors\"\r\n                  value={phone}\r\n                  onChange={e => setPhone(e.target.value)}\r\n                  placeholder=\"+27 12 345 6789\"\r\n                  required\r\n                />\r\n                <p className=\"text-xs text-brand-russty mt-1\">Required for booking confirmations and support</p>\r\n              </div>\r\n\r\n              <div className=\"mb-4\">\r\n                <label className=\"block mb-2 text-brand-brown font-semibold text-sm\">Country *</label>\r\n                <select\r\n                  className=\"w-full px-4 py-3 border-2 border-cream-border rounded-lg focus:border-brand-orange focus:outline-none transition-colors\"\r\n                  value={country}\r\n                  onChange={e => setCountry(e.target.value)}\r\n                  required\r\n                >\r\n                  <option value=\"\">Select your country</option>\r\n                  <option value=\"South Africa\">South Africa</option>\r\n                  <option value=\"Botswana\">Botswana</option>\r\n                  <option value=\"Zimbabwe\">Zimbabwe</option>\r\n                  <option value=\"Namibia\">Namibia</option>\r\n                  <option value=\"Zambia\">Zambia</option>\r\n                  <option value=\"Mozambique\">Mozambique</option>\r\n                  <option value=\"Kenya\">Kenya</option>\r\n                  <option value=\"Tanzania\">Tanzania</option>\r\n                  <option value=\"Uganda\">Uganda</option>\r\n                  <option value=\"Rwanda\">Rwanda</option>\r\n                  <option value=\"Other\">Other</option>\r\n                </select>\r\n                <p className=\"text-xs text-brand-russty mt-1\">Required for emergency assistance and travel documentation</p>\r\n              </div>\r\n\r\n              <div className=\"mb-4\">\r\n                <label className=\"block mb-2 text-brand-brown font-semibold text-sm\">Date of Birth</label>\r\n                <input\r\n                  type=\"date\"\r\n                  className=\"w-full px-4 py-3 border-2 border-cream-border rounded-lg focus:border-brand-orange focus:outline-none transition-colors\"\r\n                  value={dateOfBirth}\r\n                  onChange={e => setDateOfBirth(e.target.value)}\r\n                />\r\n                <p className=\"text-xs text-brand-russty mt-1\">Optional - helps us personalize your experience. Minors can use parent/guardian account</p>\r\n              </div>\r\n\r\n              <div className=\"mb-4\">\r\n                <label className=\"block mb-2 text-brand-brown font-semibold text-sm\">Password *</label>\r\n                <div className=\"relative\">\r\n                  <input\r\n                    type={showPassword ? \"text\" : \"password\"}\r\n                    className=\"w-full px-4 py-3 border-2 border-cream-border rounded-lg pr-12 focus:border-brand-orange focus:outline-none transition-colors\"\r\n                    value={password}\r\n                    onChange={e => setPassword(e.target.value)}\r\n                    placeholder=\"At least 6 characters\"\r\n                    required\r\n                    aria-label=\"Password\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowPassword(v => !v)}\r\n                    aria-label={showPassword ? \"Hide password\" : \"Show password\"}\r\n                    aria-pressed={showPassword}\r\n                    className=\"absolute inset-y-0 right-3 my-auto h-10 w-10 flex items-center justify-center rounded-lg hover:bg-cream-sand text-brand-russty transition-colors\"\r\n                    title={showPassword ? \"Hide\" : \"Show\"}\r\n                  >\r\n                    {showPassword ? \"üôà\" : \"üëÅÔ∏è\"}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {/* Login fields */}\r\n          {tab === \"login\" && (\r\n            <>\r\n              <div className=\"mb-4\">\r\n                <label className=\"block mb-2 text-brand-brown font-semibold text-sm\">Email or Phone Number</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"w-full px-4 py-3 border-2 border-cream-border rounded-lg focus:border-brand-orange focus:outline-none transition-colors\"\r\n                  value={loginIdentifier}\r\n                  onChange={e => setLoginIdentifier(e.target.value)}\r\n                  placeholder=\"email@example.com or +27 12 345 6789\"\r\n                  required\r\n                />\r\n                <p className=\"text-xs text-brand-russty mt-1\">Enter your email address or phone number</p>\r\n              </div>\r\n\r\n              <div className=\"mb-4\">\r\n                <label className=\"block mb-2 text-brand-brown font-semibold text-sm\">Password</label>\r\n                <div className=\"relative\">\r\n                  <input\r\n                    type={showPassword ? \"text\" : \"password\"}\r\n                    className=\"w-full px-4 py-3 border-2 border-cream-border rounded-lg pr-12 focus:border-brand-orange focus:outline-none transition-colors\"\r\n                    value={password}\r\n                    onChange={e => setPassword(e.target.value)}\r\n                    placeholder=\"Enter your password (e.g., SecurePass123)\"\r\n                    required\r\n                    aria-label=\"Password\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowPassword(v => !v)}\r\n                    aria-label={showPassword ? \"Hide password\" : \"Show password\"}\r\n                    aria-pressed={showPassword}\r\n                    className=\"absolute inset-y-0 right-3 my-auto h-10 w-10 flex items-center justify-center rounded-lg hover:bg-cream-sand text-brand-russty transition-colors\"\r\n                    title={showPassword ? \"Hide\" : \"Show\"}\r\n                  >\r\n                    {showPassword ? \"üôà\" : \"üëÅÔ∏è\"}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {/* Error and Success Messages */}\r\n          {error && (\r\n            <div className=\"mb-4 bg-amber-100 border border-amber-300 text-brand-russty p-4 rounded-lg font-semibold animate-shake\">\r\n              ‚ö†Ô∏è {error}\r\n            </div>\r\n          )}\r\n          {success && (\r\n            <div className=\"mb-4 bg-cream-sand border border-brand-gold text-brand-brown p-4 rounded-lg font-semibold animate-fade-in\">\r\n              ‚úì {success}\r\n            </div>\r\n          )}\r\n\r\n          {/* Options */}\r\n          <div className=\"flex items-center justify-between gap-3 mb-6\">\r\n            <label className=\"flex items-center gap-2 text-sm cursor-pointer\">\r\n              <input \r\n                data-e2e=\"keep-logged-in\" \r\n                type=\"checkbox\" \r\n                checked={keepLoggedIn} \r\n                onChange={e => setKeepLoggedIn(e.target.checked)}\r\n                className=\"w-4 h-4 accent-brand-orange border-cream-border rounded focus:ring-brand-orange\"\r\n              />\r\n              <span className=\"text-brand-russty\">Keep me logged in</span>\r\n            </label>\r\n            <label className=\"flex items-center gap-2 text-sm cursor-pointer\">\r\n              <input \r\n                data-e2e=\"use-biometrics\" \r\n                type=\"checkbox\" \r\n                checked={useBiometrics} \r\n                onChange={e => setUseBiometrics(e.target.checked)}\r\n                className=\"w-4 h-4 accent-brand-orange border-cream-border rounded focus:ring-brand-orange\"\r\n              />\r\n              <span className=\"text-brand-russty\">Biometrics</span>\r\n            </label>\r\n          </div>\r\n\r\n          {/* Submit Button */}\r\n          <Button data-e2e=\"submit\" type=\"submit\" fullWidth variant=\"primary\" size=\"lg\">{tab === \"login\" ? \"Sign In ‚Üí\" : \"Create Account ‚Üí\"}</Button>\r\n\r\n          {/* Biometric Login Options (Login only) */}\r\n          {tab === \"login\" && (\r\n            <div className=\"mt-4\">\r\n              <div className=\"relative\">\r\n                <div className=\"absolute inset-0 flex items-center\">\r\n                  <div className=\"w-full border-t border-cream-border\"></div>\r\n                </div>\r\n                <div className=\"relative flex justify-center text-xs uppercase\">\r\n                  <span className=\"bg-white px-2 text-brand-russty\">Or login with</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"mt-4 grid grid-cols-2 gap-3\">\r\n                <Button type=\"button\" variant=\"outline\" size=\"md\" onClick={handleBiometricLogin} className=\"flex flex-col sm:flex-row items-center justify-center gap-2\">\r\n                  <span className=\"text-2xl\">üë§</span>\r\n                  <span className=\"text-sm sm:text-base\">Face ID</span>\r\n                </Button>\r\n                <Button type=\"button\" variant=\"outline\" size=\"md\" onClick={handleBiometricLogin} className=\"flex flex-col sm:flex-row items-center justify-center gap-2\">\r\n                  <span className=\"text-2xl\">üëÜ</span>\r\n                  <span className=\"text-sm sm:text-base\">Fingerprint</span>\r\n                </Button>\r\n              </div>\r\n              <p className=\"text-xs text-brand-russty text-center mt-2\">Enable biometrics in settings after first login</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Additional Info */}\r\n          <div className=\"mt-6 text-center\">\r\n            <p className=\"text-sm text-brand-russty\">\r\n              {tab === \"login\" ? \"Don&apos;t have an account? \" : \"Already have an account? \"}\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  setTab(tab === \"login\" ? \"register\" : \"login\");\r\n                  setError(\"\");\r\n                  setSuccess(\"\");\r\n                  setName(\"\");\r\n                  setUserType(\"client\");\r\n                  setBusinessName(\"\");\r\n                  setBusinessType(\"\");\r\n                  setBusinessAddress(\"\");\r\n                  setRegistrationNumber(\"\");\r\n                }}\r\n                className=\"text-brand-orange font-semibold hover:text-brand-gold transition-colors\"\r\n              >\r\n                {tab === \"login\" ? \"Register here\" : \"Login here\"}\r\n              </button>\r\n            </p>\r\n          </div>\r\n        </form>\r\n\r\n        {/* Footer */}\r\n        <div className=\"mt-6 text-center\">\r\n          <p className=\"text-xs text-brand-russty\">\r\n            By registering, you agree to review and accept our Terms & Conditions and Privacy Policy\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Legal Consent Modal */}\r\n      {showLegalConsent && pendingUserData && (\r\n        <LegalConsentModal\r\n          userId={pendingUserData.user.email || pendingUserData.user.phone}\r\n          userType={pendingUserData.user.role}\r\n          onAccept={handleLegalConsentAccept}\r\n          onDecline={handleLegalConsentDecline}\r\n          isRegistration={true}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n\r\n"],"names":["useState","useEffect","jsx","jsxs","email","e","Fragment"],"mappings":"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"}