{"version":3,"file":"MyTrips-CzyhjBFK.js","sources":["../../src/pages/MyTrips.jsx"],"sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { \r\n  Calendar, MapPin, Plane, Hotel, Car, DollarSign, Filter,\r\n  Search, Download, Share2, MessageCircle, CheckCircle2, \r\n  XCircle, Clock, AlertTriangle, ChevronDown, FileText, Mail\r\n} from \"lucide-react\";\r\n\r\nconst TRIP_FILTERS = [\r\n  { value: \"all\", label: \"All Trips\" },\r\n  { value: \"upcoming\", label: \"Upcoming\" },\r\n  { value: \"past\", label: \"Past Trips\" },\r\n  { value: \"cancelled\", label: \"Cancelled\" }\r\n];\r\n\r\nconst SORT_OPTIONS = [\r\n  { value: \"date_desc\", label: \"Newest First\" },\r\n  { value: \"date_asc\", label: \"Oldest First\" },\r\n  { value: \"amount_desc\", label: \"Highest Amount\" },\r\n  { value: \"amount_asc\", label: \"Lowest Amount\" }\r\n];\r\n\r\nexport default function MyTrips() {\r\n  const navigate = useNavigate();\r\n  const [trips, setTrips] = useState([]);\r\n  const [filteredTrips, setFilteredTrips] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeFilter, setActiveFilter] = useState(\"all\");\r\n  const [sortBy, setSortBy] = useState(\"date_desc\");\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [showFilters, setShowFilters] = useState(false);\r\n\r\n  const fetchTrips = useCallback(async () => {\r\n    try {\r\n      const response = await fetch('/api/bookings/all');\r\n      if (!response.ok) throw new Error('Failed to fetch trips');\r\n      \r\n      const data = await response.json();\r\n      setTrips(data.bookings || mockTrips);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Fetch error:', error);\r\n      // Use mock data\r\n      setTrips(mockTrips);\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchTrips();\r\n  }, [fetchTrips]);\r\n\r\n  const applyFiltersAndSort = useCallback(() => {\r\n    let result = [...trips];\r\n\r\n    // Apply status filter\r\n    if (activeFilter !== \"all\") {\r\n      const now = new Date();\r\n      if (activeFilter === \"upcoming\") {\r\n        result = result.filter(trip => new Date(trip.startDate) > now && trip.status !== 'cancelled');\r\n      } else if (activeFilter === \"past\") {\r\n        result = result.filter(trip => new Date(trip.endDate) < now && trip.status !== 'cancelled');\r\n      } else if (activeFilter === \"cancelled\") {\r\n        result = result.filter(trip => trip.status === 'cancelled');\r\n      }\r\n    }\r\n\r\n    // Apply search filter\r\n    if (searchQuery.trim()) {\r\n      const query = searchQuery.toLowerCase();\r\n      result = result.filter(trip => \r\n        trip.destination.toLowerCase().includes(query) ||\r\n        trip.bookingRef.toLowerCase().includes(query) ||\r\n        trip.accommodation?.toLowerCase().includes(query)\r\n      );\r\n    }\r\n\r\n    // Apply sorting\r\n    result.sort((a, b) => {\r\n      switch (sortBy) {\r\n        case \"date_desc\":\r\n          return new Date(b.startDate) - new Date(a.startDate);\r\n        case \"date_asc\":\r\n          return new Date(a.startDate) - new Date(b.startDate);\r\n        case \"amount_desc\":\r\n          return b.totalAmount - a.totalAmount;\r\n        case \"amount_asc\":\r\n          return a.totalAmount - b.totalAmount;\r\n        default:\r\n          return 0;\r\n      }\r\n    });\r\n\r\n    setFilteredTrips(result);\r\n  }, [trips, activeFilter, sortBy, searchQuery]);\r\n\r\n  useEffect(() => {\r\n    applyFiltersAndSort();\r\n  }, [applyFiltersAndSort]);\r\n\r\n  \r\n\r\n  \r\n\r\n  const getStatusConfig = (trip) => {\r\n    const now = new Date();\r\n    const startDate = new Date(trip.startDate);\r\n    const endDate = new Date(trip.endDate);\r\n\r\n    if (trip.status === 'cancelled') {\r\n      return { label: \"Cancelled\", color: \"bg-red-100 text-red-800\", icon: XCircle, borderColor: \"border-red-300\" };\r\n    }\r\n    if (trip.status === 'pending_payment') {\r\n      return { label: \"Payment Pending\", color: \"bg-yellow-100 text-yellow-800\", icon: AlertTriangle, borderColor: \"border-yellow-300\" };\r\n    }\r\n    if (now >= startDate && now <= endDate) {\r\n      return { label: \"In Progress\", color: \"bg-blue-100 text-blue-800\", icon: Plane, borderColor: \"border-blue-300\" };\r\n    }\r\n    if (endDate < now) {\r\n      return { label: \"Completed\", color: \"bg-gray-100 text-gray-800\", icon: CheckCircle2, borderColor: \"border-gray-300\" };\r\n    }\r\n    if (startDate > now) {\r\n      return { label: \"Confirmed\", color: \"bg-green-100 text-green-800\", icon: CheckCircle2, borderColor: \"border-green-300\" };\r\n    }\r\n    return { label: \"Pending\", color: \"bg-gray-100 text-gray-800\", icon: Clock, borderColor: \"border-gray-300\" };\r\n  };\r\n\r\n  const renderTripCard = (trip) => {\r\n    const statusConfig = getStatusConfig(trip);\r\n    const StatusIcon = statusConfig.icon;\r\n\r\n    return (\r\n      <div \r\n        key={trip.id}\r\n        className={`bg-white rounded-lg border-2 ${statusConfig.borderColor} hover:shadow-lg transition-all cursor-pointer`}\r\n        onClick={() => navigate(`/bookings/${trip.id}`)}\r\n      >\r\n        <div className=\"p-6\">\r\n          {/* Header */}\r\n          <div className=\"flex items-start justify-between mb-4\">\r\n            <div className=\"flex-1\">\r\n              <div className=\"flex items-center gap-2 mb-1\">\r\n                <h3 className=\"text-xl font-bold text-brand-brown hover:text-brand-orange transition-colors\">\r\n                  {trip.destination}\r\n                </h3>\r\n                <div className={`flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold ${statusConfig.color}`}>\r\n                  <StatusIcon className=\"w-3 h-3\" />\r\n                  {statusConfig.label}\r\n                </div>\r\n              </div>\r\n              <p className=\"text-sm text-gray-500\">Ref: {trip.bookingRef}</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Date & Details */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\r\n            <div className=\"flex items-center gap-2 text-sm text-gray-700\">\r\n              <Calendar className=\"w-4 h-4 text-brand-orange\" />\r\n              <span>\r\n                {new Date(trip.startDate).toLocaleDateString()} - {new Date(trip.endDate).toLocaleDateString()}\r\n              </span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2 text-sm text-gray-700\">\r\n              <MapPin className=\"w-4 h-4 text-brand-orange\" />\r\n              <span>{trip.travelers} traveler(s) â€¢ {trip.duration} days</span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Services Grid */}\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4 p-4 bg-cream-light rounded-lg\">\r\n            {trip.flight && (\r\n              <div className=\"flex items-center gap-2\">\r\n                <Plane className=\"w-4 h-4 text-brand-orange\" />\r\n                <span className=\"text-xs text-gray-700\">Flight</span>\r\n              </div>\r\n            )}\r\n            {trip.accommodation && (\r\n              <div className=\"flex items-center gap-2\">\r\n                <Hotel className=\"w-4 h-4 text-brand-orange\" />\r\n                <span className=\"text-xs text-gray-700\">{trip.accommodation}</span>\r\n              </div>\r\n            )}\r\n            {trip.transport && (\r\n              <div className=\"flex items-center gap-2\">\r\n                <Car className=\"w-4 h-4 text-brand-orange\" />\r\n                <span className=\"text-xs text-gray-700\">Transport</span>\r\n              </div>\r\n            )}\r\n            <div className=\"flex items-center gap-2\">\r\n              <DollarSign className=\"w-4 h-4 text-brand-orange\" />\r\n              <span className=\"text-xs font-semibold text-gray-700\">\r\n                {trip.currency} {trip.totalAmount?.toLocaleString()}\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex flex-wrap gap-2 pt-4 border-t\">\r\n            <button\r\n              onClick={(e) => { e.stopPropagation(); navigate(`/bookings/${trip.id}`); }}\r\n              className=\"flex items-center gap-1 px-4 py-2 bg-brand-orange text-white text-sm font-semibold rounded-lg hover:bg-orange-600 transition-colors\"\r\n            >\r\n              <FileText className=\"w-4 h-4\" />\r\n              View Details\r\n            </button>\r\n            <button\r\n              onClick={(e) => { e.stopPropagation(); /* Download action */ }}\r\n              className=\"flex items-center gap-1 px-4 py-2 border border-gray-300 text-gray-700 text-sm font-semibold rounded-lg hover:bg-gray-50 transition-colors\"\r\n            >\r\n              <Download className=\"w-4 h-4\" />\r\n              Download\r\n            </button>\r\n            <button\r\n              onClick={(e) => { e.stopPropagation(); /* Share action */ }}\r\n              className=\"flex items-center gap-1 px-4 py-2 border border-gray-300 text-gray-700 text-sm font-semibold rounded-lg hover:bg-gray-50 transition-colors\"\r\n            >\r\n              <Share2 className=\"w-4 h-4\" />\r\n              Share\r\n            </button>\r\n            {trip.hasMessages && (\r\n              <button\r\n                onClick={(e) => { e.stopPropagation(); navigate(`/messages/${trip.id}`); }}\r\n                className=\"flex items-center gap-1 px-4 py-2 border border-gray-300 text-gray-700 text-sm font-semibold rounded-lg hover:bg-gray-50 transition-colors\"\r\n              >\r\n                <MessageCircle className=\"w-4 h-4\" />\r\n                Messages {trip.unreadMessages > 0 && (\r\n                  <span className=\"ml-1 px-2 py-0.5 bg-red-500 text-white text-xs rounded-full\">\r\n                    {trip.unreadMessages}\r\n                  </span>\r\n                )}\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-cream flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <Clock className=\"w-12 h-12 animate-spin text-brand-orange mx-auto mb-4\" />\r\n          <p className=\"text-gray-600\">Loading your trips...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-cream py-8 px-4\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl md:text-4xl font-bold text-brand-brown mb-2\">My Trips</h1>\r\n          <p className=\"text-gray-600\">Manage all your bookings and travel plans</p>\r\n        </div>\r\n\r\n        {/* Filters & Search */}\r\n        <div className=\"mb-6 space-y-4\">\r\n          {/* Filter Tabs */}\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {TRIP_FILTERS.map((filter) => (\r\n              <button\r\n                key={filter.value}\r\n                onClick={() => setActiveFilter(filter.value)}\r\n                className={`px-4 py-2 rounded-lg font-semibold text-sm transition-all ${\r\n                  activeFilter === filter.value\r\n                    ? 'bg-brand-orange text-white'\r\n                    : 'bg-white text-gray-700 border border-gray-300 hover:border-brand-orange'\r\n                }`}\r\n              >\r\n                {filter.label}\r\n              </button>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Search & Sort Bar */}\r\n          <div className=\"flex flex-col sm:flex-row gap-3\">\r\n            {/* Search */}\r\n            <div className=\"flex-1 relative\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n              <input\r\n                type=\"text\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                placeholder=\"Search by destination, reference, or hotel...\"\r\n                className=\"w-full pl-11 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-brand-orange focus:border-transparent\"\r\n              />\r\n            </div>\r\n\r\n            {/* Sort */}\r\n            <div className=\"relative\">\r\n              <select\r\n                value={sortBy}\r\n                onChange={(e) => setSortBy(e.target.value)}\r\n                className=\"appearance-none px-4 py-3 pr-10 rounded-lg border border-gray-300 bg-white focus:ring-2 focus:ring-brand-orange focus:border-transparent cursor-pointer\"\r\n              >\r\n                {SORT_OPTIONS.map((option) => (\r\n                  <option key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n              <ChevronDown className=\"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none\" />\r\n            </div>\r\n\r\n            {/* Filter Toggle */}\r\n            <button\r\n              onClick={() => setShowFilters(!showFilters)}\r\n              className=\"flex items-center gap-2 px-4 py-3 rounded-lg border border-gray-300 bg-white hover:bg-gray-50 transition-colors\"\r\n            >\r\n              <Filter className=\"w-5 h-5\" />\r\n              <span className=\"font-semibold text-sm\">Filters</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Results Count */}\r\n        <div className=\"mb-6 flex items-center justify-between\">\r\n          <p className=\"text-sm text-gray-600\">\r\n            Showing <strong>{filteredTrips.length}</strong> of <strong>{trips.length}</strong> trips\r\n          </p>\r\n          {searchQuery && (\r\n            <button\r\n              onClick={() => setSearchQuery(\"\")}\r\n              className=\"text-brand-orange text-sm font-semibold hover:underline\"\r\n            >\r\n              Clear Search\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {/* Trips Grid */}\r\n        {filteredTrips.length === 0 ? (\r\n          <div className=\"bg-white rounded-lg p-12 text-center\">\r\n            <Calendar className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\r\n            <h3 className=\"font-semibold text-brand-brown mb-2\">No trips found</h3>\r\n            <p className=\"text-gray-600 mb-4\">\r\n              {searchQuery ? \"Try adjusting your search or filters\" : \"You haven't booked any trips yet\"}\r\n            </p>\r\n            {!searchQuery && (\r\n              <button\r\n                onClick={() => navigate('/plan-trip')}\r\n                className=\"px-6 py-3 bg-brand-orange text-white rounded-lg font-semibold hover:bg-orange-600 transition-colors\"\r\n              >\r\n                Plan Your First Trip\r\n              </button>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-6\">\r\n            {filteredTrips.map(renderTripCard)}\r\n          </div>\r\n        )}\r\n\r\n        {/* Newsletter CTA */}\r\n        {filteredTrips.length > 0 && (\r\n          <div className=\"mt-8 bg-gradient-to-r from-brand-orange to-orange-600 text-white rounded-lg p-8 text-center\">\r\n            <Mail className=\"w-12 h-12 mx-auto mb-4 opacity-90\" />\r\n            <h3 className=\"text-2xl font-bold mb-2\">Get Travel Inspiration</h3>\r\n            <p className=\"mb-4 opacity-90\">Subscribe to our newsletter for exclusive deals and travel tips</p>\r\n            <button className=\"px-6 py-3 bg-white text-brand-orange rounded-lg font-semibold hover:bg-opacity-90 transition-colors\">\r\n              Subscribe Now\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Mock data for development\r\nconst mockTrips = [\r\n  {\r\n    id: \"TRV001\",\r\n    bookingRef: \"COL-2025-001\",\r\n    destination: \"Kruger National Park Safari\",\r\n    startDate: \"2025-12-15\",\r\n    endDate: \"2025-12-20\",\r\n    duration: 5,\r\n    travelers: 2,\r\n    status: \"confirmed\",\r\n    accommodation: \"Sabi Sabi Private Lodge\",\r\n    flight: true,\r\n    transport: true,\r\n    currency: \"ZAR\",\r\n    totalAmount: 35900,\r\n    hasMessages: true,\r\n    unreadMessages: 2\r\n  },\r\n  {\r\n    id: \"TRV002\",\r\n    bookingRef: \"COL-2025-002\",\r\n    destination: \"Cape Town & Winelands\",\r\n    startDate: \"2025-11-28\",\r\n    endDate: \"2025-12-03\",\r\n    duration: 5,\r\n    travelers: 4,\r\n    status: \"confirmed\",\r\n    accommodation: \"Table Bay Hotel\",\r\n    flight: false,\r\n    transport: true,\r\n    currency: \"ZAR\",\r\n    totalAmount: 28500,\r\n    hasMessages: false,\r\n    unreadMessages: 0\r\n  },\r\n  {\r\n    id: \"TRV003\",\r\n    bookingRef: \"COL-2025-003\",\r\n    destination: \"Zanzibar Beach Escape\",\r\n    startDate: \"2025-10-10\",\r\n    endDate: \"2025-10-17\",\r\n    duration: 7,\r\n    travelers: 2,\r\n    status: \"completed\",\r\n    accommodation: \"The Rock Resort\",\r\n    flight: true,\r\n    transport: true,\r\n    currency: \"ZAR\",\r\n    totalAmount: 42000,\r\n    hasMessages: true,\r\n    unreadMessages: 0\r\n  }\r\n];\r\n"],"names":["useState","useCallback","useEffect","jsx","jsxs"],"mappings":"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"}