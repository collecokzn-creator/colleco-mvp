{"version":3,"file":"SubscriptionTiers-Bntgf2GR.js","sources":["../../src/utils/subscriptionAnalytics.js","../../src/components/SubscriptionSelector.jsx","../../src/components/SubscriptionManagement.jsx","../../src/pages/SubscriptionTiers.jsx"],"sourcesContent":["/**\r\n * ROI Calculator and Analytics\r\n * Shows partners exactly when subscription pays for itself\r\n * This is the \"WoW\" moment - data-driven upgrade recommendations\r\n */\r\n\r\nimport { calculateMonthlyROI, getPlan, SUBSCRIPTION_PLANS } from './subscriptionPlans.js';\r\n\r\nexport class ROIAnalyzer {\r\n  constructor(partnerId, partnerMetrics) {\r\n    this.partnerId = partnerId;\r\n    this.metrics = partnerMetrics;\r\n    this.currentPlan = partnerMetrics.subscription?.planId || 'free';\r\n    this.monthlyRevenue = partnerMetrics.revenue?.thisMonth || 0;\r\n  }\r\n\r\n  /**\r\n   * Calculate ROI for all plans\r\n   */\r\n  analyzeAllPlans() {\r\n    const analysis = [];\r\n    const planIds = ['free', 'starter', 'pro', 'enterprise'];\r\n    \r\n    for (const planId of planIds) {\r\n      const roi = calculateMonthlyROI(planId, this.monthlyRevenue);\r\n      const plan = getPlan(planId);\r\n      \r\n      analysis.push({\r\n        planId,\r\n        name: plan.name,\r\n        badge: plan.badge,\r\n        monthlyPrice: plan.monthlyPrice,\r\n        commission: `${(plan.commission.base * 100).toFixed(1)}%`,\r\n        ...roi,\r\n        isCurrent: planId === this.currentPlan,\r\n        isRecommended: this.getRecommendation() === planId,\r\n      });\r\n    }\r\n    \r\n    return analysis;\r\n  }\r\n\r\n  /**\r\n   * Get smart recommendation\r\n   */\r\n  getRecommendation() {\r\n    const current = getPlan(this.currentPlan);\r\n    if (!current) return 'free';\r\n    \r\n    // Current revenue-based recommendation\r\n    if (this.monthlyRevenue >= 50000) return 'enterprise';\r\n    if (this.monthlyRevenue >= 15000) return 'pro';\r\n    if (this.monthlyRevenue >= 5000) return 'starter';\r\n    return 'free';\r\n  }\r\n\r\n  /**\r\n   * Calculate breakeven point (when subscription pays for itself)\r\n   */\r\n  calculateBreakeven() {\r\n    const plans = ['starter', 'pro'];\r\n    const results = {};\r\n    \r\n    for (const planId of plans) {\r\n      const plan = getPlan(planId);\r\n      if (typeof plan.monthlyPrice !== 'number' || plan.monthlyPrice === 0) continue;\r\n      \r\n      const freePlan = getPlan('free');\r\n      const commissionDifference = freePlan.commission.base - plan.commission.base;\r\n      \r\n      // Breakeven revenue = subscription cost / commission difference\r\n      const breakeven = Math.ceil(plan.monthlyPrice / commissionDifference);\r\n      \r\n      results[planId] = {\r\n        monthlyBreakeven: breakeven,\r\n        daysToBreakeven: Math.ceil(breakeven / (this.monthlyRevenue / 30)) || 365,\r\n        isAlreadyProfit: this.monthlyRevenue >= breakeven,\r\n        profitIfUpgraded: Math.max(0, this.monthlyRevenue * commissionDifference - plan.monthlyPrice),\r\n      };\r\n    }\r\n    \r\n    return results;\r\n  }\r\n\r\n  /**\r\n   * Generate \"WoW\" insight - when does upgrade pay for itself?\r\n   */\r\n  generateInsight() {\r\n    const recommendation = this.getRecommendation();\r\n    const breakeven = this.calculateBreakeven();\r\n    \r\n    if (recommendation === this.currentPlan) {\r\n      return {\r\n        type: 'optimal',\r\n        message: `Your current plan (${getPlan(this.currentPlan).name}) is perfect for your revenue level.`,\r\n        action: 'continue',\r\n      };\r\n    }\r\n    \r\n    const recommendedPlan = getPlan(recommendation);\r\n    const breakevensData = breakeven[recommendation];\r\n    \r\n    if (!breakevensData) {\r\n      return {\r\n        type: 'info',\r\n        message: `Consider exploring ${recommendedPlan.name} for more advanced features.`,\r\n        action: 'explore',\r\n      };\r\n    }\r\n    \r\n    const isWorthIt = breakevensData.isAlreadyProfit || breakevensData.daysToBreakeven < 90;\r\n    \r\n    if (isWorthIt) {\r\n      return {\r\n        type: 'wow_positive',\r\n        message: `ðŸŽ‰ ${recommendedPlan.name} would PAY FOR ITSELF in ${breakevensData.daysToBreakeven} days at your current revenue!`,\r\n        savings: breakevensData.profitIfUpgraded,\r\n        annualSavings: breakevensData.profitIfUpgraded * 12,\r\n        daysToBreakeven: breakevensData.daysToBreakeven,\r\n        action: 'upgrade_now',\r\n      };\r\n    }\r\n    \r\n    return {\r\n      type: 'info',\r\n      message: `Upgrade to ${recommendedPlan.name} when you reach R${breakevensData.monthlyBreakeven.toLocaleString()}/month revenue.`,\r\n      targetRevenue: breakevensData.monthlyBreakeven,\r\n      action: 'monitor',\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Simulate growth path\r\n   */\r\n  simulateGrowthPath(monthlyGrowthRate = 0.05) {\r\n    const projections = [];\r\n    let currentRevenue = this.monthlyRevenue;\r\n    let currentPlan = this.currentPlan;\r\n    \r\n    for (let month = 0; month <= 24; month++) {\r\n      const projection = {\r\n        month,\r\n        revenue: Math.round(currentRevenue),\r\n        plan: currentPlan,\r\n        planName: getPlan(currentPlan).name,\r\n      };\r\n      \r\n      // Update ROI info\r\n      const roi = calculateMonthlyROI(currentPlan, currentRevenue);\r\n      projection.roi = roi.monthlyROI;\r\n      projection.savings = roi.commissionSaved;\r\n      \r\n      // Check if should upgrade\r\n      if (month > 0 && month % 3 === 0) {\r\n        const recommended = this.getRecommendedPlanForRevenue(currentRevenue);\r\n        if (recommended !== currentPlan && recommended !== 'enterprise') {\r\n          currentPlan = recommended;\r\n          projection.planChange = true;\r\n          projection.newPlan = recommended;\r\n        }\r\n      }\r\n      \r\n      projections.push(projection);\r\n      currentRevenue = currentRevenue * (1 + monthlyGrowthRate);\r\n    }\r\n    \r\n    return projections;\r\n  }\r\n\r\n  getRecommendedPlanForRevenue(revenue) {\r\n    if (revenue >= 50000) return 'enterprise';\r\n    if (revenue >= 15000) return 'pro';\r\n    if (revenue >= 5000) return 'starter';\r\n    return 'free';\r\n  }\r\n\r\n  /**\r\n   * Cost comparison across all plans at different revenue levels\r\n   */\r\n  generateComparisonTable() {\r\n    const revenuePoints = [0, 5000, 10000, 15000, 25000, 50000];\r\n    const table = [];\r\n    \r\n    for (const revenue of revenuePoints) {\r\n      const row = { revenue };\r\n      \r\n      for (const planId of ['free', 'starter', 'pro', 'enterprise']) {\r\n        const plan = getPlan(planId);\r\n        const roi = calculateMonthlyROI(planId, revenue);\r\n        \r\n        row[planId] = {\r\n          subscription: plan.monthlyPrice,\r\n          commission: `${(plan.commission.base * 100).toFixed(1)}%`,\r\n          monthlyROI: roi.monthlyROI,\r\n          savings: roi.commissionSaved,\r\n        };\r\n      }\r\n      \r\n      table.push(row);\r\n    }\r\n    \r\n    return table;\r\n  }\r\n\r\n  /**\r\n   * Feature value analysis\r\n   */\r\n  analyzeFeatureValue() {\r\n    const currentPlan = getPlan(this.currentPlan);\r\n    const upgradePlans = ['starter', 'pro', 'enterprise'];\r\n    const analysis = {};\r\n    \r\n    for (const planId of upgradePlans) {\r\n      const plan = getPlan(planId);\r\n      const newFeatures = this.getNewFeatures(currentPlan, plan);\r\n      const estimatedRevenueLift = this.estimateRevenueLift(newFeatures);\r\n      \r\n      const subscriptionCost = typeof plan.monthlyPrice === 'number' ? plan.monthlyPrice : 0;\r\n      const addedValue = estimatedRevenueLift - subscriptionCost;\r\n      \r\n      analysis[planId] = {\r\n        newFeatures: newFeatures.map(f => f.name),\r\n        estimatedRevenueLift: Math.round(estimatedRevenueLift),\r\n        subscriptionCost,\r\n        netValue: Math.round(addedValue),\r\n        roi: addedValue > 0 ? 'positive' : 'neutral',\r\n      };\r\n    }\r\n    \r\n    return analysis;\r\n  }\r\n\r\n  getNewFeatures(currentPlan, upgradePlan) {\r\n    const currentFeatures = currentPlan.features || {};\r\n    const newFeatures = upgradePlan.features || {};\r\n    const differences = [];\r\n    \r\n    const featureValues = {\r\n      competitorBenchmarking: 500,\r\n      advancedPricingTools: 2000,\r\n      customBranding: 800,\r\n      automationRules: 300, // per rule\r\n      dedicatedSupport: 1000,\r\n    };\r\n    \r\n    for (const [feature, value] of Object.entries(featureValues)) {\r\n      if (!currentFeatures[feature] && newFeatures[feature]) {\r\n        differences.push({\r\n          name: feature,\r\n          estimatedValue: value,\r\n        });\r\n      }\r\n    }\r\n    \r\n    return differences;\r\n  }\r\n\r\n  estimateRevenueLift(features) {\r\n    return features.reduce((sum, f) => sum + f.estimatedValue, 0);\r\n  }\r\n\r\n  /**\r\n   * Partner success indicators\r\n   */\r\n  getHealthScore() {\r\n    const score = {};\r\n    \r\n    // Revenue health\r\n    score.revenue = this.monthlyRevenue > 10000 ? 'high' : \r\n                   this.monthlyRevenue > 5000 ? 'medium' : 'low';\r\n    \r\n    // Plan optimization\r\n    const recommended = this.getRecommendation();\r\n    score.planOptimization = recommended === this.currentPlan ? 'optimal' :\r\n                            Object.keys(SUBSCRIPTION_PLANS).indexOf(recommended) > Object.keys(SUBSCRIPTION_PLANS).indexOf(this.currentPlan) ? 'upgrade_ready' : 'downgrade_available';\r\n    \r\n    // ROI opportunity\r\n    const breakeven = this.calculateBreakeven();\r\n    const opportunities = Object.values(breakeven).filter(b => b.isAlreadyProfit).length;\r\n    score.roiOpportunity = opportunities > 0 ? 'high' : 'monitor';\r\n    \r\n    return score;\r\n  }\r\n\r\n  /**\r\n   * Export analysis for dashboard\r\n   */\r\n  exportAnalysis() {\r\n    return {\r\n      partnerId: this.partnerId,\r\n      currentPlan: this.currentPlan,\r\n      monthlyRevenue: this.monthlyRevenue,\r\n      allPlansAnalysis: this.analyzeAllPlans(),\r\n      breakeven: this.calculateBreakeven(),\r\n      insight: this.generateInsight(),\r\n      healthScore: this.getHealthScore(),\r\n      comparisonTable: this.generateComparisonTable(),\r\n      featureAnalysis: this.analyzeFeatureValue(),\r\n      growthPath: this.simulateGrowthPath(),\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Get ROI analyzer for partner\r\n */\r\nexport function createROIAnalyzer(partnerId, partnerMetrics) {\r\n  return new ROIAnalyzer(partnerId, partnerMetrics);\r\n}\r\n\r\n/**\r\n * Quick ROI check\r\n */\r\nexport function quickROICheck(planId, monthlyRevenue) {\r\n  const roi = calculateMonthlyROI(planId, monthlyRevenue);\r\n  const plan = getPlan(planId);\r\n  \r\n  return {\r\n    plan: plan.name,\r\n    subscription: plan.monthlyPrice,\r\n    commission: `${(plan.commission.base * 100).toFixed(1)}%`,\r\n    monthlyROI: roi.monthlyROI,\r\n    recommendation: roi.roiPercentage > 0 ? 'âœ… Worth upgrading' : 'âŒ Stay with current plan',\r\n  };\r\n}\r\n","import React, { useState, useMemo } from 'react';\r\nimport { ChevronRight, Check, TrendingUp, AlertCircle, Star } from 'lucide-react';\r\nimport { getAllPlans, calculateMonthlyROI } from '../utils/subscriptionPlans.js';\r\nimport { createROIAnalyzer } from '../utils/subscriptionAnalytics.js';\r\n\r\n/**\r\n * Subscription Selector Component\r\n * Shows tier comparison with intelligent ROI highlighting\r\n * This is where the \"WoW\" moment happens - partners see exactly when they save money\r\n */\r\nexport default function SubscriptionSelector({ \r\n  partnerId, \r\n  currentPlan = 'free', \r\n  monthlyRevenue = 0, \r\n  onSelectPlan,\r\n  showROI = true \r\n}) {\r\n  const [selectedPlan, setSelectedPlan] = useState(currentPlan);\r\n  const [billingPeriod, setBillingPeriod] = useState('monthly');\r\n  const [showComparison, setShowComparison] = useState(false);\r\n\r\n  // Generate ROI analysis\r\n  const analysis = useMemo(() => {\r\n    if (!showROI || monthlyRevenue === 0) return null;\r\n    \r\n    const analyzer = createROIAnalyzer(partnerId, {\r\n      revenue: { thisMonth: monthlyRevenue },\r\n      subscription: { planId: currentPlan },\r\n    });\r\n    \r\n    return {\r\n      all: analyzer.analyzeAllPlans(),\r\n      insight: analyzer.generateInsight(),\r\n      breakeven: analyzer.calculateBreakeven(),\r\n    };\r\n  }, [partnerId, monthlyRevenue, currentPlan, showROI]);\r\n\r\n  const plans = getAllPlans();\r\n  const planIds = ['free', 'starter', 'pro', 'enterprise'];\r\n\r\n  const handlePlanSelect = (planId) => {\r\n    setSelectedPlan(planId);\r\n    onSelectPlan?.(planId);\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full max-w-6xl mx-auto p-6 bg-gradient-to-br from-cream-50 to-white rounded-2xl\">\r\n      {/* Header */}\r\n      <div className=\"mb-8\">\r\n        <h2 className=\"text-3xl font-bold text-brand-brown mb-2\">\r\n          Choose Your Plan\r\n        </h2>\r\n        <p className=\"text-gray-600\">\r\n          Start free and upgrade as you grow. Only pay for what you use.\r\n        </p>\r\n      </div>\r\n\r\n      {/* Billing Period Toggle */}\r\n      <div className=\"flex items-center justify-center mb-8\">\r\n        <button\r\n          onClick={() => setBillingPeriod('monthly')}\r\n          className={`px-6 py-3 rounded-l-lg font-medium transition ${\r\n            billingPeriod === 'monthly'\r\n              ? 'bg-brand-orange text-white'\r\n              : 'bg-gray-200 text-gray-700'\r\n          }`}\r\n        >\r\n          Monthly Billing\r\n        </button>\r\n        <button\r\n          onClick={() => setBillingPeriod('annual')}\r\n          className={`px-6 py-3 rounded-r-lg font-medium transition ${\r\n            billingPeriod === 'annual'\r\n              ? 'bg-brand-orange text-white'\r\n              : 'bg-gray-200 text-gray-700'\r\n          }`}\r\n        >\r\n          Annual (Save 20%)\r\n        </button>\r\n      </div>\r\n\r\n      {/* Revenue Input (for ROI calculation) */}\r\n      {showROI && (\r\n        <div className=\"mb-8 p-4 bg-blue-50 rounded-lg border border-blue-200\">\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Your Monthly Revenue\r\n          </label>\r\n          <div className=\"flex items-center gap-4\">\r\n            <span className=\"text-gray-600\">R</span>\r\n            <input\r\n              type=\"number\"\r\n              value={monthlyRevenue || ''}\r\n              onChange={(_e) => {\r\n                // Note: In real implementation, pass to parent via callback\r\n              }}\r\n              placeholder=\"Enter your estimated monthly revenue\"\r\n              className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange\"\r\n            />\r\n          </div>\r\n          <p className=\"text-xs text-gray-500 mt-2\">\r\n            ðŸ’¡ We use this to calculate your exact ROI for each plan\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Plans Grid */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\r\n        {planIds.map((planId) => {\r\n          const plan = plans[planId];\r\n          const isCurrent = planId === currentPlan;\r\n          const isSelected = planId === selectedPlan;\r\n          const roi = showROI && monthlyRevenue > 0 ? calculateMonthlyROI(planId, monthlyRevenue) : null;\r\n          \r\n          // Check if this plan ROI is positive\r\n          const isROIPositive = roi && roi.roiPercentage > 0;\r\n          const showWOWBadge = isROIPositive && !isCurrent;\r\n\r\n          return (\r\n            <div\r\n              key={planId}\r\n              onClick={() => handlePlanSelect(planId)}\r\n              className={`relative p-6 rounded-xl border-2 cursor-pointer transition transform hover:scale-105 ${\r\n                isSelected\r\n                  ? 'border-brand-orange bg-orange-50 shadow-lg'\r\n                  : isCurrent\r\n                  ? 'border-brand-brown bg-cream-50'\r\n                  : 'border-gray-200 bg-white hover:border-brand-orange'\r\n              }`}\r\n            >\r\n              {/* Current Badge */}\r\n              {isCurrent && (\r\n                <div className=\"absolute -top-3 -right-3 bg-brand-brown text-white px-3 py-1 rounded-full text-xs font-bold\">\r\n                  Current\r\n                </div>\r\n              )}\r\n\r\n              {/* WOW Badge - The magic moment! */}\r\n              {showWOWBadge && (\r\n                <div className=\"absolute -top-3 -right-3 bg-gradient-to-r from-green-400 to-blue-500 text-white px-3 py-1 rounded-full text-xs font-bold animate-pulse flex items-center gap-1\">\r\n                  <Star size={12} />\r\n                  WOW\r\n                </div>\r\n              )}\r\n\r\n              {/* Plan Header */}\r\n              <div className=\"mb-4\">\r\n                <div className=\"flex items-center justify-between mb-2\">\r\n                  <span className=\"text-3xl\">{plan.badge}</span>\r\n                  <span className=\"text-sm font-semibold text-gray-500\">{plan.id.toUpperCase()}</span>\r\n                </div>\r\n                <h3 className=\"text-2xl font-bold text-brand-brown mb-2\">{plan.name}</h3>\r\n                <p className=\"text-sm text-gray-600\">{plan.description}</p>\r\n              </div>\r\n\r\n              {/* Pricing */}\r\n              <div className=\"mb-4 pb-4 border-b-2 border-gray-100\">\r\n                <div className=\"flex items-baseline gap-1 mb-2\">\r\n                  <span className=\"text-3xl font-bold text-brand-orange\">\r\n                    {typeof plan.monthlyPrice === 'number' ? `R${plan.monthlyPrice}` : 'Custom'}\r\n                  </span>\r\n                  {typeof plan.monthlyPrice === 'number' && (\r\n                    <span className=\"text-gray-600\">/month</span>\r\n                  )}\r\n                </div>\r\n                <p className=\"text-sm text-gray-600\">\r\n                  Commission: <span className=\"font-bold text-brand-brown\">\r\n                    {(plan.commission.base * 100).toFixed(1)}%\r\n                  </span>\r\n                </p>\r\n              </div>\r\n\r\n              {/* ROI Highlight - The \"WOW\" moment explanation */}\r\n              {roi && monthlyRevenue > 0 && (\r\n                <div className={`mb-4 p-3 rounded-lg ${\r\n                  isROIPositive\r\n                    ? 'bg-green-50 border border-green-200'\r\n                    : 'bg-gray-50 border border-gray-200'\r\n                }`}>\r\n                  <div className=\"flex items-start gap-2\">\r\n                    {isROIPositive ? (\r\n                      <TrendingUp className=\"text-green-600 flex-shrink-0 mt-0.5\" size={16} />\r\n                    ) : (\r\n                      <AlertCircle className=\"text-gray-400 flex-shrink-0 mt-0.5\" size={16} />\r\n                    )}\r\n                    <div className=\"text-sm\">\r\n                      <p className=\"font-semibold text-gray-800\">\r\n                        {isROIPositive ? 'ðŸ’° Saves you' : 'Cost'} <span className={isROIPositive ? 'text-green-600' : 'text-gray-600'}>\r\n                          R{Math.abs(roi.monthlyROI).toLocaleString()}\r\n                        </span>/month\r\n                      </p>\r\n                      <p className=\"text-xs text-gray-600 mt-1\">\r\n                        vs Free plan at your revenue level\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Features */}\r\n              <div className=\"mb-4\">\r\n                <p className=\"text-xs font-semibold text-gray-600 uppercase mb-3\">Key Features</p>\r\n                <ul className=\"space-y-2\">\r\n                  <li className=\"flex items-center gap-2 text-sm text-gray-700\">\r\n                    <Check size={16} className=\"text-green-500\" />\r\n                    <span>{plan.features.listings === 'unlimited' ? 'Unlimited' : plan.features.listings} Listings</span>\r\n                  </li>\r\n                  <li className=\"flex items-center gap-2 text-sm text-gray-700\">\r\n                    <Check size={16} className=\"text-green-500\" />\r\n                    <span>{plan.limitations.reportFrequency} Reports</span>\r\n                  </li>\r\n                  {plan.features.competitorBenchmarking && (\r\n                    <li className=\"flex items-center gap-2 text-sm text-gray-700\">\r\n                      <Check size={16} className=\"text-green-500\" />\r\n                      <span>Competitor Insights</span>\r\n                    </li>\r\n                  )}\r\n                  {plan.features.advancedPricingTools && (\r\n                    <li className=\"flex items-center gap-2 text-sm text-gray-700\">\r\n                      <Check size={16} className=\"text-green-500\" />\r\n                      <span>Dynamic Pricing</span>\r\n                    </li>\r\n                  )}\r\n                  {plan.features.dedicatedSupport !== false && (\r\n                    <li className=\"flex items-center gap-2 text-sm text-gray-700\">\r\n                      <Check size={16} className=\"text-green-500\" />\r\n                      <span>Priority Support</span>\r\n                    </li>\r\n                  )}\r\n                </ul>\r\n              </div>\r\n\r\n              {/* CTA Button */}\r\n              <button\r\n                className={`w-full py-3 rounded-lg font-semibold transition flex items-center justify-center gap-2 ${\r\n                  isCurrent\r\n                    ? 'bg-gray-200 text-gray-700 cursor-default'\r\n                    : isSelected\r\n                    ? 'bg-brand-orange text-white hover:bg-orange-600'\r\n                    : 'bg-gray-200 text-gray-700 hover:bg-brand-orange hover:text-white'\r\n                }`}\r\n                disabled={isCurrent}\r\n              >\r\n                {isCurrent ? 'Current Plan' : 'Select Plan'}\r\n                {!isCurrent && <ChevronRight size={18} />}\r\n              </button>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {/* Detailed Comparison */}\r\n      <button\r\n        onClick={() => setShowComparison(!showComparison)}\r\n        className=\"w-full py-3 px-4 bg-gray-100 hover:bg-gray-200 rounded-lg font-semibold text-gray-700 transition flex items-center justify-center gap-2 mb-8\"\r\n      >\r\n        {showComparison ? 'âœ• Hide' : '+ Show'} Detailed Comparison\r\n      </button>\r\n\r\n      {showComparison && (\r\n        <div className=\"mb-8 bg-white rounded-xl border border-gray-200 overflow-auto\">\r\n          <table className=\"w-full text-sm\">\r\n            <thead className=\"bg-gray-50 border-b border-gray-200\">\r\n              <tr>\r\n                <th className=\"px-6 py-3 text-left font-semibold text-gray-700\">Feature</th>\r\n                {planIds.map(planId => (\r\n                  <th key={planId} className=\"px-6 py-3 text-left font-semibold text-gray-700\">\r\n                    {plans[planId].name}\r\n                  </th>\r\n                ))}\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr className=\"border-b border-gray-200\">\r\n                <td className=\"px-6 py-3 font-semibold text-gray-700\">Monthly Price</td>\r\n                {planIds.map(planId => (\r\n                  <td key={planId} className=\"px-6 py-3 text-gray-600\">\r\n                    {typeof plans[planId].monthlyPrice === 'number' ? `R${plans[planId].monthlyPrice}` : 'Custom'}\r\n                  </td>\r\n                ))}\r\n              </tr>\r\n              <tr className=\"border-b border-gray-200 bg-orange-50\">\r\n                <td className=\"px-6 py-3 font-semibold text-gray-700\">Commission Rate</td>\r\n                {planIds.map(planId => (\r\n                  <td key={planId} className=\"px-6 py-3 font-bold text-brand-orange\">\r\n                    {(plans[planId].commission.base * 100).toFixed(1)}%\r\n                  </td>\r\n                ))}\r\n              </tr>\r\n              <tr className=\"border-b border-gray-200\">\r\n                <td className=\"px-6 py-3 font-semibold text-gray-700\">Listings</td>\r\n                {planIds.map(planId => (\r\n                  <td key={planId} className=\"px-6 py-3 text-gray-600\">\r\n                    {plans[planId].features.listings}\r\n                  </td>\r\n                ))}\r\n              </tr>\r\n              <tr className=\"border-b border-gray-200\">\r\n                <td className=\"px-6 py-3 font-semibold text-gray-700\">Report Frequency</td>\r\n                {planIds.map(planId => (\r\n                  <td key={planId} className=\"px-6 py-3 text-gray-600\">\r\n                    {plans[planId].limitations.reportFrequency}\r\n                  </td>\r\n                ))}\r\n              </tr>\r\n              <tr className=\"border-b border-gray-200\">\r\n                <td className=\"px-6 py-3 font-semibold text-gray-700\">Competitor Benchmarking</td>\r\n                {planIds.map(planId => (\r\n                  <td key={planId} className=\"px-6 py-3\">\r\n                    {plans[planId].features.competitorBenchmarking ? (\r\n                      <Check className=\"text-green-500\" size={20} />\r\n                    ) : (\r\n                      <span className=\"text-gray-400\">â€”</span>\r\n                    )}\r\n                  </td>\r\n                ))}\r\n              </tr>\r\n              <tr className=\"border-b border-gray-200\">\r\n                <td className=\"px-6 py-3 font-semibold text-gray-700\">Dynamic Pricing</td>\r\n                {planIds.map(planId => (\r\n                  <td key={planId} className=\"px-6 py-3\">\r\n                    {plans[planId].features.advancedPricingTools ? (\r\n                      <Check className=\"text-green-500\" size={20} />\r\n                    ) : (\r\n                      <span className=\"text-gray-400\">â€”</span>\r\n                    )}\r\n                  </td>\r\n                ))}\r\n              </tr>\r\n              <tr className=\"border-b border-gray-200\">\r\n                <td className=\"px-6 py-3 font-semibold text-gray-700\">Automation Rules</td>\r\n                {planIds.map(planId => (\r\n                  <td key={planId} className=\"px-6 py-3 text-gray-600\">\r\n                    {plans[planId].features.automationRules}\r\n                  </td>\r\n                ))}\r\n              </tr>\r\n              <tr>\r\n                <td className=\"px-6 py-3 font-semibold text-gray-700\">Support</td>\r\n                {planIds.map(planId => (\r\n                  <td key={planId} className=\"px-6 py-3 text-gray-600 capitalize\">\r\n                    {typeof plans[planId].features.dedicatedSupport === 'string' \r\n                      ? plans[planId].features.dedicatedSupport.replace(/_/g, ' ')\r\n                      : 'None'\r\n                    }\r\n                  </td>\r\n                ))}\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n\r\n      {/* Insight Card */}\r\n      {analysis?.insight && monthlyRevenue > 0 && (\r\n        <div className={`p-6 rounded-xl border-2 ${\r\n          analysis.insight.type === 'wow_positive'\r\n            ? 'bg-green-50 border-green-300'\r\n            : 'bg-blue-50 border-blue-300'\r\n        }`}>\r\n          <div className=\"flex items-start gap-4\">\r\n            <div className=\"text-3xl mt-1\">\r\n              {analysis.insight.type === 'wow_positive' ? 'ðŸŽ‰' : 'ðŸ’¡'}\r\n            </div>\r\n            <div>\r\n              <h4 className=\"font-bold text-gray-800 mb-2\">{analysis.insight.message}</h4>\r\n              {analysis.insight.annualSavings > 0 && (\r\n                <p className=\"text-sm text-gray-700\">\r\n                  <span className=\"font-semibold\">Annual Savings:</span> R{analysis.insight.annualSavings.toLocaleString()}\r\n                </p>\r\n              )}\r\n              {analysis.insight.targetRevenue && (\r\n                <p className=\"text-sm text-gray-700 mt-1\">\r\n                  Target to upgrade: <span className=\"font-semibold\">R{analysis.insight.targetRevenue.toLocaleString()}/month</span>\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { CreditCard, Download, ChevronRight, CheckCircle } from 'lucide-react';\r\nimport { getPlan, calculateMonthlyROI } from '../utils/subscriptionPlans.js';\r\nimport { createROIAnalyzer } from '../utils/subscriptionAnalytics.js';\r\n\r\n/**\r\n * Subscription Management Component\r\n * Display current subscription, billing history, and change plan\r\n */\r\nexport default function SubscriptionManagement({\r\n  partnerId,\r\n  currentPlan = 'free',\r\n  monthlyRevenue = 0,\r\n  onChangePlan,\r\n  onCancelSubscription,\r\n}) {\r\n  const [subscription, setSubscription] = useState(null);\r\n  const [billingHistory, setBillingHistory] = useState([]);\r\n  const [_selectedUpgrade, _setSelectedUpgrade] = useState(null);\r\n  const [showROI, _setShowROI] = useState(true);\r\n\r\n  const loadSubscriptionDetails = useCallback(() => {\r\n    const plan = getPlan(currentPlan);\r\n    const roi = calculateMonthlyROI(currentPlan, monthlyRevenue);\r\n    \r\n    setSubscription({\r\n      planId: currentPlan,\r\n      planName: plan.name,\r\n      badge: plan.badge,\r\n      monthlyPrice: plan.monthlyPrice,\r\n      commission: plan.commission.base,\r\n      startDate: new Date(Date.now() - 45 * 24 * 60 * 60 * 1000), // 45 days ago\r\n      renewalDate: new Date(Date.now() + 15 * 24 * 60 * 60 * 1000), // 15 days from now\r\n      status: 'active',\r\n      roi,\r\n      features: plan.features,\r\n    });\r\n  }, [currentPlan, monthlyRevenue]);\r\n\r\n  const loadBillingHistory = useCallback(() => {\r\n    // Mock billing history\r\n    const history = [\r\n      {\r\n        id: 'INV_001',\r\n        date: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000),\r\n        amount: getPlan(currentPlan).monthlyPrice,\r\n        description: `${getPlan(currentPlan).name} Subscription`,\r\n        status: 'paid',\r\n      },\r\n      {\r\n        id: 'INV_002',\r\n        date: new Date(Date.now() - 60 * 24 * 60 * 60 * 1000),\r\n        amount: getPlan(currentPlan).monthlyPrice,\r\n        description: `${getPlan(currentPlan).name} Subscription`,\r\n        status: 'paid',\r\n      },\r\n    ];\r\n    setBillingHistory(history);\r\n  }, [currentPlan]);\r\n\r\n  useEffect(() => {\r\n    loadSubscriptionDetails();\r\n    loadBillingHistory();\r\n  }, [loadSubscriptionDetails, loadBillingHistory]);\r\n\r\n  \r\n\r\n  const handleDownloadInvoice = (invoiceId) => {\r\n    // In real app, trigger invoice download\r\n    alert(`Downloading invoice ${invoiceId}...`);\r\n  };\r\n\r\n  if (!subscription) {\r\n    return <div className=\"p-6 text-center text-gray-500\">Loading subscription details...</div>;\r\n  }\r\n\r\n  const analyzer = createROIAnalyzer(partnerId, {\r\n    revenue: { thisMonth: monthlyRevenue },\r\n    subscription: { planId: currentPlan },\r\n  });\r\n\r\n  const insight = analyzer.generateInsight();\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto space-y-8\">\r\n      {/* Current Subscription Card */}\r\n      <div className=\"bg-white rounded-xl border-2 border-brand-brown shadow-lg p-8\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8\">\r\n          {/* Plan Info */}\r\n          <div>\r\n            <p className=\"text-sm text-gray-600 mb-2\">Current Plan</p>\r\n            <div className=\"flex items-baseline gap-3\">\r\n              <span className=\"text-4xl\">{subscription.badge}</span>\r\n              <h2 className=\"text-3xl font-bold text-brand-brown\">{subscription.planName}</h2>\r\n            </div>\r\n            <p className=\"text-lg font-semibold text-brand-orange mt-4\">\r\n              {typeof subscription.monthlyPrice === 'number' \r\n                ? `R${subscription.monthlyPrice}/month`\r\n                : 'Custom Pricing'\r\n              }\r\n            </p>\r\n            <p className=\"text-sm text-gray-600 mt-2\">\r\n              Commission: <span className=\"font-bold text-brand-brown\">{(subscription.commission * 100).toFixed(1)}%</span>\r\n            </p>\r\n          </div>\r\n\r\n          {/* Status Info */}\r\n          <div className=\"md:border-l md:border-gray-200 md:pl-8\">\r\n            <p className=\"text-sm text-gray-600 mb-2\">Status</p>\r\n            <div className=\"flex items-center gap-2 mb-4\">\r\n              <CheckCircle className=\"text-green-500\" size={20} />\r\n              <span className=\"font-semibold text-green-700\">Active</span>\r\n            </div>\r\n            \r\n            <p className=\"text-sm text-gray-600 mb-1\">Renewal Date</p>\r\n            <p className=\"font-semibold text-gray-800\">\r\n              {subscription.renewalDate.toLocaleDateString()}\r\n            </p>\r\n            \r\n            <p className=\"text-sm text-gray-600 mt-4 mb-1\">Active Since</p>\r\n            <p className=\"font-semibold text-gray-800\">\r\n              {subscription.startDate.toLocaleDateString()}\r\n            </p>\r\n          </div>\r\n\r\n          {/* ROI Summary */}\r\n          {showROI && (\r\n            <div className=\"bg-gradient-to-br from-green-50 to-blue-50 rounded-lg p-4 md:border md:border-green-200\">\r\n              <p className=\"text-sm text-gray-600 mb-3 font-semibold\">Your ROI</p>\r\n              <div className=\"space-y-3\">\r\n                <div>\r\n                  <p className=\"text-xs text-gray-600\">Monthly Savings</p>\r\n                  <p className=\"text-2xl font-bold text-green-600\">\r\n                    R{subscription.roi.monthlyROI.toLocaleString()}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-xs text-gray-600\">Commission Rate</p>\r\n                  <p className=\"text-lg font-bold text-brand-orange\">\r\n                    {subscription.roi.commissionRate}\r\n                  </p>\r\n                </div>\r\n                <div className=\"pt-2 border-t border-green-200\">\r\n                  <p className=\"text-xs text-gray-600\">Annual Savings</p>\r\n                  <p className=\"text-lg font-bold text-green-600\">\r\n                    R{(subscription.roi.monthlyROI * 12).toLocaleString()}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* AI Insight */}\r\n        {insight.type === 'wow_positive' && (\r\n          <div className=\"bg-gradient-to-r from-yellow-50 to-orange-50 border-l-4 border-brand-orange p-4 rounded mb-6\">\r\n            <div className=\"flex items-start gap-3\">\r\n              <span className=\"text-2xl\">ðŸŽ‰</span>\r\n              <div>\r\n                <p className=\"font-semibold text-gray-800\">{insight.message}</p>\r\n                <p className=\"text-sm text-gray-600 mt-1\">\r\n                  Your current plan is paying for itself and generating profit!\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Action Buttons */}\r\n        <div className=\"flex gap-4 pt-6 border-t border-gray-200\">\r\n          <button\r\n            onClick={() => onChangePlan?.()}\r\n            className=\"flex-1 py-3 bg-brand-orange text-white rounded-lg font-semibold hover:bg-orange-600 transition flex items-center justify-center gap-2\"\r\n          >\r\n            <ChevronRight size={18} />\r\n            Change Plan\r\n          </button>\r\n          <button\r\n            onClick={() => onCancelSubscription?.()}\r\n            className=\"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition\"\r\n          >\r\n            Pause Subscription\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Features Overview */}\r\n      <div className=\"bg-white rounded-xl border border-gray-200 p-8\">\r\n        <h3 className=\"text-2xl font-bold text-brand-brown mb-6\">Your Features</h3>\r\n        \r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          <div>\r\n            <p className=\"text-sm font-semibold text-gray-600 uppercase mb-3\">Listings & Properties</p>\r\n            <ul className=\"space-y-2\">\r\n              <li className=\"flex items-center gap-2 text-gray-700\">\r\n                <CheckCircle size={16} className=\"text-green-500\" />\r\n                <span>\r\n                  {subscription.features.listings === 'unlimited' ? 'Unlimited' : subscription.features.listings} active listings\r\n                </span>\r\n              </li>\r\n              <li className=\"flex items-center gap-2 text-gray-700\">\r\n                <CheckCircle size={16} className=\"text-green-500\" />\r\n                <span>{subscription.features.automationRules || 0} automation rules</span>\r\n              </li>\r\n              {subscription.features.customBranding && (\r\n                <li className=\"flex items-center gap-2 text-gray-700\">\r\n                  <CheckCircle size={16} className=\"text-green-500\" />\r\n                  <span>Custom branding</span>\r\n                </li>\r\n              )}\r\n            </ul>\r\n          </div>\r\n\r\n          <div>\r\n            <p className=\"text-sm font-semibold text-gray-600 uppercase mb-3\">Analytics & Insights</p>\r\n            <ul className=\"space-y-2\">\r\n              <li className=\"flex items-center gap-2 text-gray-700\">\r\n                <CheckCircle size={16} className=\"text-green-500\" />\r\n                <span>Real-time analytics</span>\r\n              </li>\r\n              <li className=\"flex items-center gap-2 text-gray-700\">\r\n                <CheckCircle size={16} className=\"text-green-500\" />\r\n                <span>Weekly performance reports</span>\r\n              </li>\r\n              {subscription.features.competitorBenchmarking && (\r\n                <li className=\"flex items-center gap-2 text-gray-700\">\r\n                  <CheckCircle size={16} className=\"text-green-500\" />\r\n                  <span>Competitor benchmarking</span>\r\n                </li>\r\n              )}\r\n              {subscription.features.advancedPricingTools && (\r\n                <li className=\"flex items-center gap-2 text-gray-700\">\r\n                  <CheckCircle size={16} className=\"text-green-500\" />\r\n                  <span>Dynamic pricing engine</span>\r\n                </li>\r\n              )}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Billing History */}\r\n      <div className=\"bg-white rounded-xl border border-gray-200 overflow-hidden\">\r\n        <div className=\"p-8 border-b border-gray-200\">\r\n          <h3 className=\"text-2xl font-bold text-brand-brown\">Billing History</h3>\r\n        </div>\r\n        \r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full\">\r\n            <thead className=\"bg-gray-50 border-b border-gray-200\">\r\n              <tr>\r\n                <th className=\"px-8 py-4 text-left font-semibold text-gray-700\">Date</th>\r\n                <th className=\"px-8 py-4 text-left font-semibold text-gray-700\">Description</th>\r\n                <th className=\"px-8 py-4 text-left font-semibold text-gray-700\">Amount</th>\r\n                <th className=\"px-8 py-4 text-left font-semibold text-gray-700\">Status</th>\r\n                <th className=\"px-8 py-4 text-left font-semibold text-gray-700\">Invoice</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {billingHistory.map((invoice) => (\r\n                <tr key={invoice.id} className=\"border-b border-gray-200 hover:bg-gray-50 transition\">\r\n                  <td className=\"px-8 py-4 text-gray-700\">\r\n                    {invoice.date.toLocaleDateString()}\r\n                  </td>\r\n                  <td className=\"px-8 py-4 text-gray-700\">{invoice.description}</td>\r\n                  <td className=\"px-8 py-4 font-semibold text-gray-800\">\r\n                    R{invoice.amount.toLocaleString()}\r\n                  </td>\r\n                  <td className=\"px-8 py-4\">\r\n                    <span className={`px-3 py-1 rounded-full text-xs font-semibold ${\r\n                      invoice.status === 'paid'\r\n                        ? 'bg-green-100 text-green-700'\r\n                        : 'bg-yellow-100 text-yellow-700'\r\n                    }`}>\r\n                      {invoice.status === 'paid' ? 'âœ“ Paid' : 'Pending'}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-8 py-4\">\r\n                    <button\r\n                      onClick={() => handleDownloadInvoice(invoice.id)}\r\n                      className=\"flex items-center gap-2 text-brand-orange hover:text-orange-600 transition font-semibold\"\r\n                    >\r\n                      <Download size={16} />\r\n                      Download\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        {billingHistory.length === 0 && (\r\n          <div className=\"p-8 text-center text-gray-500\">\r\n            No billing history yet\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Payment Method */}\r\n      <div className=\"bg-white rounded-xl border border-gray-200 p-8\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h3 className=\"text-xl font-bold text-brand-brown\">Payment Method</h3>\r\n          <button className=\"text-brand-orange hover:text-orange-600 font-semibold transition\">\r\n            Update\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"flex items-center gap-4 p-4 bg-gray-50 rounded-lg\">\r\n          <CreditCard className=\"text-gray-400\" size={32} />\r\n          <div>\r\n            <p className=\"font-semibold text-gray-800\">Visa ending in 4242</p>\r\n            <p className=\"text-sm text-gray-600\">Expires 12/25</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* FAQ / Help */}\r\n      <div className=\"bg-blue-50 border border-blue-200 rounded-xl p-8\">\r\n        <h3 className=\"text-lg font-bold text-blue-900 mb-4\">Need Help?</h3>\r\n        <ul className=\"space-y-2 text-blue-800\">\r\n          <li>â€¢ Visit our <a href=\"#\" className=\"underline font-semibold hover:text-blue-600\">subscription FAQ</a></li>\r\n          <li>â€¢ <a href=\"#\" className=\"underline font-semibold hover:text-blue-600\">Chat with support</a> - Available 24/7</li>\r\n          <li>â€¢ <a href=\"#\" className=\"underline font-semibold hover:text-blue-600\">View pricing details</a></li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport SubscriptionSelector from '../components/SubscriptionSelector.jsx';\r\nimport SubscriptionManagement from '../components/SubscriptionManagement.jsx';\r\n\r\n/**\r\n * Subscription Tiers Page\r\n * Complete subscription management interface with intelligent ROI recommendations\r\n */\r\nexport default function SubscriptionTiers() {\r\n  const [currentPlan, setCurrentPlan] = useState('free');\r\n  const [monthlyRevenue, setMonthlyRevenue] = useState(10000);\r\n  const [activeTab, setActiveTab] = useState('plans'); // 'plans' or 'manage'\r\n  const [partnerId] = useState('PARTNER_001'); // In real app, get from auth\r\n\r\n  const handleSelectPlan = (planId) => {\r\n    // In real app, initiate payment flow\r\n    setCurrentPlan(planId);\r\n  };\r\n\r\n  const handleChangePlan = () => {\r\n    setActiveTab('plans');\r\n  };\r\n\r\n  const handleCancelSubscription = () => {\r\n    // In real app, trigger cancel flow with confirmation\r\n    alert('Subscription pause/cancel - would trigger payment flow');\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-cream-50 via-white to-cream-100\">\r\n      {/* Header */}\r\n      <div className=\"bg-brand-brown text-white py-12 px-4 sm:px-6\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n          <h1 className=\"text-4xl font-bold mb-4\">Subscription Plans</h1>\r\n          <p className=\"text-lg text-orange-100\">\r\n            Choose the plan that fits your business. Start free, upgrade as you grow.\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tab Navigation */}\r\n      <div className=\"bg-white border-b border-gray-200 sticky top-0 z-10\">\r\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6\">\r\n          <div className=\"flex gap-8\">\r\n            <button\r\n              onClick={() => setActiveTab('plans')}\r\n              className={`py-4 px-2 font-semibold border-b-2 transition ${\r\n                activeTab === 'plans'\r\n                  ? 'border-brand-orange text-brand-orange'\r\n                  : 'border-transparent text-gray-600 hover:text-gray-800'\r\n              }`}\r\n            >\r\n              Browse Plans\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('manage')}\r\n              className={`py-4 px-2 font-semibold border-b-2 transition ${\r\n                activeTab === 'manage'\r\n                  ? 'border-brand-orange text-brand-orange'\r\n                  : 'border-transparent text-gray-600 hover:text-gray-800'\r\n              }`}\r\n            >\r\n              Manage Subscription\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div className=\"max-w-6xl mx-auto px-4 sm:px-6 py-12\">\r\n        {activeTab === 'plans' && (\r\n          <div>\r\n            {/* Revenue Input Section */}\r\n            <div className=\"mb-12 max-w-2xl mx-auto\">\r\n              <div className=\"bg-white rounded-xl border-2 border-brand-orange shadow-lg p-8\">\r\n                <h2 className=\"text-2xl font-bold text-brand-brown mb-4\">\r\n                  Your Estimated Monthly Revenue\r\n                </h2>\r\n                <p className=\"text-gray-600 mb-6\">\r\n                  Help us recommend the perfect plan by entering your typical monthly revenue. We&apos;ll calculate your exact ROI.\r\n                </p>\r\n                \r\n                <div className=\"flex items-center gap-4\">\r\n                  <label className=\"text-lg font-semibold text-gray-700\">R</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={monthlyRevenue}\r\n                    onChange={(e) => setMonthlyRevenue(Number(e.target.value))}\r\n                    placeholder=\"Enter your monthly revenue\"\r\n                    className=\"flex-1 px-6 py-4 text-lg border-2 border-gray-300 rounded-lg focus:outline-none focus:border-brand-orange focus:ring-2 focus:ring-orange-100 transition\"\r\n                  />\r\n                  <span className=\"text-gray-600 text-sm\">/month</span>\r\n                </div>\r\n                \r\n                <p className=\"text-xs text-gray-500 mt-4\">\r\n                  ðŸ’¡ This helps us show you accurate ROI calculations for each plan. Your data is private and never shared.\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Plan Selector */}\r\n            <SubscriptionSelector\r\n              partnerId={partnerId}\r\n              currentPlan={currentPlan}\r\n              monthlyRevenue={monthlyRevenue}\r\n              onSelectPlan={handleSelectPlan}\r\n              showROI={true}\r\n            />\r\n\r\n            {/* FAQ Section */}\r\n            <div className=\"mt-16 max-w-4xl mx-auto\">\r\n              <h2 className=\"text-3xl font-bold text-brand-brown mb-8\">Frequently Asked Questions</h2>\r\n              \r\n              <div className=\"space-y-4\">\r\n                {faqItems.map((item, idx) => (\r\n                  <FAQItem key={idx} {...item} />\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'manage' && (\r\n          <div>\r\n            <SubscriptionManagement\r\n              partnerId={partnerId}\r\n              currentPlan={currentPlan}\r\n              monthlyRevenue={monthlyRevenue}\r\n              onChangePlan={handleChangePlan}\r\n              onCancelSubscription={handleCancelSubscription}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Footer CTA */}\r\n      {activeTab === 'plans' && (\r\n        <div className=\"bg-brand-brown text-white py-12 px-4 sm:px-6 mt-16\">\r\n          <div className=\"max-w-4xl mx-auto text-center\">\r\n            <h2 className=\"text-3xl font-bold mb-4\">Ready to scale your business?</h2>\r\n            <p className=\"text-lg text-orange-100 mb-8\">\r\n              Join hundreds of partners already using CollEco to maximize their revenue\r\n            </p>\r\n            <div className=\"flex gap-4 justify-center flex-wrap\">\r\n              <button className=\"px-8 py-4 bg-white text-brand-brown font-bold rounded-lg hover:bg-gray-100 transition\">\r\n                Start Free Trial\r\n              </button>\r\n              <button className=\"px-8 py-4 bg-brand-orange text-white font-bold rounded-lg hover:bg-orange-600 transition\">\r\n                Talk to Sales\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n/**\r\n * FAQ Item Component\r\n */\r\nfunction FAQItem({ question, answer }) {\r\n  const [isOpen, setIsOpen] = React.useState(false);\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition\">\r\n      <button\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className=\"w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition\"\r\n      >\r\n        <h3 className=\"text-left font-semibold text-gray-800\">{question}</h3>\r\n        <span className={`text-brand-orange transition ${isOpen ? 'rotate-180' : ''}`}>\r\n          â–¼\r\n        </span>\r\n      </button>\r\n      \r\n      {isOpen && (\r\n        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200 text-gray-700\">\r\n          {answer}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n/**\r\n * FAQ Items\r\n */\r\nconst faqItems = [\r\n  {\r\n    question: 'Can I change my plan anytime?',\r\n    answer: 'Yes! You can upgrade or downgrade your plan at any time. Changes take effect on your next billing cycle. If you upgrade mid-cycle, we\\'ll prorate the difference.',\r\n  },\r\n  {\r\n    question: 'What if my revenue drops after upgrading?',\r\n    answer: 'No problem! You can downgrade anytime. We recommend staying on the plan that matches your actual revenue, as the commission savings often outweigh the subscription cost.',\r\n  },\r\n  {\r\n    question: 'Is there a long-term commitment?',\r\n    answer: 'No long-term contracts. All plans are month-to-month. However, Enterprise plans may include custom terms - contact our sales team for details.',\r\n  },\r\n  {\r\n    question: 'What\\'s the \"WOW\" insight about?',\r\n    answer: 'We calculate exactly when a plan upgrade pays for itself through commission savings. If it shows green, upgrading makes financial sense immediately. Our AI recommends the optimal plan for YOUR revenue level.',\r\n  },\r\n  {\r\n    question: 'Do you offer annual billing discounts?',\r\n    answer: 'Yes! Annual billing saves you 20% compared to monthly. You can switch to annual at any time, and we\\'ll credit any unused time from your current month.',\r\n  },\r\n  {\r\n    question: 'What support do I get on each plan?',\r\n    answer: 'Free: Community support. Starter: Email support. Pro: Priority email & chat. Enterprise: Dedicated account manager with 24/7 phone support.',\r\n  },\r\n  {\r\n    question: 'How are commissions calculated?',\r\n    answer: 'Commissions are calculated as a percentage of confirmed bookings. Your commission rate depends on your subscription plan (8-20%). Bonuses apply when you hit performance targets.',\r\n  },\r\n  {\r\n    question: 'What if I go over my plan limits?',\r\n    answer: 'Your plan scales with your business. If you exceed listing limits or need more features, we\\'ll suggest an upgrade. No surprise charges - you stay on your current plan unless you choose to upgrade.',\r\n  },\r\n];\r\n"],"names":["useState","useMemo","jsxs","jsx","useCallback","useEffect"],"mappings":"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"}