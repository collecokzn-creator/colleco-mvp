{"version":3,"file":"WorkflowPanel-DczOhPSj.js","sources":["../../src/components/WorkflowPanel.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n/**\r\n * WorkflowPanel - Shows contextual next steps and related pages\r\n * Helps users understand the ecosystem and navigate the workflow\r\n */\r\nexport default function WorkflowPanel({ currentPage, basketCount = 0, hasItinerary = false, hasQuote = false }) {\r\n  \r\n  // Define workflow steps for each page\r\n  const workflows = {\r\n    'plan-trip': {\r\n      title: 'ðŸ“‹ Your Planning Workflow',\r\n      description: 'Add items to your basket, then generate a quote or itinerary',\r\n      steps: [\r\n        { \r\n          label: basketCount > 0 ? `âœ“ Basket (${basketCount} items)` : 'Add items to basket',\r\n          status: basketCount > 0 ? 'complete' : 'pending',\r\n          hint: 'Browse and add activities, accommodation, transport'\r\n        },\r\n        {\r\n          label: 'Generate Quote',\r\n          link: '/quotes',\r\n          status: basketCount > 0 ? 'ready' : 'locked',\r\n          hint: 'Create a professional quote from basket items'\r\n        },\r\n        {\r\n          label: 'Build Itinerary',\r\n          link: '/itinerary',\r\n          status: basketCount > 0 ? 'ready' : 'locked',\r\n          hint: 'Organize items into a day-by-day plan'\r\n        },\r\n        {\r\n          label: 'Payment & Booking',\r\n          link: '/bookings',\r\n          status: 'available',\r\n          hint: 'Review and confirm your selections'\r\n        }\r\n      ],\r\n      quickLinks: [\r\n        { label: 'âœ¨ Trip Assist (AI)', link: '/ai', description: 'Generate itinerary from description' },\r\n        { label: 'ðŸ“¦ View Basket', link: '/plan-trip', description: `${basketCount} items ready` },\r\n        { label: 'ðŸ’¬ Contact Product Owner', action: 'contactProductOwner', description: 'Message product owner in-app' }\r\n      ]\r\n    },\r\n    \r\n    'itinerary': {\r\n      title: 'ðŸ—“ï¸ Itinerary Workflow',\r\n      description: 'Organize your trip day-by-day, then generate quotes or book',\r\n      steps: [\r\n        {\r\n          label: hasItinerary ? 'âœ“ Days Organized' : 'Add items to days',\r\n          status: hasItinerary ? 'complete' : 'pending',\r\n          hint: 'Drag items from basket into day plan'\r\n        },\r\n        {\r\n          label: 'Generate Quote',\r\n          link: '/quotes',\r\n          status: hasItinerary ? 'ready' : 'available',\r\n          hint: 'Create quote from itinerary items'\r\n        },\r\n        {\r\n          label: 'Review & Book',\r\n          link: '/bookings',\r\n          status: 'available',\r\n          hint: 'Confirm and pay for your trip'\r\n        }\r\n      ],\r\n      quickLinks: [\r\n        { label: 'ðŸ›ï¸ Add More Items', link: '/plan-trip', description: 'Browse catalog' },\r\n        { label: 'âœ¨ AI Generator', link: '/ai', description: 'Generate new draft' },\r\n        { label: 'ðŸ“„ Export PDF', action: 'export', description: 'Download itinerary' },\r\n        { label: 'ðŸ’¬ Contact Product Owner', action: 'contactProductOwner', description: 'Message product owner in-app' }\r\n      ]\r\n    },\r\n    \r\n    'ai': {\r\n      title: 'âœ¨ AI Trip Assist Workflow',\r\n      description: 'Generate itinerary from description, refine, then import to planner',\r\n      steps: [\r\n        {\r\n          label: 'Describe Trip',\r\n          status: 'active',\r\n          hint: 'Enter destination, dates, budget, interests'\r\n        },\r\n        {\r\n          label: 'Review AI Draft',\r\n          status: 'available',\r\n          hint: 'Check generated itinerary and pricing'\r\n        },\r\n        {\r\n          label: 'Import to Itinerary',\r\n          link: '/itinerary',\r\n          status: 'available',\r\n          hint: 'Move draft into your day planner'\r\n        },\r\n        {\r\n          label: 'Add/Refine Items',\r\n          link: '/plan-trip',\r\n          status: 'available',\r\n          hint: 'Browse catalog to enhance plan'\r\n        }\r\n      ],\r\n      quickLinks: [\r\n        { label: 'ðŸ—“ï¸ My Itinerary', link: '/itinerary', description: 'View current plan' },\r\n        { label: 'ðŸ›ï¸ Browse Catalog', link: '/plan-trip', description: 'Add specific items' }\r\n      ]\r\n    },\r\n    \r\n    'quotes': {\r\n      title: 'ðŸ’° Quote Workflow',\r\n      description: 'Generate professional quotes from basket or itinerary',\r\n      steps: [\r\n        {\r\n          label: 'Select Items',\r\n          link: '/plan-trip',\r\n          status: basketCount > 0 ? 'complete' : 'pending',\r\n          hint: 'Add paid items to basket'\r\n        },\r\n        {\r\n          label: hasQuote ? 'âœ“ Quote Generated' : 'Generate Quote',\r\n          status: hasQuote ? 'complete' : 'available',\r\n          hint: 'Create proposal with pricing'\r\n        },\r\n        {\r\n          label: 'Share with Client',\r\n          status: 'available',\r\n          hint: 'Send quote via email or link'\r\n        },\r\n        {\r\n          label: 'Convert to Booking',\r\n          link: '/bookings',\r\n          status: hasQuote ? 'ready' : 'locked',\r\n          hint: 'Proceed to payment'\r\n        }\r\n      ],\r\n      quickLinks: [\r\n        { label: 'ðŸ›ï¸ Edit Basket', link: '/plan-trip', description: 'Modify items' },\r\n        { label: 'ðŸ—“ï¸ View Itinerary', link: '/itinerary', description: 'See day plan' }\r\n      ]\r\n    },\r\n    \r\n    'bookings': {\r\n      title: 'ðŸ“‹ Booking Workflow',\r\n      description: 'Review selections, pay, and confirm your trip',\r\n      steps: [\r\n        {\r\n          label: 'Review Items',\r\n          status: 'active',\r\n          hint: 'Check all bookings and pricing'\r\n        },\r\n        {\r\n          label: 'Process Payment',\r\n          status: 'available',\r\n          hint: 'Secure payment via Stripe'\r\n        },\r\n        {\r\n          label: 'Confirmation',\r\n          status: 'available',\r\n          hint: 'Receive booking confirmations'\r\n        },\r\n        {\r\n          label: 'Trip Ready',\r\n          link: '/itinerary',\r\n          status: 'available',\r\n          hint: 'View final itinerary'\r\n        }\r\n      ],\r\n      quickLinks: [\r\n        { label: 'ðŸ—“ï¸ My Itinerary', link: '/itinerary', description: 'View day plan' },\r\n        { label: 'ðŸ›ï¸ Add Items', link: '/plan-trip', description: 'Browse more' },\r\n        { label: 'ðŸ’° View Quote', link: '/quotes', description: 'Generate proposal' },\r\n        { label: 'ðŸ’¬ Contact Product Owner', action: 'contactProductOwner', description: 'Message product owner in-app' }\r\n      ]\r\n    }\r\n  };\r\n  \r\n  const workflow = workflows[currentPage];\r\n  if (!workflow) return null;\r\n  \r\n  const getStatusColor = (status) => {\r\n    if (status === 'complete') return 'bg-green-50 border-green-200 text-green-700';\r\n    if (status === 'active') return 'bg-blue-50 border-blue-200 text-blue-700';\r\n    if (status === 'ready') return 'bg-orange-50 border-brand-orange/30 text-brand-orange';\r\n    if (status === 'locked') return 'bg-gray-50 border-gray-200 text-gray-400';\r\n    return 'bg-cream-sand border-cream-border text-brand-brown';\r\n  };\r\n  \r\n  const getStatusIcon = (status) => {\r\n    if (status === 'complete') return 'âœ“';\r\n    if (status === 'active') return 'â†’';\r\n    if (status === 'ready') return '!';\r\n    if (status === 'locked') return 'ðŸ”’';\r\n    return 'â—‹';\r\n  };\r\n  \r\n  return (\r\n    <div className=\"bg-gradient-to-br from-cream to-cream-sand border border-cream-border rounded-lg p-4 shadow-sm\">\r\n      <h3 className=\"text-base font-bold text-brand-brown mb-1 flex items-center gap-2\">\r\n        {workflow.title}\r\n      </h3>\r\n      <p className=\"text-xs text-brand-brown/70 mb-3\">{workflow.description}</p>\r\n      \r\n      {/* Workflow Steps */}\r\n      <div className=\"space-y-2 mb-4\">\r\n        {workflow.steps.map((step, idx) => {\r\n          const Wrapper = step.link && step.status !== 'locked' ? Link : 'div';\r\n          const wrapperProps = step.link && step.status !== 'locked' \r\n            ? { to: step.link, className: 'block' }\r\n            : { className: 'block' };\r\n            \r\n          return (\r\n            <Wrapper key={idx} {...wrapperProps}>\r\n              <div className={`px-3 py-2 rounded border text-xs flex items-center gap-2 transition ${getStatusColor(step.status)} ${step.link && step.status !== 'locked' ? 'hover:shadow-sm cursor-pointer' : ''}`}>\r\n                <span className=\"font-bold w-4 text-center\">{getStatusIcon(step.status)}</span>\r\n                <div className=\"flex-1\">\r\n                  <div className=\"font-semibold\">{step.label}</div>\r\n                  <div className={`text-[10px] ${step.status === 'locked' ? 'text-gray-400' : 'opacity-70'}`}>{step.hint}</div>\r\n                </div>\r\n                {step.link && step.status !== 'locked' && (\r\n                  <svg className=\"w-4 h-4 opacity-50\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n                  </svg>\r\n                )}\r\n              </div>\r\n            </Wrapper>\r\n          );\r\n        })}\r\n      </div>\r\n      \r\n      {/* Quick Links */}\r\n      <div className=\"border-t border-cream-border pt-3\">\r\n        <div className=\"text-[10px] font-semibold text-brand-brown/60 uppercase tracking-wide mb-2\">Quick Navigation</div>\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          {workflow.quickLinks.map((link, idx) => (\r\n            link.link ? (\r\n              <Link\r\n                key={idx}\r\n                to={link.link}\r\n                className=\"inline-flex items-center gap-1 px-2 py-1 rounded bg-white border border-cream-border text-[11px] text-brand-brown hover:bg-brand-orange hover:text-white hover:border-brand-orange transition\"\r\n                title={link.description}\r\n              >\r\n                <span>{link.label}</span>\r\n              </Link>\r\n            ) : (\r\n              <button\r\n                key={idx}\r\n                onClick={() => {\r\n                  if (link.action === 'contactProductOwner') {\r\n                    // TODO: Trigger in-app chat/modal for product owner contact\r\n                    window.dispatchEvent(new CustomEvent('openProductOwnerChat'));\r\n                  } else if (typeof link.action === 'function') {\r\n                    link.action();\r\n                  }\r\n                }}\r\n                className=\"inline-flex items-center gap-1 px-2 py-1 rounded bg-white border border-cream-border text-[11px] text-brand-brown hover:bg-brand-orange hover:text-white hover:border-brand-orange transition\"\r\n                title={link.description}\r\n              >\r\n                <span>{link.label}</span>\r\n              </button>\r\n            )\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["jsxs","jsx"],"mappings":"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"}