{"version":3,"file":"useTripState-BYDoCob1.js","sources":["../../src/components/ui/LiveTripProgress.jsx","../../src/utils/useTripState.js"],"sourcesContent":["import React from \"react\";\r\n\r\nexport default function LiveTripProgress({ steps = [] }) {\r\n  // steps: [{ label: string, done: boolean }]\r\n  return (\r\n    <div className=\"rounded border border-cream-border bg-cream p-3 text-brand-brown\">\r\n      <div className=\"font-semibold mb-2\">Trip Progress</div>\r\n      <ul className=\"space-y-1 text-sm\">\r\n        {steps.map((s, i) => (\r\n          <li key={i} className=\"flex items-center gap-2\">\r\n            <span className={`inline-block h-2.5 w-2.5 rounded-full ${s.done ? \"bg-emerald-500\" : \"bg-brand-orange\"}`} />\r\n            <span className={s.done ? \"text-brand-brown\" : \"text-brand-brown/80\"}>{s.label}</span>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      <p className=\"text-[11px] text-brand-brown/60 mt-2\">Auto-updates as you add quotes, plan days, and confirm bookings.</p>\r\n    </div>\r\n  );\r\n}\r\n","import { useLocalStorageState } from \"../useLocalStorageState\";\r\n\r\nexport function useTripState() {\r\n  return useLocalStorageState(\"trip\", { days: {}, memories: {} });\r\n}\r\n\r\nexport function addItemToDay(trip, day, item) {\r\n  const d = String(day);\r\n  const current = trip.days[d] || [];\r\n  // avoid duplicates by id if present\r\n  if (item?.id && current.some((x) => x.id === item.id)) return trip;\r\n  const next = { ...trip, days: { ...trip.days, [d]: [...current, item] } };\r\n  return next;\r\n}\r\n\r\nexport function removeItemFromDay(trip, day, itemId) {\r\n  const d = String(day);\r\n  const current = trip.days[d] || [];\r\n  const next = { ...trip, days: { ...trip.days, [d]: current.filter((x) => x.id !== itemId) } };\r\n  return next;\r\n}\r\n\r\nexport function setMemory(trip, day, text) {\r\n  const d = String(day);\r\n  return { ...trip, memories: { ...trip.memories, [d]: text } };\r\n}\r\n\r\nexport function computeProgress(trip, selectionCount = 0) {\r\n  const hasItineraryItems = Object.values(trip?.days || {}).some((arr) => arr && arr.length > 0);\r\n  return [\r\n    { label: \"Select products (Basket)\", done: selectionCount > 0 },\r\n    { label: \"Draft itinerary\", done: hasItineraryItems },\r\n    { label: \"Confirm bookings & pay\", done: false },\r\n  ];\r\n}\r\n"],"names":["jsxs","jsx"],"mappings":";;AAEA,SAAwB,iBAAiB,EAAE,QAAQ,CAAA,KAAM;AAEvD,SACEA,kCAAAA,KAAC,OAAA,EAAI,WAAU,oEACb,UAAA;AAAA,IAAAC,kCAAAA,IAAC,OAAA,EAAI,WAAU,sBAAqB,UAAA,iBAAa;AAAA,IACjDA,kCAAAA,IAAC,MAAA,EAAG,WAAU,qBACX,UAAA,MAAM,IAAI,CAAC,GAAG,MACbD,kCAAAA,KAAC,MAAA,EAAW,WAAU,2BACpB,UAAA;AAAA,MAAAC,kCAAAA,IAAC,UAAK,WAAW,yCAAyC,EAAE,OAAO,mBAAmB,iBAAiB,IAAI;AAAA,MAC3GA,kCAAAA,IAAC,UAAK,WAAW,EAAE,OAAO,qBAAqB,uBAAwB,YAAE,MAAA,CAAM;AAAA,IAAA,KAFxE,CAGT,CACD,GACH;AAAA,IACAA,kCAAAA,IAAC,KAAA,EAAE,WAAU,wCAAuC,UAAA,mEAAA,CAAgE;AAAA,EAAA,GACtH;AAEJ;AChBO,SAAS,eAAe;AAC7B,SAAO,qBAAqB,QAAQ,EAAE,MAAM,CAAA,GAAI,UAAU,CAAA,EAAE,CAAE;AAChE;AAkBO,SAAS,UAAU,MAAM,KAAK,MAAM;AACzC,QAAM,IAAI,OAAO,GAAG;AACpB,SAAO,EAAE,GAAG,MAAM,UAAU,EAAE,GAAG,KAAK,UAAU,CAAC,CAAC,GAAG,KAAI;AAC3D;AAEO,SAAS,gBAAgB,MAAM,iBAAiB,GAAG;AACxD,QAAM,oBAAoB,OAAO,OAAO,MAAM,QAAQ,CAAA,CAAE,EAAE,KAAK,CAAC,QAAQ,OAAO,IAAI,SAAS,CAAC;AAC7F,SAAO;AAAA,IACL,EAAE,OAAO,4BAA4B,MAAM,iBAAiB,EAAC;AAAA,IAC7D,EAAE,OAAO,mBAAmB,MAAM,kBAAiB;AAAA,IACnD,EAAE,OAAO,0BAA0B,MAAM,MAAK;AAAA,EAClD;AACA;"}