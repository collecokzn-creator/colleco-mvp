import{r as a,j as s,L as d}from"./index-E_l07fEO.js";import{a as l,g as x}from"./payments-Crek84YA.js";function h(){const n=new URLSearchParams(window.location.search).get("sessionId"),[r,o]=a.useState("processing"),[e,i]=a.useState(null);a.useEffect(()=>{if(!n){o("error");return}const t=l(n)||x(n);t?(i(t),o("ok")):o("error")},[n]);const c=a.useMemo(()=>e?.amount?.toFixed(2),[e]);return s.jsxs("div",{className:"px-6 py-8 text-brand-brown",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Payment success"}),r==="processing"&&s.jsx("p",{className:"text-brand-brown/80",children:"Finalizing your payment…"}),r==="ok"&&s.jsxs("div",{className:"bg-cream-sand p-4 border border-cream-border rounded",children:[s.jsx("div",{className:"font-semibold mb-1",children:"Thank you! Your payment is confirmed."}),s.jsxs("div",{className:"text-sm text-brand-brown/80",children:["Reference: ",e?.id]}),s.jsxs("div",{className:"text-sm text-brand-brown/80",children:["Amount paid: ",c," ",e?.currency]}),e?.items?.length?s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"text-sm font-semibold mb-1",children:"Summary"}),s.jsx("ul",{className:"text-sm list-disc list-inside",children:e.items.map((t,m)=>s.jsxs("li",{children:[t.name," — $",Number(t.amount||0).toFixed(2)]},m))})]}):null,s.jsx("div",{className:"mt-4",children:s.jsx(d,{to:"/bookings",className:"px-3 py-2 bg-brand-orange text-white rounded",children:"Back to Bookings"})})]}),r==="error"&&s.jsx("p",{className:"text-red-600",children:"We couldn't find your session."})]})}export{h as default};
