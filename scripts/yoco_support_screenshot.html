<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Yoco Support — Webhook Registration Error</title>
  <style>
    body { font-family: Inter, Roboto, Arial, sans-serif; background:#f3f4f6; color:#111827; padding:28px; }
    .card { max-width:900px; margin:0 auto; background:#fff; border-radius:10px; box-shadow:0 6px 20px rgba(2,6,23,0.08); padding:22px; }
    h1 { margin:0 0 6px; font-size:20px; }
    p { margin:6px 0 12px; color:#374151; }
    .badge { display:inline-block; background:#fde68a; color:#92400e; padding:6px 10px; border-radius:999px; font-weight:600; font-size:12px; }
    pre { background:#0f172a; color:#e6eef8; padding:12px; border-radius:8px; overflow:auto; font-size:13px; line-height:1.45 }
    .muted { color:#6b7280; font-size:13px }
    .row { display:flex; gap:14px; flex-wrap:wrap }
    .col { flex:1 1 320px }
    footer { margin-top:14px; font-size:13px; color:#6b7280 }
    .callout { background:#ecfeff; border-left:4px solid #0891b2; padding:10px 12px; border-radius:6px; color:#064e56 }
  </style>
</head>
<body>
  <div class="card">
    <h1>Yoco webhook registration error — ready for screenshot</h1>
    <p class="muted">Use this page as the screenshot to share with Yoco support. It contains the provider response and a public test log showing the signed webhook reached the local server via ngrok (no secrets included).</p>

    <div class="row">
      <div class="col">
        <div class="badge">Provider response</div>
        <pre id="response">{
  "type" : "fatal",
  "code" : "subscription_limit_exceeded",
  "description" : "Your business has reached the maximum number of allowed subscriptions."
}</pre>
        <p class="muted">Context: This JSON was returned by Yoco when calling <code>POST /api/webhooks</code> to register the webhook.</p>
      </div>

      <div class="col">
        <div class="badge">Public test</div>
        <pre id="public-test">[public-tester] Posting signed webhook to https://cordately-uriniferous-tiara.ngrok-free.dev/api/webhooks/yoco
[webhook] Yoco webhook received: {
  eventType: 'checkout.paid',
  checkoutId: undefined,
  ip: '41.193.244.216'
}
[webhook] Yoco: booking not found TESTBOOKING_PUBLIC
[public-tester] HTTP status: 200
[public-tester] Response body: {"ok":true}</pre>
        <p class="muted">Note: this proves the public URL was reachable and the server accepted a signed test webhook.</p>
      </div>
    </div>

    <section style="margin-top:10px">
      <div class="callout">Suggestion for Yoco support: Please check the merchant/account quota for webhook subscriptions (error code <strong>subscription_limit_exceeded</strong>). The API key used for the request corresponds to our merchant. If you need a copy of the registration request or merchant identifier, we can provide it to you securely.</div>
    </section>

    <section style="margin-top:14px">
      <h2 style="font-size:15px; margin-bottom:6px">How to capture the screenshot</h2>
      <ol>
        <li>Open this file in your browser: <code>scripts/yoco_support_screenshot.html</code></li>
        <li>Make sure the browser window shows the whole white card (use zoom out if necessary)</li>
        <li>Take a screenshot (Windows: <kbd>Win</kbd>+<kbd>Shift</kbd>+<kbd>S</kbd> — then paste in the support form; or use your normal screenshot tool)</li>
      </ol>
      <p class="muted">If you prefer, copy the JSON from the "Provider response" box and paste into a Yoco support ticket.</p>
    </section>

    <footer>
      Generated by the repo tooling — no secrets are shown here. If Yoco requests additional details (merchant id, full request headers) tell me and I will prepare them securely.
    </footer>
  </div>
</body>
</html>