@tailwind base;
@tailwind components;
@tailwind utilities;

/* Align base with brand palette to avoid dark edges peeking through */
body { @apply bg-cream text-brand-brown; }
html, body, #root { height: 100%; }
html, body { color-scheme: light; }

/* Header/banner/footer sizing variables to prevent overlap with fixed elements */
:root {
	--header-h: 4rem;        /* matches Navbar h-16 on mobile */
	--banner-h: 0px;         /* set dynamically when the top status bar is visible */
	--footer-h: 4.5rem;      /* approximate fixed footer height */
	--sticky-offset: calc(var(--header-h) + var(--banner-h));
}
@media (min-width: 640px) {
	:root { --header-h: 4.5rem; }  /* matches Navbar h-[4.5rem] on tablet+ */
}
@media (min-width: 1024px) {
	:root { --header-h: 4.5rem; }  /* keep consistent on desktop */
}

/* Reserve space for scrollbars to avoid overlay black lines on Windows */
html { overflow-y: scroll; }

/* Toast & subtle UI animations */
@media (prefers-reduced-motion: no-preference) {
	.toast-fade { animation: toastIn .35s ease-out; }
	@keyframes toastIn { 0% { opacity: 0; transform: translateY(6px);} 100% { opacity:1; transform: translateY(0);} }
}

/* Reduced motion: ensure no transform jerk */
@media (prefers-reduced-motion: reduce) {
	.toast-fade { transition: none; animation: none; }
}

/* Themed scrollbars (avoid dark/black lines) */
/* WebKit browsers (Chrome, Edge, Safari) */
*::-webkit-scrollbar { height: 8px; width: 8px; }
/* Match track color exactly to page background (#f9f6f2) to avoid a visible seam */
*::-webkit-scrollbar-track { background: transparent; }
*::-webkit-scrollbar-thumb {
	background-color: transparent; /* hidden by default */
	border-radius: 8px;
	border: 2px solid transparent; /* avoid visible seam on Windows */
}
/* Reveal thumb on container hover (desktop) */
*:hover::-webkit-scrollbar-thumb { background-color: rgba(0,0,0,0.06); }
*:hover::-webkit-scrollbar-thumb:hover { background-color: rgba(0,0,0,0.08); }
*::-webkit-scrollbar-corner { background: transparent; }

.sidebar-scroll {
	/* Hide cross-browser scrollbar visuals while preserving scroll functionality */
	scrollbar-width: none; /* Firefox */
	-ms-overflow-style: none; /* IE 10+ */
	scrollbar-color: transparent transparent;
	overscroll-behavior: contain;
}
.sidebar-scroll::-webkit-scrollbar {
	width: 0px;
	height: 0px;
}
.sidebar-scroll::-webkit-scrollbar-thumb { background: transparent; border: none; }
.sidebar-scroll::-webkit-scrollbar-track { background: transparent; }

/* Defensive: ensure sidebar border or shadow doesn't create a visible seam on scroll */
.sidebar-scroll { border-left-color: transparent; box-shadow: none; }

/* Defensive: ensure footer text remains readable on brand brown backgrounds */
footer.bg-brand-brown, footer[class*="bg-brand-brown"] {
	color: white !important;
}
